(function(e){function t(t){for(var o,n,i=t[0],l=t[1],c=t[2],u=0,_=[];u<i.length;u++)n=i[u],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&_.push(a[n][0]),a[n]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);d&&d(t);while(_.length)_.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],o=!0,i=1;i<r.length;i++){var l=r[i];0!==a[l]&&(o=!1)}o&&(s.splice(t--,1),e=n(n.s=r[0]))}return e}var o={},a={app:0},s=[];function n(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=o,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var d=l;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"02f04":function(e,t,r){"use strict";var o=r("c7a3"),a=r.n(o);a.a},"10fd":function(e,t,r){"use strict";var o=r("b3bf"),a=r.n(o);a.a},1412:function(e,t,r){},"149b":function(e,t,r){"use strict";var o=r("1412"),a=r.n(o);a.a},1589:function(e,t,r){"use strict";var o=r("9217"),a=r.n(o);a.a},1635:function(e,t,r){"use strict";var o=r("9d29"),a=r.n(o);a.a},"16b5":function(e,t,r){"use strict";var o=r("d9e7"),a=r.n(o);a.a},"18e1":function(e,t,r){"use strict";var o=r("adf7"),a=r.n(o);a.a},"1a1f":function(e,t,r){"use strict";var o=r("b2a6"),a=r.n(o);a.a},"1a8a":function(e,t,r){"use strict";var o=r("6fe7"),a=r.n(o);a.a},"1ebe":function(e,t,r){},"2dea":function(e,t,r){},"2f21":function(e,t,r){"use strict";var o=r("9bf5"),a=r.n(o);a.a},"3a9a":function(e,t,r){},"414f":function(e,t,r){"use strict";var o=r("b521"),a=r.n(o);a.a},4678:function(e,t,r){var o={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(e){var t=s(e);return r(t)}function s(e){if(!r.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}a.keys=function(){return Object.keys(o)},a.resolve=s,e.exports=a,a.id="4678"},"47bf":function(e,t,r){"use strict";var o=r("dbb47"),a=r.n(o);a.a},"4a95":function(e,t,r){},"4b50":function(e,t,r){e.exports=r.p+"img/loading.501ea02d.png"},"514a":function(e,t,r){},"52b7":function(e,t,r){"use strict";var o=r("8b38"),a=r.n(o);a.a},"56d7":function(e,t,r){"use strict";r.r(t);r("d3b7"),r("e260"),r("e6cf"),r("cca6"),r("a79d");var o=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{attrs:{id:"inspire"}},[r("Snackbar"),r("router-view")],1)},s=[],n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-snackbar",{attrs:{timeout:e.snackbar.timeout,right:"",color:e.color,"multi-line":!0===e.snackbar.multiline},model:{value:e.snackbar.value,callback:function(t){e.$set(e.snackbar,"value",t)},expression:"snackbar.value"}},[r("v-icon",{staticClass:"mr-3",attrs:{small:"",color:"white"}},[e._v(e._s(e.icon))]),r("span",[e._v(e._s(e.snackbar.message))]),r("v-btn",{staticClass:"c-icon-close",attrs:{text:"",icon:""},on:{click:e.CLOSE_SNCKBAR}},[r("v-icon",[e._v("fa-close")])],1)],1)},i=[],l=(r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("ade3")),c=r("2f62");function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _={data:function(){return{}},methods:u({},Object(c["c"])(["CLOSE_SNCKBAR"])),computed:u({},Object(c["b"])({snackbar:"snackbar"}),{icon:function(){return"success"==this.snackbar.status?"fa-check":"fa-warning"},color:function(){return"success"==this.snackbar.status?"green":""}})},m=_,v=(r("16b5"),r("2877")),p=r("6544"),f=r.n(p),h=r("8336"),g=r("132d"),b=r("2db4"),k=Object(v["a"])(m,n,i,!1,null,"8183b846",null),w=k.exports;f()(k,{VBtn:h["a"],VIcon:g["a"],VSnackbar:b["a"]});var y={components:{Snackbar:w}},x=y,C=r("7496"),O=Object(v["a"])(x,a,s,!1,null,null,null),D=O.exports;f()(O,{VApp:C["a"]});r("99af");var j=r("8c4f"),S=r("2909"),V=r("bc3a"),q=r.n(V),P={logout:function(e){var t=e.commit;t("RESET"),t("account/RESET",null,{root:!0}),t("reports/RESET",null,{root:!0}),t("equipments/RESET",null,{root:!0}),t("workorder/RESET",null,{root:!0})},login:function(e,t){var r=e.commit;return new Promise((function(e,o){var a="http://192.168.43.138:8000/api/";q.a.post(a+"account/login",t).then((function(t){r("SET_TOKEN",t.data.token),r("SET_USER",t.data.user),e(t.data.user)})).catch((function(e){o(e)}))}))}},T={user:function(e){return e.user},loggedIn:function(e){return e.loggedIn},token:function(e){return e.token},isAdministrator:function(e){return!!e.loggedIn&&"Administrator"==e.user.user_type},isRegular:function(e){return!!e.loggedIn&&"Regular"==e.user.user_type},isSupervisor:function(e){return!!e.loggedIn&&"Supervisor"==e.user.user_type}},E={SET_TOKEN:function(e,t){e.token=t,e.loggedIn=!0},SET_USER:function(e,t){e.user=t},RESET:function(e){e.token=null,e.user=null,e.loggedIn=!1}},R={namespaced:!0,state:{user:null,token:null,loggedIn:!1},getters:T,actions:P,mutations:E},W=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{attrs:{id:"inspire"}},[r("v-main",[r("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[r("v-card",{staticClass:"elevation-12"},[r("v-toolbar",{attrs:{color:"blue-grey",dark:"",flat:""}},[r("v-toolbar-title",[r("v-icon",[e._v("fa-sign-in")]),r("span",{staticClass:"ml-2"},[e._v("Keeper Login form")])],1)],1),r("v-card-text",[r("v-form",{on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[r("v-text-field",{attrs:{label:"Phone Number","prepend-icon":"fa-phone",type:"number","error-messages":e.username_errors},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),r("v-text-field",{attrs:{id:"password",label:"Password","prepend-icon":"fa-lock",type:"password","error-messages":e.password_errors},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),r("v-card-actions",[e._l(e.non_field_errors,(function(t){return r("div",{key:t,staticClass:"red--text caption"},[r("v-icon",{staticClass:"red--text",attrs:{small:""}},[e._v(" fa-warning ")]),e._v(" "+e._s(t)+" ")],1)})),r("v-spacer"),r("v-btn",{attrs:{color:"blue-grey white--text text-capitalize",loading:e.loading,type:"submit"}},[r("v-icon",{attrs:{small:""}},[e._v("fa-sign-in")]),r("span",{staticClass:"ml-2"},[e._v("Login")])],1)],2)],1)],1)],1)],1)],1)],1)],1)],1)},L=[],A={name:"login",data:function(){return{loading:!1,username:null,password:null,username_errors:null,password_errors:null,non_field_errors:[]}},methods:{login:function(){var e=this;this.username_errors=null,this.password_errors=null,this.non_field_errors=[],this.loading=!0,this.$store.dispatch("auth/login",{username:this.username,password:this.password}).then((function(t){e.loading=!1,"Regular"===t.user_type?e.$router.push({name:"equipments"}):e.$router.push({name:"enterprise_view"}),e.$store.commit("SET_SNACKBAR",{message:"Successfully logged in. Wellcome back!!",value:!0,status:"success"})})).catch((function(t){for(var r in e.loading=!1,t.response.data)"non_field_errors"!==r?e[r+"_errors"]=t.response.data[r]:e[r]=t.response.data[r]}))}}},N=A,$=r("b0af"),I=r("99d9"),z=r("62ad"),B=r("a523"),M=r("a75b"),F=r("4bd4"),K=r("0fd9"),H=r("2fa4"),Y=r("8654"),U=r("71d9"),G=r("2a7f"),Q=Object(v["a"])(N,W,L,!1,null,"161646f6",null),J=Q.exports;f()(Q,{VApp:C["a"],VBtn:h["a"],VCard:$["a"],VCardActions:I["a"],VCardText:I["b"],VCol:z["a"],VContainer:B["a"],VContent:M["a"],VForm:F["a"],VIcon:g["a"],VRow:K["a"],VSpacer:H["a"],VTextField:Y["a"],VToolbar:U["a"],VToolbarTitle:G["a"]});var Z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div")},X=[],ee={created:function(){this.$store.dispatch("auth/logout"),this.$router.push({name:"login"}),this.$store.commit("SET_SNACKBAR",{message:"Successfully logged Out. Good Bye!!",value:!0,status:"success"})}},te=ee,re=Object(v["a"])(te,Z,X,!1,null,null,null),oe=re.exports,ae={},se=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{attrs:{id:"inspire"}},[r("v-navigation-drawer",{attrs:{app:"",clipped:"",right:""},model:{value:e.drawerRight,callback:function(t){e.drawerRight=t},expression:"drawerRight"}},[r("RightSide")],1),r("v-app-bar",{attrs:{app:"","clipped-right":"",color:"blue-grey",dark:""}},[r("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),r("v-toolbar-title",[e._v("Keeper")]),e.open_reports_from_store&&e.$vuetify.breakpoint.smAndUp?r("div",{staticClass:"ml-5 mt-1"},[r("v-icon",{staticClass:"mr-1"},[e._v("fa-bell-o")]),r("span",[e._v(e._s(e.open_reports_from_store.length))])],1):e._e(),e.open_workorders&&e.$vuetify.breakpoint.smAndUp?r("div",{staticClass:"ml-5 mt-1"},[r("v-icon",{staticClass:"mr-1"},[e._v("fa-wrench")]),r("span",[e._v(e._s(e.open_dm_workorders.length))])],1):e._e(),e.open_workorders&&e.$vuetify.breakpoint.smAndUp?r("div",{staticClass:"ml-5 mt-1"},[r("v-icon",{staticClass:"mr-1"},[e._v("fa-cogs")]),r("span",[e._v(e._s(e.open_pm_workorders.length))])],1):e._e(),r("v-spacer"),e.$vuetify.breakpoint.smAndUp?r("router-link",{staticClass:"mr-3 user-info",attrs:{router:"",to:{name:"account_detail"}}},[r("v-icon",{staticClass:"mr-1",attrs:{small:""}},[e._v("fa-user")]),e._v(e._s(e.user.first_name)+" "),r("v-icon",{staticClass:"mx-1",attrs:{small:""}},[e._v("fa-id-card")]),r("span",{staticClass:"employee-id"},[e._v(e._s(e.user.employee_id))])],1):e._e(),r("v-btn",{attrs:{depressed:"",color:"blue-grey text-capitalize",dark:""},on:{click:e.changeTheme}},[r("v-icon",{attrs:{small:""}},[e._v("fa-paint-brush")]),r("span",{staticClass:"ml-1"},[e._v("Theme")])],1),r("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawerRight=!e.drawerRight}}})],1),r("v-navigation-drawer",{attrs:{app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[r("h4",{staticClass:"pt-5 pb-4 pl-3 c-logo-title"},[e._v("KEEPER ENTERPRISE CMMS")]),r("LeftSide")],1),r("v-main",[r("v-container",{attrs:{fluid:""}},[r("v-row",{attrs:{justify:"center",align:"center"}},[r("v-col",[r("Center")],1)],1)],1)],1),r("v-footer",{staticClass:"white--text",attrs:{app:"",color:"blue-grey"}},[r("span",[e._v("KEEPER CMMS")]),r("v-spacer"),e._v(" TRIAL VERSION "),r("span",{staticClass:"mx-3"},[e._v("© 2020")])],1)],1)},ne=[],ie=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-list",{attrs:{dense:""}},[e.isSupervisor||e.isAdministrator?r("v-list-item",{attrs:{router:"",to:{name:"enterprise_view"}}},[r("v-list-item-action",[r("v-icon",[e._v("fa-hospital-o")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("Enterprise view")])],1)],1):e._e(),e.isSupervisor||e.isAdministrator?r("v-list-item",{attrs:{router:"",to:{name:"workorder"}}},[r("v-list-item-action",[r("v-icon",[e._v("fa-wrench")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("Work Orders")])],1)],1):e._e(),e.isAdministrator?r("v-list-item",{attrs:{router:"",to:{name:"scheduled_workorder"}}},[r("v-list-item-action",[r("v-icon",[e._v("fa-cogs")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("Scheduled Work Orders")])],1)],1):e._e(),r("v-list-item",{attrs:{router:"",to:{name:"reports"}}},[r("v-list-item-action",[r("v-icon",[e._v("fa-bell-o")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("All Reports")])],1)],1),r("v-list-item",{staticClass:"py-1",attrs:{router:"",to:{name:"equipments"}}},[r("v-list-item-action",[r("v-icon",{attrs:{small:""}},[e._v("fa-cubes")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("All Equipments")])],1)],1)],1),r("br"),r("v-list",{attrs:{dense:""}},[e.isAdministrator?r("v-list-group",{attrs:{"prepend-icon":"fa-users",value:!1,"no-action":""},scopedSlots:e._u([{key:"activator",fn:function(){return[r("v-list-item-title",[e._v("User Management")])]},proxy:!0}],null,!1,4158552165)},e._l(e.user_management,(function(t){return r("v-list-item",{key:t.text,attrs:{router:"",to:t.url}},[r("v-list-item-icon",[r("v-icon",{domProps:{textContent:e._s(t.icon)}})],1),r("v-list-item-title",{domProps:{textContent:e._s(t.text)}})],1)})),1):e._e(),r("v-list-group",{attrs:{"prepend-icon":"fa-user-o",value:!1,"no-action":""},scopedSlots:e._u([{key:"activator",fn:function(){return[r("v-list-item-content",[r("v-list-item-title",[e._v("Profile")])],1)]},proxy:!0}])},e._l(e.profile,(function(t){return r("v-list-item",{key:t.text,attrs:{router:"",to:t.url}},[r("v-list-item-icon",[r("v-icon",{domProps:{textContent:e._s(t.icon)}})],1),r("v-list-item-title",{domProps:{textContent:e._s(t.text)}})],1)})),1)],1)],1)},le=[];function ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function de(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ue={name:"LeftSide",computed:de({},Object(c["b"])({isAdministrator:"auth/isAdministrator",isSupervisor:"auth/isSupervisor",isRegular:"auth/isRegular"})),methods:{push_page:function(e){try{this.$router.push({name:e})}catch(t){console.log(t)}}},data:function(){return{user_management:[{url:{name:"register"},icon:"fa-user-plus",text:"Add user"},{url:{name:"reset_password"},icon:"fa-unlock",text:"Reset Password"}],profile:[{url:{name:"account_detail"},icon:"fa-address-card-o",text:"Profile Detail"},{url:{name:"edit_profile"},icon:"fa-edit",text:"Edit Profile"},{url:{name:"change_password"},icon:"fa-unlock-alt",text:"Change Password"},{url:{name:"logout"},icon:"fa-sign-out",text:"Logout"}]}}},_e=ue,me=r("8860"),ve=r("56b0"),pe=r("da13"),fe=r("1800"),he=r("5d23"),ge=r("34c3"),be=Object(v["a"])(_e,ie,le,!1,null,"0183ea38",null),ke=be.exports;f()(be,{VIcon:g["a"],VList:me["a"],VListGroup:ve["a"],VListItem:pe["a"],VListItemAction:fe["a"],VListItemContent:he["a"],VListItemIcon:ge["a"],VListItemTitle:he["b"]});var we=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"spacer"}),r("OpenReportAlerts"),"Regular"!==e.user.user_type?r("OpenWorkorders"):e._e()],1)},ye=[],xe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.pageLoad?r("div",[r("div"),r("div",{staticClass:"pa-3 c-report-header",on:{click:e.expand}},[r("v-layout",{staticClass:"my-1"},[r("v-flex",{attrs:{xs11:""}},[r("v-icon",{staticClass:"mr-2"},[e._v("fa-bell-o")]),r("span",{staticClass:"reprot-title"},[e._v("All Reports "),r("strong",[e._v(e._s(e.open_reports_from_store.length))])])],1),e.show?r("v-flex",{attrs:{xs1:""}},[r("v-icon",{attrs:{color:"blue-grey"}},[e._v("fa-angle-up")])],1):r("v-flex",{attrs:{xs1:""}},[r("v-icon",{attrs:{color:"blue-grey"}},[e._v("fa-angle-down")])],1)],1)],1),e.show?r("div",{staticClass:"mt-3"},[e._l(e.open_reports_from_store,(function(t){return r("v-card",{key:t.id,staticClass:"mb-4 ml-4",style:"border-left: 12px solid "+e.getColorHere(t.equipment_status.color)+";",attrs:{raised:"","max-width":"225"},on:{click:function(r){return e.openReport(t)}}},[r("v-card-title",{staticClass:"c-title pt-2 pb-2 mb-2"},[r("v-icon",[e._v("fa-bell-o")]),r("span",{staticClass:"title ml-2"},[e._v(" Report")])],1),r("v-card-text",[r("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v(" fa-cubes ")]),e._v(" "+e._s(t.equipment.equipment_name)+" "),r("br"),t.department?r("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v(" fa-institution ")]):e._e(),t.department?r("span",[e._v(" "+e._s(t.department.name)+" ")]):e._e(),t.department?r("br"):e._e(),r("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v(" fa-fire ")]),r("span",{staticClass:"ml-2"},[e._v(e._s(t.equipment_status.name))]),r("br"),r("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v(" fa-clock-o ")]),e._v(" "+e._s(e.moment(t.created).fromNow())+" "),r("br"),r("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v(" fa-user ")]),e._v(" "+e._s(t.creater.employee_id)+" "),r("br"),r("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v(" fa-sort-amount-desc ")]),e._v(" "+e._s(t.priority.name)+" ")],1)],1)})),0===e.open_reports_from_store.length?r("div",{staticClass:"ml-5 mb-3"},[r("v-icon",{staticClass:"mr-2"},[e._v("fa-thumbs-o-up")]),e._v(" No Reports to show. ")],1):e._e()],2):e._e()]):e._e(),e.pageLoad?e._e():r("div",[r("v-progress-circular",{staticClass:"loader",attrs:{size:50,color:"blue-grey",indeterminate:""}})],1),r("v-dialog",{attrs:{width:"750"},scopedSlots:e._u([{key:"activator",fn:function(e){}}]),model:{value:e.detailDialog,callback:function(t){e.detailDialog=t},expression:"detailDialog"}},[r("v-card",[r("ReportDetailPopUp",{attrs:{item:e.detailReport},on:{closeDialog:function(t){e.detailDialog=!e.detailDialog}}})],1)],1)],1)},Ce=[],Oe=(r("b0c0"),function(e){return e?"GR"===e?"green":"RD"===e?"red":"OG"===e?"orange":void 0:"gray"}),De=function(e,t){var r=[];for(var o in e[t])r.push({value:e[t][o].id,text:e[t][o].name});return r},je=function(e,t){var r=[{value:"",text:"---------------"}];for(var o in e[t])r.push({value:e[t][o],text:e[t][o].name});return r},Se=function(e){var t="?",r="";for(var o in e)t+=e[o].filter+"=",e[o].value&&(null!=e[o].value.id&&(t+=e[o].value.id),null!=e[o].value.name&&(r+=e[o].value.name+", ")),t+="&";return{query:t,key:r}},Ve=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-card",[r("v-toolbar",{attrs:{color:"blue-grey",dark:"",flat:""}},[r("v-toolbar-title",[r("div",{staticClass:"small-circle",style:"margin-right: 0px; background: "+e.getColorHere(e.item.equipment_status.color)}),r("span",{staticClass:"ml-2"},[e._v(e._s(e.item.equipment.equipment_name)+" By "+e._s(e.item.creater.employee_id))])])],1),r("v-card-text",[r("v-container",[r("v-row",{staticClass:"mb-5 mt-5",attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12",xs:"12",sm:"6"}},[r("h1",{staticClass:"title mb-2"},[e._v("EQUIPMENT")]),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Name:")]),r("v-col",[r("strong",[e._v(e._s(e.item.equipment.equipment_name))])])],1),r("div",{staticClass:"small-divider"}),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Serial Number")]),r("v-col",[r("strong",[e._v(e._s(e.item.equipment.serial_number))])])],1),r("div",{staticClass:"small-divider"}),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Asset ID:")]),r("v-col",[r("strong",[e._v(e._s(e.item.equipment.inventory_number))])])],1),r("div",{staticClass:"small-divider"}),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Equipment Status:")]),r("v-col",[r("div",{staticClass:"col-small-circle",style:"margin-right: 0px; background: "+e.getColorHere(e.item.equipment.status_flag.color)}),r("strong",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(e.item.equipment.status_flag.name))])])],1),r("div",{staticClass:"small-divider"}),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Warranty Expires:")]),r("v-col",[r("strong",[e._v(e._s(e.item.equipment.warranty_expiration_date))])])],1),r("div",{staticClass:"small-divider"}),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Description:")]),r("v-col",[r("strong",[e._v(e._s(e.item.equipment.description))])])],1)],1),r("v-col",{attrs:{cols:"12",xs:"12",sm:"6"}},[r("h1",{staticClass:"title mb-2"},[e._v("Reporter")]),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("First Name:")]),e.item.creater?r("v-col",[r("strong",[e._v(e._s(e.item.creater.first_name))])]):e._e()],1),r("div",{staticClass:"small-divider"}),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Employee Id:")]),e.item.creater?r("v-col",[r("strong",[e._v(e._s(e.item.creater.employee_id))])]):e._e()],1),r("div",{staticClass:"small-divider"}),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Phone NO:")]),e.item.creater?r("v-col",[r("strong",[e._v(e._s(e.item.creater.phone_number))])]):e._e()],1),r("div",{staticClass:"small-divider"}),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Reported As:")]),e.item.equipment_status?r("v-col",[r("div",{staticClass:"col-small-circle",style:"margin-right: 0px; background: "+e.getColorHere(e.item.equipment_status.color)}),r("strong",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(e.item.equipment_status.name))])]):e._e()],1),r("div",{staticClass:"small-divider"}),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Description:")]),r("v-col",[r("strong",[e._v(e._s(e.item.description))])])],1),r("div",{staticClass:"small-divider"}),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Priority:")]),r("v-col",[r("strong",[e._v(e._s(e.item.priority.name))])])],1),r("div",{staticClass:"small-divider"}),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Report Created:")]),e.item.created?r("v-col",[r("strong",[e._v(e._s(e.moment(e.item.created).fromNow()))])]):e._e()],1),r("div",{staticClass:"small-divider"}),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("User Type:")]),e.item.creater?r("v-col",[r("strong",[e._v(e._s(e.item.creater.user_type))])]):e._e()],1),r("div",{staticClass:"small-divider"}),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Employee Position:")]),e.item.creater&&e.item.creater.employee_position?r("v-col",[r("strong",[e._v(e._s(e.item.creater.employee_position.position_name))])]):e._e()],1),r("div",{staticClass:"small-divider"}),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Education Level")]),e.item.creater&&e.item.creater.training_detail?r("v-col",[r("strong",[e._v(e._s(e.item.creater.training_detail.training_level))])]):e._e()],1)],1)],1),r("div",{staticClass:"divider"}),r("v-row",{staticClass:"mt-5 mb-5",attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12",xs:"12",sm:"6"}},[r("h1",{staticClass:"title mb-2"},[e._v("Location")]),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Building:")]),e.item.location?r("v-col",[r("strong",[e._v(e._s(e.item.location.building.name))])]):e._e()],1),r("div",{staticClass:"small-divider"}),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Floor:")]),e.item.location?r("v-col",[r("strong",[e._v(e._s(e.item.location.floor))])]):e._e()],1),r("div",{staticClass:"small-divider"}),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Room Number:")]),e.item.location?r("v-col",[r("strong",[e._v(e._s(e.item.location.room_number))])]):e._e()],1),r("div",{staticClass:"small-divider"}),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Room Section:")]),e.item.location?r("v-col",[r("strong",[e._v(e._s(e.item.location.sub_room_section))])]):e._e()],1),r("div",{staticClass:"small-divider"}),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Department:")]),e.item.department?r("v-col",[r("strong",[e._v(e._s(e.item.department.name))])]):e._e()],1),r("div",{staticClass:"small-divider"}),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Location Code:")]),e.item.location?r("v-col",[r("strong",[e._v(e._s(e.item.location.code))])]):e._e()],1)],1),e.item.closed?r("v-col",{attrs:{cols:"12",xs:"12",sm:"6"}},[r("h1",{staticClass:"title mb-2"},[e._v("Closed By")]),r("div",{staticClass:"small-divider"}),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("First Name:")]),e.item.closed_by?r("v-col",[r("strong",[e._v(e._s(e.item.closed_by.first_name))])]):e._e()],1),r("div",{staticClass:"small-divider"}),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Employee Id:")]),e.item.closed_by?r("v-col",[r("strong",[e._v(e._s(e.item.closed_by.employee_id))])]):e._e()],1),r("div",{staticClass:"small-divider"}),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Phone NO:")]),e.item.closed_by?r("v-col",[r("strong",[e._v(e._s(e.item.closed_by.phone_number))])]):e._e()],1),r("div",{staticClass:"small-divider"}),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Report Closed:")]),e.item.updated?r("v-col",[r("strong",[e._v(e._s(e.moment(e.item.updated).fromNow()))])]):e._e()],1),r("div",{staticClass:"small-divider"}),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Report Ignored:")]),r("v-col",[r("strong",[e._v(e._s(e.item.ignored))])])],1),r("div",{staticClass:"small-divider"}),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("User Type:")]),e.item.closed_by?r("v-col",[r("strong",[e._v(e._s(e.item.closed_by.user_type))])]):e._e()],1),r("div",{staticClass:"small-divider"}),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Employee Position:")]),e.item.closed_by&&e.item.closed_by.employee_position?r("v-col",[r("strong",[e._v(e._s(e.item.closed_by.employee_position.position_name))])]):e._e()],1),r("div",{staticClass:"small-divider"}),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Education Level")]),e.item.closed_by&&e.item.closed_by.training_detail?r("v-col",[r("strong",[e._v(e._s(e.item.closed_by.training_detail.training_level))])]):e._e()],1)],1):e._e(),e.item.closed?e._e():r("v-col",{attrs:{cols:"12",xs:"12",sm:"6"}},[r("h1",{staticClass:"title mb-2"},[e._v("Report Status")]),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Report Status:")]),r("v-col",[r("strong",[e._v("Open")])])],1)],1)],1)],1)],1),r("div",{staticClass:"btns"},[r("v-card",[r("v-layout",[e.isAdministrator&&!e.item.closed?r("v-flex",{attrs:{md6:""}}):r("v-flex",{attrs:{mb9:""}}),e.isAdministrator&&!e.item.closed?r("v-flex",{attrs:{md6:""}},[r("v-btn",{attrs:{color:"blue white--text text-capitalize mb-4 mr-4 mt-4"},on:{click:e.openWorkOrderDialog}},[r("v-icon",{attrs:{small:""}},[e._v("fa-wrench")]),r("span",{staticClass:"ml-2"},[e._v("Approve")])],1),r("v-btn",{attrs:{loading:e.reject_btn,color:"red white--text text-capitalize mb-4 mr-4 mt-4"},on:{click:e.reject}},[r("v-icon",{attrs:{small:""}},[e._v("fa-warning")]),r("span",{staticClass:"ml-2"},[e._v("Reject")])],1),r("v-btn",{attrs:{color:"blue-grey white--text text-capitalize mb-4 mr mt-4"},on:{click:e.closeDialog}},[r("v-icon",{attrs:{small:""}},[e._v("fa-close")]),r("span",{staticClass:"ml-2"},[e._v("Close")])],1)],1):r("v-flex",{attrs:{md2:""}},[r("v-btn",{attrs:{color:"blue-grey white--text text-capitalize mb-4 mr mt-4"},on:{click:e.closeDialog}},[r("v-icon",{attrs:{small:""}},[e._v("fa-close")]),r("span",{staticClass:"ml-2"},[e._v("Close")])],1)],1)],1)],1)],1),r("v-dialog",{attrs:{width:"900"},scopedSlots:e._u([{key:"activator",fn:function(e){}}]),model:{value:e.openWorkOrderForm,callback:function(t){e.openWorkOrderForm=t},expression:"openWorkOrderForm"}},[r("SubmitWorkOrder",{attrs:{report:e.item},on:{closeDialog:function(t){e.openWorkOrderForm=!e.openWorkOrderForm},closeBothDialogs:e.closeBothDialogs,reset_ready:e.acceptWorkOrderReset}})],1)],1)],1)},qe=[],Pe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.pageLoad?r("v-card",[r("v-toolbar",{attrs:{color:"blue-grey",dark:"",flat:""}},[r("v-toolbar-title",[r("v-icon",[e._v("fa-wrench")]),r("span",[e._v(" SUBMIT WORK ORDER")])],1)],1),r("v-card-text",[r("v-container",[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{staticClass:"px-5",attrs:{xs12:"",md6:""}},[r("v-text-field",{attrs:{label:"* WorkOrder Name","prepend-icon":"fa-wrench",type:"text","error-messages":e.name_errors},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),r("v-text-field",{attrs:{label:"* Equipment","prepend-icon":"fa-cubes",type:"text",disabled:""},model:{value:e.report.equipment.equipment_name,callback:function(t){e.$set(e.report.equipment,"equipment_name",t)},expression:"report.equipment.equipment_name"}}),r("v-text-field",{attrs:{label:"* Department","prepend-icon":"fa-institution",type:"text",disabled:""},model:{value:e.report.department.name,callback:function(t){e.$set(e.report.department,"name",t)},expression:"report.department.name"}}),r("v-text-field",{attrs:{label:"* Location","prepend-icon":"fa-map-signs",type:"text",disabled:"",value:e.report.location.building.name+" ("+e.report.location.room_number+")"}}),r("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.due_date,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(t){e.due_date=t},"update:return-value":function(t){e.due_date=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[r("v-text-field",e._g({attrs:{label:"* Due Date","prepend-icon":"fa-calendar",readonly:"","error-messages":e.due_date_errors},model:{value:e.due_date,callback:function(t){e.due_date=t},expression:"due_date"}},o))]}}],null,!1,2281662684),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[r("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.due_date,callback:function(t){e.due_date=t},expression:"due_date"}},[r("v-spacer"),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v("Cancel")]),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu.save(e.due_date)}}},[e._v("OK")])],1)],1),r("v-text-field",{attrs:{label:"Estimated Cost","prepend-icon":"fa-money",type:"number"},model:{value:e.estimated_cost,callback:function(t){e.estimated_cost=t},expression:"estimated_cost"}})],1),r("v-flex",{staticClass:"px-5",attrs:{xs12:"",md6:""}},[r("v-select",{attrs:{label:"* Workorder Status","prepend-icon":"fa-fire",items:e.get_workorder_status,"error-messages":e.workorder_status_errors},model:{value:e.workorder_status,callback:function(t){e.workorder_status=t},expression:"workorder_status"}}),r("v-select",{attrs:{label:"Work Category","prepend-icon":"fa-briefcase",items:e.get_options_here(e.workorder_choice,"work_categories")},model:{value:e.work_category,callback:function(t){e.work_category=t},expression:"work_category"}}),r("v-select",{attrs:{label:"Job Hazard","prepend-icon":"fa-bolt",items:e.get_options_here(e.workorder_choice,"job_hazard")},model:{value:e.job_hazard,callback:function(t){e.job_hazard=t},expression:"job_hazard"}}),r("v-select",{attrs:{"prepend-icon":"fa-user-plus",label:"* Resources",items:e.resources,multiple:"","error-messages":e.assigned_to_errors},model:{value:e.assigned_to,callback:function(t){e.assigned_to=t},expression:"assigned_to"}}),r("v-select",{attrs:{label:"Priority","prepend-icon":"fa-sort-amount-desc",items:e.get_options_here(e.workorder_choice,"priorities")},model:{value:e.priority,callback:function(t){e.priority=t},expression:"priority"}})],1)],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{staticClass:"px-5",attrs:{xs12:""}},[r("v-textarea",{attrs:{label:"Description","prepend-icon":"fa-commenting-o","auto-grow":"",outlined:""},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1)],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{staticClass:"px-5",attrs:{xs12:"",md6:""}},[r("v-text-field",{attrs:{label:"Requested By","prepend-icon":"fa-user-o",type:"text",disabled:"",value:e.report.creater.employee_id}})],1),r("v-flex",{staticClass:"px-5",attrs:{xs12:"",md6:""}},[r("v-file-input",{attrs:{label:"Document","prepend-icon":"fa-file-word-o"},model:{value:e.document,callback:function(t){e.document=t},expression:"document"}})],1)],1),r("v-layout",[r("v-flex",{staticClass:"px-2",attrs:{xs12:"",md6:""}},[r("v-file-input",{attrs:{label:"Image","prepend-icon":"fa-image",accept:"image/*"},model:{value:e.image,callback:function(t){e.image=t},expression:"image"}})],1)],1)],1)],1),r("div",{staticClass:"btns"},[r("v-layout",[r("v-flex",{attrs:{md9:""}}),r("v-flex",[r("v-btn",{attrs:{color:"green white--text text-capitalize mb-4 mr-4 mt-4",loading:e.loading},on:{click:e.submitWorkorder}},[r("v-icon",{attrs:{small:""}},[e._v("fa-wrench")]),r("span",{staticClass:"ml-2"},[e._v("Submit")])],1)],1),r("v-flex",[r("v-btn",{attrs:{color:"blue-grey white--text text-capitalize mb-4 mr-4 mt-4"},on:{click:e.closeDialog}},[r("v-icon",{attrs:{small:""}},[e._v("fa-close")]),r("span",{staticClass:"ml-2"},[e._v("Cancel")])],1)],1)],1)],1)],1):e._e(),e.pageLoad?e._e():r("div",{staticClass:"loading-card"},[r("v-main",[r("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[r("v-row",{attrs:{justify:"center",align:"center"}},[r("v-progress-circular",{attrs:{size:50,color:"blue-grey",indeterminate:""}})],1)],1)],1)],1)],1)},Te=[];r("e01a");function Ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var We={name:"SubmitWorkOrder",data:function(){return{pageLoad:!1,menu:!1,loading:!1,name:"",due_date:null,description:null,document:null,image:null,estimated_cost:null,priority:null,job_hazard:null,work_category:null,workorder_status:null,assigned_to:null,name_errors:null,due_date_errors:null,assigned_to_errors:null,workorder_status_errors:null}},props:{report:{required:!0,type:Object}},computed:Re({},Object(c["b"])({user:"auth/user",workorder_choice:"workorder/workorder_choice"}),{resources:function(){var e=[],t=this.workorder_choice.assigne_to;for(var r in t)e.push({value:t[r].id,text:t[r].first_name+" ID: "+t[r].employee_id});return e},get_workorder_status:function(){var e=[],t=this.workorder_choice.workorder_status;for(var r in t)t[r].start_workorder||t[r].close_workorder||t[r].rejected_workorder||e.push({text:t[r].name,value:t[r]});return e}}),methods:{get_options_here:function(e,t){return je(e,t)},submitWorkorder:function(){var e=this;this.due_date_errors=null,this.name_errors=null,this.assigned_to_errors=null;var t=new FormData;for(var r in t.append("name",this.name),t.append("due_date",this.due_date),t.append("description",this.description),this.workorder_status&&t.append("workorder_status",this.workorder_status.id),this.document&&t.append("document",this.document),this.image&&t.append("image",this.image),t.append("workorder_type","DM"),t.append("created_by",this.user.id),this.estimated_cost&&t.append("estimated_cost",this.estimated_cost),this.priority&&t.append("priority",this.priority.id),this.job_hazard&&t.append("job_hazard",this.job_hazard.id),this.work_category&&t.append("work_category",this.work_category.id),t.append("equipment",this.report.equipment.inventory_number),t.append("location",this.report.location.id),t.append("department",this.report.department.id),t.append("report",this.report.id),t.append("requested_by",this.report.creater.id),this.assigned_to)t.append("assigned_to",this.assigned_to[r]);this.loading=!0,this.$store.dispatch("workorder/create_dm_workorder",t).then((function(){e.loading=!1,e.$store.commit("SET_SNACKBAR",{message:"Successfully created workorder.",value:!0,status:"success"}),e.$emit("closeBothDialogs")})).catch((function(t){for(var r in e.loading=!1,t.response.data)"non_field_errors"!==r?e[r+"_errors"]=t.response.data[r]:e[r]=t.response.data[r]}))},closeDialog:function(){this.$emit("closeDialog")},reset:function(){this.name="",this.due_date=null,this.description=this.report.description,this.document=null,this.image=null,this.estimated_cost=null,this.priority=this.report.priority,this.job_hazard=null,this.work_category=null,this.assigned_to=null,this.name_errors=null,this.due_date_errors=null,this.assigned_to_errors=null,this.workorder_status=null,this.workorder_status_errors=null}},created:function(){var e=this;null!==this.workorder_choice?this.pageLoad=!0:this.$store.dispatch("workorder/get_workorder_choice").then((function(){e.pageLoad=!0})).catch((function(){e.pageLoad=!1})),this.description=this.report.description,this.priority=this.report.priority,this.$emit("reset_ready",this.reset)}},Le=We,Ae=(r("66b5"),r("2e4b")),Ne=r("23a7"),$e=r("0e8f"),Ie=r("a722"),ze=r("e449"),Be=r("490a"),Me=r("b974"),Fe=r("a844"),Ke=Object(v["a"])(Le,Pe,Te,!1,null,"10f78c9e",null),He=Ke.exports;function Ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ye(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}f()(Ke,{VBtn:h["a"],VCard:$["a"],VCardText:I["b"],VContainer:B["a"],VContent:M["a"],VDatePicker:Ae["a"],VFileInput:Ne["a"],VFlex:$e["a"],VIcon:g["a"],VLayout:Ie["a"],VMenu:ze["a"],VProgressCircular:Be["a"],VRow:K["a"],VSelect:Me["a"],VSpacer:H["a"],VTextField:Y["a"],VTextarea:Fe["a"],VToolbar:U["a"],VToolbarTitle:G["a"]});var Ge=r("c1df"),Qe={name:"ReportDetailPopUp",components:{SubmitWorkOrder:He},computed:Ue({},Object(c["b"])({isAdministrator:"auth/isAdministrator"})),props:{item:{type:Object,required:!0}},data:function(){return{moment:Ge,reject_btn:!1,openWorkOrderForm:!1,resetWorkorder:null}},methods:{acceptWorkOrderReset:function(e){this.resetWorkorder=e},getColorHere:function(e){return Oe(e)},closeDialog:function(){this.$emit("closeDialog")},reject:function(){var e=this;this.reject_btn=!0,this.$store.dispatch("reports/ignore_report",this.item.id).then((function(t){e.reject_btn=!1,e.$store.commit("SET_SNACKBAR",{message:t.message,value:!0,status:"success"}),e.closeDialog()})).catch((function(t){e.reject_btn=!1,e.$store.commit("SET_SNACKBAR",{message:t.detail,value:!0,status:"error"})}))},closeBothDialogs:function(){this.openWorkOrderForm=!1,this.closeDialog()},openWorkOrderDialog:function(){this.item.closed||(this.openWorkOrderForm=!this.openWorkOrderForm,this.resetWorkorder&&this.resetWorkorder())}}},Je=Qe,Ze=(r("6a01"),r("169a")),Xe=Object(v["a"])(Je,Ve,qe,!1,null,"439b4c98",null),et=Xe.exports;function tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function rt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}f()(Xe,{VBtn:h["a"],VCard:$["a"],VCardText:I["b"],VCol:z["a"],VContainer:B["a"],VDialog:Ze["a"],VFlex:$e["a"],VIcon:g["a"],VLayout:Ie["a"],VRow:K["a"],VToolbar:U["a"],VToolbarTitle:G["a"]});var ot=r("c1df"),at={name:"OpenReportAlerts",components:{ReportDetailPopUp:et},data:function(){return{pageLoad:!1,show:!0,detailDialog:!1,detailReport:null,moment:ot}},computed:rt({},Object(c["b"])({open_reports_from_store:"reports/open_reports"})),methods:{getColorHere:function(e){return Oe(e)},openReport:function(e){this.detailDialog=!0,this.detailReport=e},expand:function(){this.show=!this.show}},created:function(){var e=this;this.$store.dispatch("reports/get_open_reports").then((function(){e.pageLoad=!0})).catch((function(){e.pageLoad=!1}))}},st=at,nt=(r("d2cb"),Object(v["a"])(st,xe,Ce,!1,null,"6f838ef6",null)),it=nt.exports;f()(nt,{VCard:$["a"],VCardText:I["b"],VCardTitle:I["c"],VDialog:Ze["a"],VFlex:$e["a"],VIcon:g["a"],VLayout:Ie["a"],VProgressCircular:Be["a"]});var lt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.pageLoad?r("div",[r("div",{staticClass:"pa-3 c-report-header",on:{click:e.expand}},[r("v-layout",{staticClass:"my-1"},[r("v-flex",{attrs:{xs11:""}},[r("v-icon",{staticClass:"mr-2"},[e._v("fa-wrench")]),r("span",{staticClass:"reprot-title"},[e._v("DM Workorders "),r("strong",[e._v(e._s(e.open_dm_workorders.length))])])],1),e.show?r("v-flex",{attrs:{xs1:""}},[r("v-icon",{attrs:{color:"blue-grey"}},[e._v("fa-angle-up")])],1):r("v-flex",{attrs:{xs1:""}},[r("v-icon",{attrs:{color:"blue-grey"}},[e._v("fa-angle-down")])],1)],1)],1),e.show?r("div",{staticClass:"mt-3"},[e._l(e.open_dm_workorders,(function(t){return r("v-card",{key:t.id,staticClass:"mb-4 ml-4",style:"border-left: 12px solid "+e.getOverDueColor(t)+";",attrs:{raised:"","max-width":"225"},on:{click:function(r){return e.openDetail(t.id)}}},[r("v-card-title",{staticClass:"c-title pt-2 pb-2 mb-2"},[r("v-icon",{staticClass:"mr-1",attrs:{color:e.getOverDueColor(t)}},[e._v(" fa-wrench ")]),r("span",{staticClass:"title ml-2"},[e._v(e._s(e.workorderType(t.workorder_type)))])],1),r("v-card-text",[r("v-icon",{staticClass:"mr-2",attrs:{color:e.getOverDueColor(t),small:""}},[e._v(" fa-gear ")]),e._v(" "+e._s(e.reduceText(t.name))+" "),r("br"),r("v-icon",{staticClass:"mr-1",attrs:{color:e.getOverDueColor(t),small:""}},[e._v(" fa-cubes ")]),e._v(" "+e._s(t.equipment.equipment_name)+" "),r("br"),r("v-icon",{staticClass:"mr-2",attrs:{color:e.getOverDueColor(t),small:""}},[e._v(" fa-hourglass-end ")]),e._v(" "+e._s(t.due_date)+" "),r("br"),t.work_category?r("v-icon",{staticClass:"mr-2",attrs:{color:e.getOverDueColor(t),small:""}},[e._v(" fa-briefcase ")]):e._e(),t.work_category?r("span",[e._v(" "+e._s(t.work_category.name)+" ")]):e._e(),t.work_category?r("br"):e._e(),t.priority?r("v-icon",{staticClass:"mr-2",attrs:{color:e.getOverDueColor(t),small:""}},[e._v(" fa-sort-amount-desc ")]):e._e(),t.priority?r("span",[e._v(" "+e._s(t.priority.name)+" ")]):e._e(),t.priority?r("br"):e._e(),r("v-icon",{staticClass:"mr-2",attrs:{color:e.getOverDueColor(t),small:""}},[e._v(" fa-fire ")]),e.getProperStatus(t)?r("span",[e._v(" "+e._s(e.getProperStatus(t))+" ")]):e._e(),r("br")],1)],1)})),0===e.open_dm_workorders.length?r("div",{staticClass:"ml-5 mb-3"},[r("v-icon",{staticClass:"mr-2"},[e._v("fa-thumbs-o-up")]),e._v(" No Workorders to show. ")],1):e._e()],2):e._e(),r("div",{staticClass:"pa-3 c-report-header",on:{click:e.expand_pm}},[r("v-layout",{staticClass:"my-1"},[r("v-flex",{attrs:{xs11:""}},[r("v-icon",{staticClass:"mr-2"},[e._v("fa-cogs")]),r("span",{staticClass:"reprot-title"},[e._v("PM Workorders "),r("strong",[e._v(e._s(e.open_pm_workorders.length))])])],1),e.show_pm?r("v-flex",{attrs:{xs1:""}},[r("v-icon",{attrs:{color:"blue-grey"}},[e._v("fa-angle-up")])],1):r("v-flex",{attrs:{xs1:""}},[r("v-icon",{attrs:{color:"blue-grey"}},[e._v("fa-angle-down")])],1)],1)],1),e.show_pm?r("div",{staticClass:"mt-3"},[e._l(e.open_pm_workorders,(function(t){return r("v-card",{key:t.id,staticClass:"mb-4 ml-4",style:"border-left: 12px solid "+e.getOverDueColor(t)+";",attrs:{raised:"","max-width":"225"},on:{click:function(r){return e.openDetail(t.id)}}},[r("v-card-title",{staticClass:"c-title pt-2 pb-2 mb-2"},[r("v-icon",{staticClass:"mr-1",attrs:{color:e.getOverDueColor(t)}},[e._v(" fa-wrench ")]),r("span",{staticClass:"title ml-2"},[e._v(e._s(e.workorderType(t.workorder_type)))])],1),r("v-card-text",[r("v-icon",{staticClass:"mr-2",attrs:{color:e.getOverDueColor(t),small:""}},[e._v(" fa-gear ")]),e._v(" "+e._s(e.reduceText(t.name))+" "),r("br"),r("v-icon",{staticClass:"mr-1",attrs:{color:e.getOverDueColor(t),small:""}},[e._v(" fa-cubes ")]),e._v(" "+e._s(t.equipment.equipment_name)+" "),r("br"),r("v-icon",{staticClass:"mr-2",attrs:{color:e.getOverDueColor(t),small:""}},[e._v(" fa-hourglass-end ")]),e._v(" "+e._s(t.due_date)+" "),r("br"),t.work_category?r("v-icon",{staticClass:"mr-2",attrs:{color:e.getOverDueColor(t),small:""}},[e._v(" fa-briefcase ")]):e._e(),t.work_category?r("span",[e._v(" "+e._s(t.work_category.name)+" ")]):e._e(),t.work_category?r("br"):e._e(),t.priority?r("v-icon",{staticClass:"mr-2",attrs:{color:e.getOverDueColor(t),small:""}},[e._v(" fa-sort-amount-desc ")]):e._e(),t.priority?r("span",[e._v(" "+e._s(t.priority.name)+" ")]):e._e(),t.priority?r("br"):e._e(),r("v-icon",{staticClass:"mr-2",attrs:{color:e.getOverDueColor(t),small:""}},[e._v(" fa-fire ")]),e.getProperStatus(t)?r("span",[e._v(" "+e._s(e.getProperStatus(t))+" ")]):e._e(),r("br")],1)],1)})),0===e.open_pm_workorders.length?r("div",{staticClass:"ml-5 mb-3"},[r("v-icon",{staticClass:"mr-2"},[e._v("fa-thumbs-o-up")]),e._v(" No Workorders to show. ")],1):e._e()],2):e._e()]):e._e(),e.pageLoad?e._e():r("div",[r("v-progress-circular",{staticClass:"loader",attrs:{size:50,color:"blue-grey",indeterminate:""}})],1),r("v-dialog",{attrs:{width:"750"},scopedSlots:e._u([{key:"activator",fn:function(e){}}]),model:{value:e.detailDialog,callback:function(t){e.detailDialog=t},expression:"detailDialog"}},[r("v-card",[r("DetailWorkorder",{attrs:{workorder_id:e.detailDialogWorkorder},on:{detailWorkorderCreated:e.workorderCreated,closeDetailWorkorder:function(t){e.detailDialog=!e.detailDialog}}})],1)],1)],1)},ct=[],dt=(r("fb6a"),{open_workorder_reload_fun:null,workorder_list_reload_fun:null,workorder_equipment_detail:null,calander_reload_fun:null,pm_workorder_reload_fun:null}),ut=function(e){dt.open_workorder_reload_fun=e},_t=function(e){dt.workorder_list_reload_fun=e},mt=function(e){dt.workorder_equipment_detail=e},vt=function(e){dt.calander_reload_fun=e},pt=function(e){dt.pm_workorder_reload_fun=e},ft=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e.pageLoad&&e.extera?o("v-card",[o("v-toolbar",{attrs:{color:"blue-grey",dark:"",flat:""}},[o("v-toolbar-title",[o("v-icon",{staticClass:"mx-2",attrs:{color:e.getOverDueColor(e.workorder)}},[e._v("fa-wrench")]),"DM"===e.workorder.workorder_type?o("span",[e._v(" DEMAND WORKORDER ")]):e._e(),"PM"===e.workorder.workorder_type?o("span",[e._v(" PM WORKORDER ")]):e._e(),e._v(" - "),o("span",[e._v(" "+e._s(e.reduceText(e.workorder.name))+" (id - "+e._s(e.workorder.id)+")")])],1)],1),o("v-card-text",[o("v-container",[o("v-row",{staticClass:"mb-5",attrs:{align:"center",justify:"center","no-gutters":""}},[o("v-col",{attrs:{cols:"12",xs:"12",sm:"4"}},[e.workorder.image?o("a",{attrs:{target:"_blank",href:e.workorder.image}},[o("v-img",{staticClass:"mb-2",attrs:{src:e.workorder.image,crossorigin:"anonymous","lazy-src":r("4b50"),"max-height":"150","aspect-ratio":"1.7",contain:"",width:"255",position:""}})],1):e._e()])],1),e.workorder.image?o("div",{staticClass:"divider"}):e._e(),o("v-row",{staticClass:"mb-5 mt-5",attrs:{"no-gutters":""}},[o("v-col",{staticClass:"pr-3",attrs:{cols:"12",xs:"12",sm:"6"}},[o("h1",{staticClass:"title mb-2"},[e._v("WORKORDER")]),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Name:")]),o("v-col",[o("strong",[e._v(e._s(e.workorder.name))])])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Demand/PM:")]),o("v-col",[o("strong",[e._v(e._s("DM"==e.workorder.workorder_type?"Demand":"PM"))])])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Priority:")]),o("v-col",[e.workorder.priority?o("strong",[e._v(e._s(e.workorder.priority.name))]):e._e()])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Work Category:")]),o("v-col",[e.workorder.work_category?o("strong",[e._v(e._s(e.workorder.work_category.name))]):e._e()])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Job Hazard:")]),o("v-col",[e.workorder.job_hazard?o("strong",[e._v(e._s(e.workorder.job_hazard.name))]):e._e()])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Associations:")]),o("v-col",[e.workorder.equipment?o("strong",[e._v(e._s(e.workorder.equipment.equipment_name))]):e._e()])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Description:")]),o("v-col",[o("strong",[e._v(e._s("null"!=e.workorder.description?e.workorder.description:""))])])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Created By:")]),o("v-col",[o("strong",[e._v(e._s(e.workorder.created_by.first_name)+" - "+e._s(e.workorder.created_by.employee_id))])])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Created:")]),o("v-col",[o("strong",[e._v(e._s(e.moment(e.workorder.created).fromNow()))])])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Document:")]),o("v-col",[e.workorder.document?o("strong",[o("a",{attrs:{target:"_blank",href:e.workorder.document}},[e._v("document")])]):e._e()])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Estimated Cost:")]),o("v-col",[e.workorder.estimated_cost?o("strong",[e._v(e._s(e.workorder.estimated_cost)+" ETB")]):e._e()])],1)],1),o("v-col",{staticClass:"pl-2",attrs:{cols:"12",xs:"12",sm:"6"}},[o("h1",{staticClass:"title mb-2"},[e._v("WORKORDER STATUS")]),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Status:")]),o("v-col",[o("strong",[e._v(e._s(e.getProperStatus(e.workorder)))])])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Closed:")]),o("v-col",[o("strong",[e._v(e._s(e.workorder.closed?"Yes":"No"))])])],1),o("div",{staticClass:"small-divider"}),e.workorder.closed?o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Closed by:")]),o("v-col",[e.workorder.closed_by?o("strong",[e._v(e._s(e.workorder.closed_by.first_name)+" - "+e._s(e.workorder.closed_by.employee_id))]):e._e()])],1):e._e(),e.workorder.closed?o("div",{staticClass:"small-divider"}):e._e(),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("OverDue:")]),o("v-col",[o("strong",[e._v(e._s(e.workorder.over_due?"Yes":"No"))])])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Rejected:")]),o("v-col",[o("strong",[e._v(e._s(e.workorder.rejected?"Yes":"No"))])])],1),o("div",{staticClass:"small-divider"}),e.workorder.closed?o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Closed Date:")]),o("v-col",[o("strong",[e._v(e._s(e.workorder.closed_date))])])],1):e._e(),e.workorder.closed?o("div",{staticClass:"small-divider"}):e._e(),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Due Date:")]),o("v-col",[o("strong",[e._v(e._s(e.workorder.due_date))])])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Last Updated:")]),o("v-col",[e.workorder.created!==e.workorder.updated?o("strong",[e._v(e._s(e.moment(e.workorder.updated).fromNow()))]):e._e()])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Assigned to:")]),o("v-col",e._l(e.workorder.assigned_to,(function(t){return o("span",{key:t.employee_id},[o("strong",[e._v("- "+e._s(t.first_name)+" - "+e._s(t.employee_id))]),o("br")])})),0)],1)],1)],1),o("div",{staticClass:"divider"}),o("v-row",{staticClass:"mb-5 mt-5",attrs:{"no-gutters":""}},[o("v-col",{attrs:{cols:"12",xs:"12",sm:"6"}},[o("h1",{staticClass:"title mb-2"},[e._v("EQUIPMENT")]),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Name:")]),o("v-col",[o("strong",[e._v(e._s(e.workorder.equipment.equipment_name))])])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Serial Number")]),o("v-col",[o("strong",[e._v(e._s(e.workorder.equipment.serial_number))])])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Asset ID:")]),o("v-col",[o("strong",[e._v(e._s(e.workorder.equipment.inventory_number))])])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Equipment Status:")]),o("v-col",[o("div",{staticClass:"col-small-circle",style:"margin-right: 0px; background: "+e.getColorHere(e.workorder.equipment.status_flag.color)}),o("strong",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(e.workorder.equipment.status_flag.name))])])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Warranty Expires:")]),o("v-col",[o("strong",[e._v(e._s(e.workorder.equipment.warranty_expiration_date))])])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Description:")]),o("v-col",[o("strong",[e._v(e._s(e.workorder.equipment.description))])])],1),o("h1",{staticClass:"title mb-2 mt-5"},[e._v("LOCATION")]),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Department:")]),o("v-col",[o("strong",[e._v(e._s(e.workorder.department.name))])])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Building:")]),o("v-col",[o("strong",[e._v(e._s(e.workorder.location.building.name))])])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Floor:")]),o("v-col",[o("strong",[e._v(e._s(e.workorder.location.floor))])])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Room No:")]),o("v-col",[o("strong",[e._v(e._s(e.workorder.location.room_number))])])],1),e.workorder.location.sub_room_section?o("div",{staticClass:"small-divider"}):e._e(),e.workorder.location.sub_room_section?o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Room No:")]),o("v-col",[o("strong",[e._v(e._s(e.workorder.location.sub_room_section))])])],1):e._e()],1),o("v-col",{attrs:{cols:"12",xs:"12",sm:"6"}},[e.workorder.report&&"DM"===e.workorder.workorder_type?o("div",[o("h1",{staticClass:"title mb-2"},[e._v("Reporter")]),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("First Name:")]),e.workorder.report.creater?o("v-col",[o("strong",[e._v(e._s(e.workorder.report.creater.first_name))])]):e._e()],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Employee Id:")]),e.workorder.report.creater?o("v-col",[o("strong",[e._v(e._s(e.workorder.report.creater.employee_id))])]):e._e()],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Phone NO:")]),e.workorder.report.creater?o("v-col",[o("strong",[e._v(e._s(e.workorder.report.creater.phone_number))])]):e._e()],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Reported As:")]),e.workorder.report.equipment_status?o("v-col",[o("div",{staticClass:"col-small-circle",style:"margin-right: 0px; background: "+e.getColorHere(e.workorder.report.equipment_status.color)}),o("strong",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(e.workorder.report.equipment_status.name))])]):e._e()],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Description:")]),o("v-col",[o("strong",[e._v(e._s(e.workorder.report.description))])])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Priority:")]),o("v-col",[o("strong",[e._v(e._s(e.workorder.report.priority.name))])])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Report Created:")]),e.workorder.report.created?o("v-col",[o("strong",[e._v(e._s(e.moment(e.workorder.report.created).fromNow()))])]):e._e()],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("User Type:")]),e.workorder.report.creater?o("v-col",[o("strong",[e._v(e._s(e.workorder.report.creater.user_type))])]):e._e()],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Employee Position:")]),e.workorder.report.creater&&e.workorder.report.creater.employee_position?o("v-col",[o("strong",[e._v(e._s(e.workorder.report.creater.employee_position.position_name))])]):e._e()],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Education Level")]),e.workorder.report.creater&&e.workorder.report.creater.training_detail?o("v-col",[o("strong",[e._v(e._s(e.workorder.report.creater.training_detail.training_level))])]):e._e()],1)],1):e._e(),"PM"===e.workorder.workorder_type&&null!=e.workorder.pm_scheduler?o("div",[o("h1",{staticClass:"title mb-2"},[e._v("Scheduler")]),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Name:")]),e.workorder.pm_scheduler.name?o("v-col",[o("strong",[e._v(e._s(e.workorder.pm_scheduler.name))])]):e._e()],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Latest Scheduled:")]),e.workorder.pm_scheduler.last_scheduled_date?o("v-col",[o("strong",[e._v(e._s(e.workorder.pm_scheduler.last_scheduled_date))])]):e._e()],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Latest Complited:")]),o("v-col",[o("strong",[e.workorder.pm_scheduler.last_complited?o("v-icon",{attrs:{color:e.getColor_now(e.workorder.pm_scheduler.last_complited),small:""}},[e._v("fa fa-check")]):o("v-icon",{attrs:{color:e.getColor_now(e.workorder.pm_scheduler.last_complited),small:""}},[e._v("fa fa-close")])],1)])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Scheduled so far:")]),e.workorder.pm_scheduler.scheduled_so_far?o("v-col",[o("strong",[e._v(e._s(e.workorder.pm_scheduler.scheduled_so_far))])]):e._e()],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Done so far:")]),e.workorder.pm_scheduler.done_so_far?o("v-col",[o("strong",[e._v(e._s(e.workorder.pm_scheduler.done_so_far))])]):e._e()],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Days to complete:")]),o("v-col",[o("strong",[e._v(e._s(e.workorder.pm_scheduler.due_date)+" days")])])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Scheduler Name:")]),o("v-col",[o("strong",[e._v(e._s(e.workorder.scheduler.name))])])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Type:")]),o("v-col",[o("strong",[e._v(e._s(e.p_sheduler_type[e.workorder.scheduler.scheduler_type]))])])],1),o("div",{staticClass:"small-divider"}),"IN"==e.workorder.scheduler.scheduler_type?o("div",[o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Interval:")]),o("v-col",[null!=e.workorder.scheduler.interval?o("strong",[e._v(e._s(e.workorder.scheduler.interval))]):e._e()])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Starting Date:")]),o("v-col",[null!=e.workorder.scheduler.interval_start_date?o("strong",[e._v(e._s(e.workorder.scheduler.interval_start_date))]):e._e()])],1),o("div",{staticClass:"small-divider"})],1):e._e(),"OT"==e.workorder.scheduler.scheduler_type?o("div",[o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("On Date:")]),o("v-col",[null!=e.workorder.scheduler.one_time_date?o("strong",[e._v(e._s(e.workorder.scheduler.one_time_date))]):e._e()])],1)],1):e._e(),"DY"==e.workorder.scheduler.scheduler_type?o("div",[o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("On Day:")]),o("v-col",[o("strong",[e._v("Every Day")])])],1)],1):e._e(),"WK"==e.workorder.scheduler.scheduler_type?o("div",[o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Week Day:")]),o("v-col",[null!=e.workorder.scheduler.week_day?o("strong",[e._v(e._s(e.get_week_days[e.workorder.scheduler.week_day].name))]):e._e()])],1)],1):e._e(),"MN"==e.workorder.scheduler.scheduler_type?o("div",[o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("On the:")]),o("v-col",[null!=e.workorder.scheduler.day_of_the_month?o("strong",[e._v(e._s(e.get_month_days[e.workorder.scheduler.day_of_the_month].name))]):e._e()])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Months:")]),o("v-col",[null!=e.workorder.scheduler.month?o("div",e._l(e.workorder.scheduler.month,(function(t){return o("strong",{key:t.id},[e._v(" - "+e._s(t.name)+" "),o("br")])})),0):e._e()])],1)],1):e._e()],1):e._e()])],1),o("div",{staticClass:"divider"}),o("v-row",{staticClass:"mb-5 mt-5",attrs:{"no-gutters":""}}),e.workorder.tasks.length>0?o("div",[o("h1",{staticClass:"title mb-3 mt-5"},[e._v("TASK LIST")]),o("v-data-table",{staticClass:"mb-5",attrs:{headers:e.task_headers,items:e.workorder.tasks,"item-key":"id","hide-default-footer":"","mobile-breakpoint":0,"no-data-text":"No TASK added"}}),o("div",{staticClass:"divider"}),o("v-row",{staticClass:"mb-5 mt-5",attrs:{"no-gutters":""}})],1):e._e(),o("h1",{staticClass:"title mb-3 mt-5"},[e._v("WORKORDER COST")]),o("v-data-table",{staticClass:"mb-5",attrs:{headers:e.headers,items:e.workorderAsArray,"item-key":"id","hide-default-footer":"",dark:"","mobile-breakpoint":0},scopedSlots:e._u([{key:"item.total_man_hour_cost",fn:function(t){var r=t.item;return[o("div",[e._v(e._s(r.total_man_hour_cost)+" ETB")])]}},{key:"item.total_invoice_cost",fn:function(t){var r=t.item;return[o("div",[e._v(e._s(r.total_invoice_cost)+" ETB")])]}},{key:"item.total_parts_cost",fn:function(t){var r=t.item;return[o("div",[e._v(e._s(r.total_parts_cost)+" ETB")])]}},{key:"item.total_cost",fn:function(t){var r=t.item;return[o("div",[e._v(e._s(r.total_cost)+" ETB")])]}}],null,!1,4069380137)}),o("div",{staticClass:"divider"}),o("h1",{staticClass:"title mt-4 mb-2"},[e._v("WORK DONE ("+e._s(e.workdone.length)+")")]),e.workdone.length>0?o("v-data-table",{staticClass:"mb-5",attrs:{headers:e.work_done_headers,items:e.workdone,"item-key":"id","hide-default-footer":e.workdone.length<=10,"mobile-breakpoint":0},on:{"click:row":e.openDetailWorkDone},scopedSlots:e._u([{key:"item.created_by.first_name",fn:function(t){var r=t.item;return[o("div",[e._v(e._s(r.created_by.first_name)+" - "+e._s(r.created_by.employee_id))])]}},{key:"item.workorder_status.name",fn:function(t){var r=t.item;return[o("div",[e._v(e._s(r.workorder_status.name))])]}},{key:"item.equipment_status.name",fn:function(t){var r=t.item;return[o("div",[e._v(e._s(r.equipment_status.name))])]}},{key:"item.created",fn:function(t){var r=t.item;return[o("div",[e._v(e._s(e.moment(r.created).fromNow()))])]}}],null,!1,177155542)}):e._e()],1)],1),o("div",{staticClass:"btns"},[o("v-layout",[o("v-flex",{attrs:{md8:""}}),o("v-flex",[!e.workorder.closed&&e.myWorkorder?o("v-btn",{attrs:{color:"green white--text text-capitalize mb-4 mr-4 mt-4"},on:{click:e.OpenSubmitWorkDoneDialog}},[o("v-icon",{attrs:{small:""}},[e._v("fa-wrench")]),o("span",{staticClass:"ml-2"},[e._v("Submit WorkDone")])],1):e._e()],1),o("v-flex",[o("v-btn",{attrs:{color:"blue-grey white--text text-capitalize mb-4 mr-4 mt-4"},on:{click:e.closeDetailWorkorder}},[o("v-icon",{attrs:{small:""}},[e._v("fa-close")]),o("span",{staticClass:"ml-2"},[e._v("Close")])],1)],1)],1)],1)],1):e._e(),e.pageLoad&&e.extera?e._e():o("div",{staticClass:"loading-card"},[o("v-main",[o("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[o("v-row",{attrs:{justify:"center",align:"center"}},[o("v-progress-circular",{attrs:{size:50,color:"blue-grey",indeterminate:""}})],1)],1)],1)],1),o("v-dialog",{attrs:{width:"750"},scopedSlots:e._u([{key:"activator",fn:function(e){}}]),model:{value:e.submitWorkDoneDialog,callback:function(t){e.submitWorkDoneDialog=t},expression:"submitWorkDoneDialog"}},[o("v-card",[o("SubmitWorkDone",{attrs:{workorder:e.workorder},on:{closeSubmitWorkdone:function(t){e.submitWorkDoneDialog=!e.submitWorkDoneDialog},reloadWorkOrder:e.reloadWorkOrder,created:e.submit_workdone_init}})],1)],1),o("v-dialog",{attrs:{width:"750"},scopedSlots:e._u([{key:"activator",fn:function(e){}}]),model:{value:e.open_work_done,callback:function(t){e.open_work_done=t},expression:"open_work_done"}},[o("v-card",[o("WorkDoneDetail",{attrs:{work_done_id:e.work_done_id},on:{created:e.init_workdone_detail,closeWorkDoneDetail:function(t){e.open_work_done=!e.open_work_done}}})],1)],1)],1)},ht=[],gt=(r("c740"),r("a9e3"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.pageLoad&&e.equipment_filters&&e.workorder_choice?r("v-card",[r("v-toolbar",{attrs:{color:"blue-grey",dark:"",flat:""}},[r("v-toolbar-title",[r("v-icon",{staticClass:"mx-2"},[e._v("fa-wrench")]),e._v(" SUBMIT WORKDONE ")],1)],1),r("v-card-text",[r("v-container",[r("v-layout",{staticClass:"mb-5",attrs:{row:"",wrap:""}},[r("v-flex",{staticClass:"px-5",attrs:{xs12:"",md6:""}},[r("v-text-field",{attrs:{label:"Title","prepend-icon":"fa-pencil-square-o",type:"text"},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}}),r("v-textarea",{attrs:{label:"Comment","prepend-icon":"fa-commenting-o","auto-grow":"",outlined:""},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}}),r("v-file-input",{attrs:{label:"Document One","prepend-icon":"fa-file-word-o"},model:{value:e.document,callback:function(t){e.document=t},expression:"document"}}),r("v-file-input",{attrs:{label:"Document Two","prepend-icon":"fa-file-word-o"},model:{value:e.document_two,callback:function(t){e.document_two=t},expression:"document_two"}})],1),r("v-flex",{staticClass:"px-5",attrs:{xs12:"",md6:""}},[r("v-select",{attrs:{label:"* Workorder Status","prepend-icon":"fa-briefcase",items:e.get_options_here(e.workorder_choice,"workorder_status"),"error-messages":e.workorder_status_errors},model:{value:e.workorder_status,callback:function(t){e.workorder_status=t},expression:"workorder_status"}}),r("v-select",{attrs:{label:"* Equipment Status","prepend-icon":"fa-fire",items:e.get_options_here(e.equipment_filters,"status_flag"),"error-messages":e.equipment_status_errors},model:{value:e.equipment_status,callback:function(t){e.equipment_status=t},expression:"equipment_status"}}),r("v-file-input",{attrs:{label:"Image One","prepend-icon":"fa-image",accept:"image/*"},model:{value:e.image,callback:function(t){e.image=t},expression:"image"}}),r("v-file-input",{attrs:{label:"Image Two","prepend-icon":"fa-image",accept:"image/*"},model:{value:e.image_two,callback:function(t){e.image_two=t},expression:"image_two"}})],1)],1),r("div",{staticClass:"divider"}),r("h1",{staticClass:"title mb-3 mt-5"},[e._v("RESOURCES")]),r("v-data-table",{staticClass:"mb-5",attrs:{headers:e.resource_headers,items:e.resources,"no-data-text":"No RESOURCE added","hide-default-footer":"","items-per-page":100,dark:"","mobile-breakpoint":0},scopedSlots:e._u([{key:"item.employee",fn:function(t){var o=t.item;return[r("div",[e._v(e._s(o.employee.first_name)+" - "+e._s(o.employee.employee_id))])]}},{key:"item.action",fn:function(t){var o=t.item;return[r("v-btn",{attrs:{depressed:"",outlined:"",icon:"",fab:"",dark:"",small:"",color:"red"},on:{click:function(t){return e.remove_resource(o)}}},[r("v-icon",[e._v("fa fa-close")])],1)]}}],null,!1,1692971098)}),r("v-btn",{staticClass:"mb-4 blue-grey white--text text-capitalize",on:{click:e.open_resource_dialog}},[r("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v("fa fa-male")]),e._v(" Add Resource ")],1),r("div",{staticClass:"divider"}),r("h1",{staticClass:"title mb-3 mt-5"},[e._v("INVOICES")]),r("v-data-table",{staticClass:"mb-5",attrs:{headers:e.invoice_headers,items:e.invoices,"no-data-text":"No INVOICE added","hide-default-footer":"","items-per-page":100,dark:"","mobile-breakpoint":0},scopedSlots:e._u([{key:"item.action",fn:function(t){var o=t.item;return[r("v-btn",{attrs:{depressed:"",outlined:"",icon:"",fab:"",dark:"",small:"",color:"red"},on:{click:function(t){return e.remove_invoice(o)}}},[r("v-icon",[e._v("fa fa-close")])],1)]}}],null,!1,3200180384)}),r("v-btn",{staticClass:"mb-4 blue-grey white--text text-capitalize",on:{click:e.open_invoice_dialog}},[r("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v("fa fa-ticket")]),e._v(" Add Invoice ")],1),r("div",{staticClass:"divider"}),r("h1",{staticClass:"title mb-3 mt-5"},[e._v("PARTS")]),r("v-data-table",{staticClass:"mb-5",attrs:{headers:e.part_headers,items:e.parts,"no-data-text":"No PARTS added","hide-default-footer":"","items-per-page":100,dark:"","mobile-breakpoint":0},scopedSlots:e._u([{key:"item.part.created",fn:function(t){var o=t.item;return[r("v-btn",{attrs:{depressed:"",outlined:"",icon:"",fab:"",dark:"",small:"",color:"red"},on:{click:function(t){return e.remove_part(o)}}},[r("v-icon",[e._v("fa fa-close")])],1)]}}],null,!1,706745601)}),r("v-btn",{staticClass:"mb-4 blue-grey white--text text-capitalize",on:{click:e.open_parts_dialog}},[r("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v("fa fa-gears")]),e._v(" Add Parts ")],1)],1)],1),r("div",{staticClass:"btns"},[r("v-layout",[r("v-flex",{attrs:{md8:""}}),r("v-flex",[r("v-btn",{attrs:{loading:e.loading,color:"green white--text text-capitalize mb-4 mr-4 mt-4"},on:{click:e.submitWorkdone}},[r("v-icon",{attrs:{small:""}},[e._v("fa-wrench")]),r("span",{staticClass:"ml-2"},[e._v("Submit")])],1)],1),r("v-flex",[r("v-btn",{attrs:{color:"blue-grey white--text text-capitalize mb-4 mr-4 mt-4"},on:{click:e.closeSubmitWorkdone}},[r("v-icon",{attrs:{small:""}},[e._v("fa-close")]),r("span",{staticClass:"ml-2"},[e._v("Close")])],1)],1)],1)],1)],1):e._e(),e.pageLoad?e._e():r("div",{staticClass:"loading-card"},[r("v-main",[r("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[r("v-row",{attrs:{justify:"center",align:"center"}},[r("v-progress-circular",{attrs:{size:50,color:"blue-grey",indeterminate:""}})],1)],1)],1)],1),r("v-dialog",{attrs:{width:"650"},scopedSlots:e._u([{key:"activator",fn:function(e){}}]),model:{value:e.resource_dialog,callback:function(t){e.resource_dialog=t},expression:"resource_dialog"}},[r("v-card",[r("Resources",{on:{closeSubmitWorkdone:function(t){e.submitWorkDoneDialog=!e.submitWorkDoneDialog},created:e.resources_init,add_resource:e.resource_added,close:function(t){e.resource_dialog=!e.resource_dialog}}})],1)],1),r("v-dialog",{attrs:{width:"650"},scopedSlots:e._u([{key:"activator",fn:function(e){}}]),model:{value:e.invoice_dialog,callback:function(t){e.invoice_dialog=t},expression:"invoice_dialog"}},[r("v-card",[r("Invoice",{on:{closeSubmitWorkdone:function(t){e.submitWorkDoneDialog=!e.submitWorkDoneDialog},created:e.invoice_init,add_invoice:e.invoice_added,close:function(t){e.invoice_dialog=!e.invoice_dialog}}})],1)],1),r("v-dialog",{attrs:{width:"650"},scopedSlots:e._u([{key:"activator",fn:function(e){}}]),model:{value:e.parts_dialog,callback:function(t){e.parts_dialog=t},expression:"parts_dialog"}},[r("v-card",[r("Parts",{attrs:{equipment_id:e.workorder.equipment.inventory_number},on:{closeSubmitWorkdone:function(t){e.submitWorkDoneDialog=!e.submitWorkDoneDialog},created:e.parts_init,add_part_used:e.parts_added,close:function(t){e.parts_dialog=!e.parts_dialog}}})],1)],1)],1)}),bt=[],kt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.pageLoad?r("v-card",[r("v-toolbar",{attrs:{color:"blue-grey",dark:"",flat:""}},[r("v-toolbar-title",[r("v-icon",{staticClass:"mx-2"},[e._v("fa-gears")]),e._v(' PARTS FOR "'+e._s(e.equipment_name)+'" ')],1)],1),r("v-card-text",[r("v-container",[r("v-layout",{staticClass:"mb-5",attrs:{row:"",wrap:""}},[r("v-flex",{staticClass:"px-5",attrs:{xs12:"",md6:""}},[r("v-select",{attrs:{label:"Part #","prepend-icon":"fa-gears",items:e.get_part_list},model:{value:e.part,callback:function(t){e.part=t},expression:"part"}})],1),r("v-flex",{staticClass:"px-5",attrs:{xs12:"",md6:""}},[r("v-text-field",{attrs:{label:"Quantity Used","prepend-icon":"fa-cubes",type:"number","error-messages":e.generate_part_quantity_error},model:{value:e.quantity_used,callback:function(t){e.quantity_used=t},expression:"quantity_used"}})],1)],1),e.part?r("v-layout",{staticClass:"mb-5",attrs:{row:"",wrap:""}},[r("v-flex",{staticClass:"px-5",attrs:{xs12:"",md6:""}},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Part Name:")]),r("v-col",[r("strong",[e._v(e._s(e.part.name))])])],1),r("div",{staticClass:"small-divider"})],1),r("v-flex",{staticClass:"px-5",attrs:{xs12:"",md6:""}},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Part Number:")]),r("v-col",[r("strong",[e._v(e._s(e.part.part_number))])])],1),r("div",{staticClass:"small-divider"})],1),r("v-flex",{staticClass:"px-5",attrs:{xs12:"",md6:""}},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Quantity on Hand:")]),r("v-col",[r("strong",[e._v(e._s(e.part.quantity_on_hand))])])],1),r("div",{staticClass:"small-divider"})],1),r("v-flex",{staticClass:"px-5",attrs:{xs12:"",md6:""}},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Minimum Quantity:")]),r("v-col",[r("strong",[e._v(e._s(e.part.minimum_quantity))])])],1),r("div",{staticClass:"small-divider"})],1),r("v-flex",{staticClass:"px-5",attrs:{xs12:"",md6:""}},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Description:")]),r("v-col",[r("strong",[e._v(e._s(e.part.description))])])],1),r("div",{staticClass:"small-divider"})],1),r("v-flex",{staticClass:"px-5",attrs:{xs12:"",md6:""}},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Price:")]),r("v-col",[r("strong",[e._v(e._s(e.part.price))])])],1),r("div",{staticClass:"small-divider"})],1),r("v-flex",{staticClass:"px-5",attrs:{xs12:"",md6:""}},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Location:")]),r("v-col",[e.part.location?r("strong",[e._v("BG: "+e._s(e.part.location.building.name)+" - FL: "+e._s(e.part.location.floor)+" - RM: "+e._s(e.part.location.room_number))]):e._e()])],1),r("div",{staticClass:"small-divider"})],1),r("v-flex",{staticClass:"px-5",attrs:{xs12:"",md6:""}},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Manufacturer:")]),r("v-col",[e.part.manufacturer?r("strong",[e._v(e._s(e.part.manufacturer.name))]):e._e()])],1),r("div",{staticClass:"small-divider"})],1),r("v-flex",{staticClass:"px-5",attrs:{xs12:"",md6:""}},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Supplier:")]),r("v-col",[e.part.supplier?r("strong",[e._v(e._s(e.part.supplier.name))]):e._e()])],1)],1)],1):e._e()],1)],1),r("div",{staticClass:"btns"},[r("v-layout",[r("v-flex",{attrs:{md8:""}}),r("v-flex",[r("v-btn",{attrs:{color:"green white--text text-capitalize mb-4 mr-4 mt-4"},on:{click:e.add}},[r("v-icon",{attrs:{small:""}},[e._v("fa-check")]),r("span",{staticClass:"ml-2"},[e._v("Ok")])],1)],1),r("v-flex",[r("v-btn",{attrs:{color:"blue-grey white--text text-capitalize mb-4 mr-4 mt-4"},on:{click:e.close}},[r("v-icon",{attrs:{small:""}},[e._v("fa-close")]),r("span",{staticClass:"ml-2"},[e._v("Cancel")])],1)],1)],1)],1)],1):e._e(),e.pageLoad?e._e():r("div",{staticClass:"loading-card"},[r("v-main",[r("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[r("v-row",{attrs:{justify:"center",align:"center"}},[r("v-progress-circular",{attrs:{size:50,color:"blue-grey",indeterminate:""}})],1)],1)],1)],1)],1)},wt=[],yt={name:"Parts",props:["equipment_id"],data:function(){return{pageLoad:!0,part_list:null,part:null,quantity_used:0,equipment_name:null}},computed:{get_part_list:function(){var e=[];for(var t in this.part_list)e.push({text:this.part_list[t].name,value:this.part_list[t]});return e},generate_part_quantity_error:function(){return this.part&&this.quantity_used>this.part.quantity_on_hand?"We dont have "+this.quantity_used+' "'+this.part.name+'" on hand':null}},methods:{close:function(){this.$emit("close")},reset:function(){this.part_list=null,this.part=null,this.quantity_used=0,this.equipment_name=null},get_equipment_parts:function(){var e=this;this.reset(),this.$store.dispatch("workorder/get_equipment_parts",this.equipment_id).then((function(t){e.pageLoad=!0,e.part_list=t.parts,e.equipment_name=t.equipment_name})).catch((function(){e.pageLoad=!1}))},add:function(){if(this.part&&this.quantity_used>0&&!this.generate_part_quantity_error){var e={part:this.part,quantity_used:this.quantity_used};this.$emit("add_part_used",e),this.close()}else this.$store.commit("SET_SNACKBAR",{message:"Fill the form properly",value:!0,status:"error"})}},created:function(){this.$emit("created",this.get_equipment_parts),this.get_equipment_parts()}},xt=yt,Ct=(r("8c8c"),Object(v["a"])(xt,kt,wt,!1,null,"0fc049b2",null)),Ot=Ct.exports;f()(Ct,{VBtn:h["a"],VCard:$["a"],VCardText:I["b"],VCol:z["a"],VContainer:B["a"],VContent:M["a"],VFlex:$e["a"],VIcon:g["a"],VLayout:Ie["a"],VProgressCircular:Be["a"],VRow:K["a"],VSelect:Me["a"],VTextField:Y["a"],VToolbar:U["a"],VToolbarTitle:G["a"]});var Dt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.pageLoad?r("v-card",[r("v-toolbar",{attrs:{color:"blue-grey",dark:"",flat:""}},[r("v-toolbar-title",[r("v-icon",{staticClass:"mx-2"},[e._v("fa-male")]),e._v(" RESOURCES ")],1)],1),r("v-card-text",[r("v-container",[r("v-layout",{staticClass:"mb-5",attrs:{row:"",wrap:""}},[r("v-flex",{staticClass:"px-5",attrs:{xs12:"",md6:""}},[r("v-select",{attrs:{label:"* Resource","prepend-icon":"fa-male",items:e.resources},model:{value:e.employee,callback:function(t){e.employee=t},expression:"employee"}}),r("v-text-field",{attrs:{label:"OT1 Hours","prepend-icon":"fa-clock-o",type:"number"},model:{value:e.ot1_hours,callback:function(t){e.ot1_hours=t},expression:"ot1_hours"}}),r("v-text-field",{attrs:{label:"OT2 Hours","prepend-icon":"fa-clock-o",type:"number"},model:{value:e.ot2_hours,callback:function(t){e.ot2_hours=t},expression:"ot2_hours"}}),r("v-text-field",{attrs:{label:"OT3 Hours","prepend-icon":"fa-clock-o",type:"number"},model:{value:e.ot3_hours,callback:function(t){e.ot3_hours=t},expression:"ot3_hours"}})],1),r("v-flex",{staticClass:"px-5",attrs:{xs12:"",md6:""}},[r("v-text-field",{attrs:{label:"Regular Hours","prepend-icon":"fa-clock-o",type:"number"},model:{value:e.regular_hours,callback:function(t){e.regular_hours=t},expression:"regular_hours"}}),r("v-text-field",{attrs:{label:"OT1 Rate","prepend-icon":"fa-money",type:"number"},model:{value:e.ot1_rate,callback:function(t){e.ot1_rate=t},expression:"ot1_rate"}}),r("v-text-field",{attrs:{label:"OT2 Rate","prepend-icon":"fa-money",type:"number"},model:{value:e.ot2_rate,callback:function(t){e.ot2_rate=t},expression:"ot2_rate"}}),r("v-text-field",{attrs:{label:"OT3 Rate","prepend-icon":"fa-money",type:"number"},model:{value:e.ot3_rate,callback:function(t){e.ot3_rate=t},expression:"ot3_rate"}})],1)],1)],1)],1),r("div",{staticClass:"btns"},[r("v-layout",[r("v-flex",{attrs:{md8:""}}),r("v-flex",[r("v-btn",{attrs:{color:"green white--text text-capitalize mb-4 mr-4 mt-4"},on:{click:e.add}},[r("v-icon",{attrs:{small:""}},[e._v("fa-check")]),r("span",{staticClass:"ml-2"},[e._v("Ok")])],1)],1),r("v-flex",[r("v-btn",{attrs:{color:"blue-grey white--text text-capitalize mb-4 mr-4 mt-4"},on:{click:e.close}},[r("v-icon",{attrs:{small:""}},[e._v("fa-close")]),r("span",{staticClass:"ml-2"},[e._v("Cancel")])],1)],1)],1)],1)],1):e._e(),e.pageLoad?e._e():r("div",{staticClass:"loading-card"},[r("v-main",[r("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[r("v-row",{attrs:{justify:"center",align:"center"}},[r("v-progress-circular",{attrs:{size:50,color:"blue-grey",indeterminate:""}})],1)],1)],1)],1)],1)},jt=[];function St(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Vt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?St(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):St(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var qt={name:"Resources",data:function(){return{pageLoad:!1,employee:null,regular_hours:null,ot1_hours:null,ot2_hours:null,ot3_hours:null,ot1_rate:null,ot2_rate:null,ot3_rate:null}},computed:Vt({},Object(c["b"])({workorder_choice:"workorder/workorder_choice"}),{resources:function(){var e=[],t=this.workorder_choice.assigne_to;for(var r in t)e.push({value:t[r],text:t[r].first_name+" ID: "+t[r].employee_id});return e}}),methods:{close:function(){this.$emit("close")},add:function(){if(this.checkForm()&&(this.regular_hours||this.ot1_hours||this.ot2_hours||this.ot3_hours)){var e={employee:this.employee,regular_hours:this.regular_hours,over_time_one:this.ot1_hours,over_time_two:this.ot2_hours,over_time_three:this.ot3_hours,over_time_one_rate:this.ot1_rate,over_time_two_rate:this.ot2_rate,over_time_three_rate:this.ot3_rate,action:null};this.$emit("add_resource",e),this.close()}else this.$store.commit("SET_SNACKBAR",{message:"Please Fill the form properly",value:!0,status:"error"})},reset:function(){this.employee=null,this.regular_hours=null,this.ot1_hours=null,this.ot2_hours=null,this.ot3_hours=null,this.ot1_rate=null,this.ot2_rate=null,this.ot3_rate=null},checkForm:function(){var e=!0;return null!==this.employee?((this.ot1_hours||this.ot1_rate)&&(e=!(!this.ot1_rate||!this.ot1_rate)),(this.ot2_hours||this.ot2_rate)&&(e=!(!this.ot2_hours||!this.ot2_rate)),(this.ot3_hours||this.ot3_rate)&&(e=!(!this.ot3_hours||!this.ot3_rate))):e=!1,e}},created:function(){var e=this;null!==this.workorder_choice?this.pageLoad=!0:this.$store.dispatch("workorder/get_workorder_choice").then((function(){e.pageLoad=!0})).catch((function(){e.pageLoad=!1})),this.$emit("created",this.reset)}},Pt=qt,Tt=(r("2f21"),Object(v["a"])(Pt,Dt,jt,!1,null,"dedada9e",null)),Et=Tt.exports;f()(Tt,{VBtn:h["a"],VCard:$["a"],VCardText:I["b"],VContainer:B["a"],VContent:M["a"],VFlex:$e["a"],VIcon:g["a"],VLayout:Ie["a"],VProgressCircular:Be["a"],VRow:K["a"],VSelect:Me["a"],VTextField:Y["a"],VToolbar:U["a"],VToolbarTitle:G["a"]});var Rt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.pageLoad?r("v-card",[r("v-toolbar",{attrs:{color:"blue-grey",dark:"",flat:""}},[r("v-toolbar-title",[r("v-icon",{staticClass:"mx-2"},[e._v("fa-ticket")]),e._v(" INVOICE ")],1)],1),r("v-card-text",[r("v-container",[r("v-layout",{staticClass:"mb-5",attrs:{row:"",wrap:""}},[r("v-flex",{staticClass:"px-5",attrs:{xs12:"",md6:""}},[r("v-text-field",{attrs:{label:"* Invoice #","prepend-icon":"fa-ticket",type:"text"},model:{value:e.invoice_no,callback:function(t){e.invoice_no=t},expression:"invoice_no"}}),r("v-text-field",{attrs:{label:"* PO #","prepend-icon":"fa-ticket",type:"text"},model:{value:e.po_no,callback:function(t){e.po_no=t},expression:"po_no"}}),r("v-select",{attrs:{label:"Company","prepend-icon":"fa-institution",items:e.get_companies},model:{value:e.company,callback:function(t){e.company=t},expression:"company"}}),r("v-text-field",{attrs:{label:"* Company Name","prepend-icon":"fa-bank",type:"text"},model:{value:e.company_name,callback:function(t){e.company_name=t},expression:"company_name"}})],1),r("v-flex",{staticClass:"px-5",attrs:{xs12:"",md6:""}},[r("v-text-field",{attrs:{label:"Charge Total","prepend-icon":"fa-money",type:"number"},model:{value:e.charge_total,callback:function(t){e.charge_total=t},expression:"charge_total"}}),r("v-text-field",{attrs:{label:"Tax 1","prepend-icon":"fa-percent",type:"number"},model:{value:e.tax_one,callback:function(t){e.tax_one=t},expression:"tax_one"}}),r("v-text-field",{attrs:{label:"Tax 2","prepend-icon":"fa-percent",type:"number"},model:{value:e.tax_two,callback:function(t){e.tax_two=t},expression:"tax_two"}}),r("v-text-field",{attrs:{label:"* Total","prepend-icon":"fa-money",type:"number"},model:{value:e.total,callback:function(t){e.total=t},expression:"total"}})],1)],1)],1)],1),r("div",{staticClass:"btns"},[r("v-layout",[r("v-flex",{attrs:{md8:""}}),r("v-flex",[r("v-btn",{attrs:{color:"green white--text text-capitalize mb-4 mr-4 mt-4"},on:{click:e.add}},[r("v-icon",{attrs:{small:""}},[e._v("fa-check")]),r("span",{staticClass:"ml-2"},[e._v("Ok")])],1)],1),r("v-flex",[r("v-btn",{attrs:{color:"blue-grey white--text text-capitalize mb-4 mr-4 mt-4"},on:{click:e.close}},[r("v-icon",{attrs:{small:""}},[e._v("fa-close")]),r("span",{staticClass:"ml-2"},[e._v("Cancel")])],1)],1)],1)],1)],1):e._e(),e.pageLoad?e._e():r("div",{staticClass:"loading-card"},[r("v-main",[r("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[r("v-row",{attrs:{justify:"center",align:"center"}},[r("v-progress-circular",{attrs:{size:50,color:"blue-grey",indeterminate:""}})],1)],1)],1)],1)],1)},Wt=[];function Lt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function At(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Nt={name:"Invoices",data:function(){return{pageLoad:!0,company:null,invoice_no:null,po_no:null,company_name:null,charge_total:null,tax_one:null,tax_two:null,total:null}},computed:At({},Object(c["b"])({companies:"workorder/companies"}),{get_companies:function(){var e=[{text:"---------------",value:null}],t=this.companies;for(var r in t)t[r].name&&e.push({value:t[r],text:t[r].name});return e}}),methods:{close:function(){this.$emit("close")},add:function(){if(this.checkForm()){var e={company:this.company,invoice_no:this.invoice_no,po_no:this.po_no,company_name:this.company_name,charge_total:this.charge_total,tax_one:this.tax_one,tax_two:this.tax_two,total:this.total,action:null};this.$emit("add_invoice",e),this.close()}else this.$store.commit("SET_SNACKBAR",{message:"Fill the form properly",value:!0,status:"error"})},reset:function(){this.company=null,this.invoice_no=null,this.po_no=null,this.company_name=null,this.charge_total=null,this.tax_one=null,this.tax_two=null,this.total=null},checkForm:function(){return!!(this.invoice_no&&this.po_no&&this.company_name&&this.total)}},created:function(){var e=this;null!==this.companies?this.pageLoad=!0:this.$store.dispatch("workorder/get_companies").then((function(){e.pageLoad=!0})).catch((function(){e.pageLoad=!1})),this.$emit("created",this.reset)}},$t=Nt,It=(r("1a1f"),Object(v["a"])($t,Rt,Wt,!1,null,"61e9ea0a",null)),zt=It.exports;function Bt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}f()(It,{VBtn:h["a"],VCard:$["a"],VCardText:I["b"],VContainer:B["a"],VContent:M["a"],VFlex:$e["a"],VIcon:g["a"],VLayout:Ie["a"],VProgressCircular:Be["a"],VRow:K["a"],VSelect:Me["a"],VTextField:Y["a"],VToolbar:U["a"],VToolbarTitle:G["a"]});var Ft={name:"SubmitWorkDone",props:["workorder"],components:{Parts:Ot,Resources:Et,Invoice:zt},data:function(){return{pageLoad:!1,loading:!1,resource_headers:[{text:"Name",value:"employee"},{text:"Regular Hours",value:"regular_hours"},{text:"OT1 Hours",value:"over_time_one"},{text:"OT1 Rate",value:"over_time_one_rate"},{text:"OT2 Hours",value:"over_time_two"},{text:"OT2 Rate",value:"over_time_two_rate"},{text:"OT3 Hours",value:"over_time_three"},{text:"OT3 Rate",value:"over_time_three_rate"},{text:"Action",value:"action"}],resources:[],resource_dialog:!1,invoice_headers:[{text:"Invoice #",value:"invoice_no"},{text:"PO #",value:"po_no"},{text:"Company",value:"company_name"},{text:"Charge Total",value:"charge_total"},{text:"Tax 1",value:"tax_one"},{text:"Tax 2",value:"tax_two"},{text:"Total",value:"total"},{text:"Action",value:"action"}],invoices:[],invoice_dialog:!1,part_headers:[{text:"Part",value:"part.name"},{text:"Part Number",value:"part.part_number"},{text:"Quantity On Hand",value:"part.quantity_on_hand"},{text:"Quantity Used",value:"quantity_used"},{text:"Price",value:"part.price"},{text:"Action",value:"part.created"}],parts:[],parts_dialog:!1,title:null,workorder_status:null,equipment_status:null,description:null,image:null,image_two:null,document:null,document_two:null,workorder_type:null,tasks:null,workorder_status_errors:null,equipment_status_errors:null,set_resources:null,set_invoice:null,set_parts:null}},computed:Mt({},Object(c["b"])({user:"auth/user",workorder_choice:"workorder/workorder_choice",equipment_filters:"equipments/equipment_filters"})),methods:{closeSubmitWorkdone:function(){this.$emit("closeSubmitWorkdone")},get_options_here:function(e,t){return De(e,t)},submitWorkdone:function(){var e=this,t=this;t.equipment_status_errors=null,t.workorder_status_errors=null;var r=t.prepareFormData(["title","workorder_status","equipment_status","description","image","image_two","document","document_two","workorder_type"],t);r.append("work_done.workorder_type",t.workorder.workorder_type),r.append("work_done.workorder",t.workorder.id),r.append("work_done.created_by",t.user.id),t.prepareInvoice(r,t.invoices,["invoice_no","po_no","company_name","total","charge_total","tax_one","tax_two"]),t.preparePartsUsed(r,t.parts),t.prepareResources(r,t.resources,["over_time_one","over_time_one_rate","over_time_three","over_time_three_rate","over_time_two","over_time_two_rate","regular_hours"]),this.loading=!0,this.$store.dispatch("workorder/create_work_done",r).then((function(){e.loading=!1,e.$store.commit("SET_SNACKBAR",{message:"Successfully Submited a Work Report.",value:!0,status:"success"}),e.$emit("reloadWorkOrder",e.workorder.id),e.closeSubmitWorkdone()})).catch((function(t){for(var r in e.loading=!1,t.response.data.work_done)"non_field_errors"!==r?e[r+"_errors"]=t.response.data.work_done[r]:e[r]=t.response.data[r];400===t.response.status&&e.$store.commit("SET_SNACKBAR",{message:"Please Fill the form properly",value:!0,status:"error"})}))},prepareFormData:function(e,t){var r=new FormData;for(var o in e)t._data[e[o]]&&r.append("work_done."+e[o],t._data[e[o]]);return r},prepareInvoice:function(e,t,r){for(var o in t){for(var a in r)t[o][r[a]]&&e.append("invoice["+o+"]"+r[a],t[o][r[a]]);this.invoices[o].company&&e.append("invoice["+o+"]company",t[o].company.id),e.append("invoice["+o+"]workorder",this.workorder.id),e.append("invoice["+o+"]created_by",this.user.id)}return e},preparePartsUsed:function(e,t){for(var r in t)e.append("parts_used["+r+"]part",t[r].part.id),e.append("parts_used["+r+"]quantity_used",t[r].quantity_used),e.append("parts_used["+r+"]created_by",this.user.id),e.append("parts_used["+r+"]workorder",this.workorder.id)},prepareResources:function(e,t,r){for(var o in t){for(var a in r)t[o][r[a]]&&e.append("man_hour["+o+"]"+r[a],t[o][r[a]]);e.append("man_hour["+o+"]employee",t[o].employee.id),e.append("man_hour["+o+"]created_by",this.user.id),e.append("man_hour["+o+"]workorder",this.workorder.id)}},reset:function(){this.title=null,this.workorder_status=null,this.equipment_status=null,this.description=null,this.image=null,this.image_two=null,this.document=null,this.document_two=null,this.workorder_type=null,this.tasks=null,this.workorder_status_errors=null,this.equipment_status_errors=null,this.resources=[],this.invoices=[],this.parts=[]},parts_init:function(e){this.set_parts=e},resources_init:function(e){this.set_resources=e},invoice_init:function(e){this.set_invoice=e},open_parts_dialog:function(){this.parts_dialog=!this.parts_dialog,this.set_parts&&this.set_parts()},open_invoice_dialog:function(){this.invoice_dialog=!this.invoice_dialog,this.set_invoice&&this.set_invoice()},open_resource_dialog:function(){this.resource_dialog=!this.resource_dialog,this.set_resources&&this.set_resources()},parts_added:function(e){this.parts.push(e)},remove_part:function(e){this.parts=this.parts.filter((function(t){return t!==e}))},resource_added:function(e){this.resources.push(e)},remove_resource:function(e){this.resources=this.resources.filter((function(t){return t!==e}))},invoice_added:function(e){this.invoices.push(e)},remove_invoice:function(e){this.invoices=this.invoices.filter((function(t){return t!==e}))}},created:function(){var e=this;console.log("created"),this.pageLoad=!1,null===this.equipment_filters?this.$store.dispatch("equipments/get_equipment_filters").then((function(){null===e.workorder_choice?e.$store.dispatch("workorder/get_workorder_choice").then((function(){e.pageLoad=!0})).catch((function(){e.pageLoad=!1})):e.pageLoad=!0})).catch((function(){e.pageLoad=!1})):null===this.workorder_choice?this.$store.dispatch("workorder/get_workorder_choice").then((function(){e.pageLoad=!0})).catch((function(){e.pageLoad=!1})):this.pageLoad=!0,this.$emit("created",this.reset)}},Kt=Ft,Ht=(r("414f"),r("8fea")),Yt=Object(v["a"])(Kt,gt,bt,!1,null,"0e571552",null),Ut=Yt.exports;f()(Yt,{VBtn:h["a"],VCard:$["a"],VCardText:I["b"],VContainer:B["a"],VContent:M["a"],VDataTable:Ht["a"],VDialog:Ze["a"],VFileInput:Ne["a"],VFlex:$e["a"],VIcon:g["a"],VLayout:Ie["a"],VProgressCircular:Be["a"],VRow:K["a"],VSelect:Me["a"],VTextField:Y["a"],VTextarea:Fe["a"],VToolbar:U["a"],VToolbarTitle:G["a"]});var Gt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e.pageLoad?o("v-card",[o("v-toolbar",{attrs:{color:"blue-grey",dark:"",flat:""}},[o("v-toolbar-title",[o("v-icon",{staticClass:"mx-2"},[e._v("fa-briefcase")]),e._v(" WORK DONE - ("+e._s(e.work_done.work_done.id)+") ")],1)],1),o("v-card-text",[o("v-container",[o("v-row",{staticClass:"mb-5",attrs:{align:"center",justify:"center","no-gutters":""}},[o("v-col",{staticClass:"mr-2",attrs:{cols:"12",xs:"12",sm:"4"}},[e.work_done.work_done.image?o("a",{attrs:{target:"_blank",href:e.media_url+e.work_done.work_done.image}},[o("v-img",{staticClass:"mb-2",attrs:{src:e.media_url+e.work_done.work_done.image,crossorigin:"anonymous","lazy-src":r("4b50"),"max-height":"150","aspect-ratio":"1.7",contain:"",width:"255",position:""}})],1):e._e()]),o("v-col",{staticClass:"ml-2",attrs:{cols:"12",xs:"12",sm:"4"}},[e.work_done.work_done.image_two?o("a",{attrs:{target:"_blank",href:e.media_url+e.work_done.work_done.image_two}},[o("v-img",{staticClass:"mb-2",attrs:{src:e.media_url+e.work_done.work_done.image_two,crossorigin:"anonymous","lazy-src":r("4b50"),"max-height":"150","aspect-ratio":"1.7",contain:"",width:"255",position:""}})],1):e._e()])],1),e.work_done.work_done.image||e.work_done.work_done.image_two?o("div",{staticClass:"divider"}):e._e(),o("v-row",{staticClass:"mb-5 mt-5",attrs:{"no-gutters":""}},[o("v-col",{attrs:{cols:"12",xs:"12",sm:"6"}},[o("h1",{staticClass:"title mb-2"},[e._v("WORK DONE")]),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Title:")]),o("v-col",[o("strong",[e._v(e._s(e.work_done.work_done.title))])])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Created BY:")]),o("v-col",[o("strong",[e._v(" "+e._s(e.work_done.work_done.created_by.first_name)+" - "+e._s(e.work_done.work_done.created_by.employee_id)+" ")])])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Work Order Type:")]),o("v-col",[o("strong",[e._v(e._s("DM"==e.work_done.work_done.workorder_type?"Demand":"PM"))])])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Description:")]),o("v-col",[o("strong",[e._v(e._s("null"==e.work_done.work_done.description?"":e.work_done.work_done.description))])])],1),e.work_done.work_done.document?o("div",{staticClass:"small-divider"}):e._e(),e.work_done.work_done.document?o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Document:")]),o("v-col",[o("strong",[o("a",{attrs:{target:"_blank",href:e.media_url+e.work_done.work_done.document}},[e._v("document")])])])],1):e._e(),e.work_done.work_done.document_two?o("div",{staticClass:"small-divider"}):e._e(),e.work_done.work_done.document_two?o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Document Two:")]),o("v-col",[o("strong",[o("a",{attrs:{target:"_blank",href:e.media_url+e.work_done.work_done.document}},[e._v("document two")])])])],1):e._e()],1),o("v-col",{attrs:{cols:"12",xs:"12",sm:"6"}},[o("h1",{staticClass:"title mb-2"},[e._v("WorkOrder")]),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("WorkOrder Name:")]),o("v-col",[o("strong",[e._v(e._s(e.work_done.work_done.workorder.name))])])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Workorder status:")]),o("v-col",[o("strong",[e._v(e._s(e.work_done.work_done.workorder_status.name))])])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Equipment status:")]),o("v-col",[o("strong",[e._v(e._s(e.work_done.work_done.equipment_status.name))])])],1)],1)],1),o("div",{staticClass:"divider"}),o("h1",{staticClass:"title mb-3 mt-5"},[e._v("RESOURCES")]),o("v-data-table",{staticClass:"mb-5",attrs:{headers:e.resource_headers,items:e.work_done.man_hours,"no-data-text":"No RESOURCE","hide-default-footer":e.work_done.man_hours.length<=10,dark:"","mobile-breakpoint":0},scopedSlots:e._u([{key:"item.employee",fn:function(t){var r=t.item;return[o("div",[e._v(e._s(r.employee.first_name)+" - "+e._s(r.employee.employee_id))])]}}],null,!1,1095423080)}),o("div",{staticClass:"divider"}),o("h1",{staticClass:"title mb-3 mt-5"},[e._v("INVOICES")]),o("v-data-table",{staticClass:"mb-5",attrs:{headers:e.invoice_headers,items:e.work_done.invoices,"no-data-text":"No INVOICE","hide-default-footer":e.work_done.invoices.length<=10,dark:"","mobile-breakpoint":0}}),o("div",{staticClass:"divider"}),o("h1",{staticClass:"title mb-3 mt-5"},[e._v("PARTS")]),o("v-data-table",{staticClass:"mb-5",attrs:{headers:e.part_headers,items:e.work_done.parts_used,"no-data-text":"No PARTS","hide-default-footer":e.work_done.parts_used.length<=10,dark:"","mobile-breakpoint":0}}),o("div",{staticClass:"divider"})],1)],1),o("div",{staticClass:"btns"},[o("v-layout",[o("v-flex",{attrs:{md10:""}}),o("v-flex",[o("v-btn",{attrs:{color:"blue-grey white--text text-capitalize mb-4 mr-4 mt-4"},on:{click:e.closeWorkDoneDetail}},[o("v-icon",{attrs:{small:""}},[e._v("fa-close")]),o("span",{staticClass:"ml-2"},[e._v("Close")])],1)],1)],1)],1)],1):e._e(),e.pageLoad?e._e():o("div",{staticClass:"loading-card"},[o("v-main",[o("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[o("v-row",{attrs:{justify:"center",align:"center"}},[o("v-progress-circular",{attrs:{size:50,color:"blue-grey",indeterminate:""}})],1)],1)],1)],1)],1)},Qt=[],Jt={name:"WorkDoneDetail",props:["work_done_id"],data:function(){return{work_done:null,pageLoad:!1,media_url:null,resource_headers:[{text:"Name",value:"employee"},{text:"Regular Hours",value:"regular_hours"},{text:"OT1 Hours",value:"over_time_one"},{text:"OT1 Rate",value:"over_time_one_rate"},{text:"OT2 Hours",value:"over_time_two"},{text:"OT2 Rate",value:"over_time_two_rate"},{text:"OT3 Hours",value:"over_time_three"},{text:"OT3 Rate",value:"over_time_three_rate"}],invoice_headers:[{text:"Invoice #",value:"invoice_no"},{text:"PO #",value:"po_no"},{text:"Company",value:"company_name"},{text:"Charge Total",value:"charge_total"},{text:"Tax 1",value:"tax_one"},{text:"Tax 2",value:"tax_two"},{text:"Total",value:"total"}],part_headers:[{text:"Part",value:"part.name"},{text:"Part Number",value:"part.part_number"},{text:"Quantity On Hand",value:"part.quantity_on_hand"},{text:"Quantity Used",value:"quantity_used"},{text:"Price",value:"part.price"}]}},methods:{get_workdone:function(e){var t=this;this.pageLoad=!1,this.$store.dispatch("workorder/get_workdone_detail",e).then((function(e){t.work_done=e,t.pageLoad=!0})).catch((function(){t.pageLoad=!1}))},closeWorkDoneDetail:function(){this.$emit("closeWorkDoneDetail")}},created:function(){this.$emit("created",this.get_workdone),this.get_workdone(this.work_done_id);var e="http://192.168.43.138:8000/api/";this.media_url=e.substring(0,e.length-5)}},Zt=Jt,Xt=(r("867a"),r("adda")),er=Object(v["a"])(Zt,Gt,Qt,!1,null,"6e9a5dfc",null),tr=er.exports;f()(er,{VBtn:h["a"],VCard:$["a"],VCardText:I["b"],VCol:z["a"],VContainer:B["a"],VContent:M["a"],VDataTable:Ht["a"],VFlex:$e["a"],VIcon:g["a"],VImg:Xt["a"],VLayout:Ie["a"],VProgressCircular:Be["a"],VRow:K["a"],VToolbar:U["a"],VToolbarTitle:G["a"]});var rr=[{id:"OT",name:"One Time"},{id:"DY",name:"Daily"},{id:"WK",name:"Weekly"},{id:"MN",name:"Monthly"},{id:"IN",name:"Interval"}],or=[{id:1,name:"1st"},{id:2,name:"2nd"},{id:3,name:"3rd"},{id:4,name:"4th"},{id:5,name:"5th"},{id:6,name:"6th"},{id:7,name:"7th"},{id:8,name:"8th"},{id:9,name:"9th"},{id:10,name:"10th"},{id:11,name:"11th"},{id:12,name:"12th"},{id:13,name:"13th"},{id:14,name:"14th"},{id:15,name:"15th"},{id:16,name:"16th"},{id:17,name:"17th"},{id:18,name:"18th"},{id:19,name:"19th"},{id:20,name:"20th"},{id:21,name:"21st"},{id:22,name:"22nd"},{id:23,name:"23rd"},{id:24,name:"24th"},{id:25,name:"25th"},{id:26,name:"26th"},{id:27,name:"27th"},{id:28,name:"28th"},{id:-2,name:"3rd to last"},{id:-1,name:"2nd to last"},{id:0,name:"last"}],ar=[{id:1,name:"January",arb:"Jan"},{id:2,name:"February",arb:"Feb"},{id:3,name:"March",arb:"Mar"},{id:4,name:"April",arb:"Apr"},{id:5,name:"May",arb:"May"},{id:6,name:"June",arb:"Jun"},{id:7,name:"July",arb:"Jul"},{id:8,name:"August",arb:"Aug"},{id:9,name:"September",arb:"Sep"},{id:10,name:"October",arb:"Oct"},{id:11,name:"November",arb:"Nov"},{id:12,name:"December",arb:"Dec"}],sr=[{id:0,name:"Monday",arb:"Mon"},{id:1,name:"Tuesday",arb:"Tue"},{id:2,name:"Wednesday",arb:"Wed"},{id:3,name:"Thursday",arb:"Thu"},{id:4,name:"Friday",arb:"Fri"},{id:5,name:"Saturday",arb:"Sat"},{id:6,name:"Sunday",arb:"Sun"}];function nr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function ir(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nr(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var lr=r("c1df"),cr={name:"DetailWorkorder",props:{workorder_id:{required:!0,type:Number}},components:{SubmitWorkDone:Ut,WorkDoneDetail:tr},data:function(){return{workorder:null,pageLoad:!1,workdone:null,extera:!0,moment:lr,headers:[{text:"RESOURCES",value:"total_man_hour_cost"},{text:"INVOICES",value:"total_invoice_cost"},{text:"PARTS",value:"total_parts_cost"},{text:"TOTAL",value:"total_cost"}],work_done_headers:[{text:"CREATED BY",value:"created_by.first_name"},{text:"WORKORDER STATUS",value:"workorder_status.name"},{text:"EQUIPMENT STATUS",value:"equipment_status.name"},{text:"CREATED DATE",value:"created"},{text:"COST",value:"total_cost"}],task_headers:[{text:"Task Name",value:"name"},{text:"Order No",value:"no"},{text:"Description",value:"description"},{text:"Estimated Cost",value:"estimated_cost"},{text:"Estimated Hour",value:"estimated_hour"}],submitWorkDoneDialog:!1,set_workdone:null,work_done_id:null,open_work_done:!1,init_workdone:null,p_sheduler_type:null}},computed:ir({},Object(c["b"])({user:"auth/user"}),{workorderAsArray:function(){var e=[];return e.push(this.workorder),e},myWorkorder:function(){var e=this,t=this.workorder.assigned_to.findIndex((function(t){return t.id==e.user.id}));return-1!=t},get_week_days:function(){return sr},get_month_days:function(){return or}}),methods:{setWorkorder:function(e){var t=this;this.extera=!1,this.$store.dispatch("workorder/detail_workorder",e).then((function(e){t.workorder=e.workorder,t.workdone=e.work_done,t.pageLoad=!0,t.extera=!0})).catch((function(){t.pageLoad=!1}))},reduceText:function(e){if(e){if(e.length<26)return e;if(e.length>=26)return e.slice(0,23)+"..."}},getProperStatus:function(e){return this.reduceText(e.workorder_status.name)},getOverDueColor:function(e){return e.rejected?"orange":e.over_due?"red":e.closed?"green":e.started?"blue":"grey"},OpenSubmitWorkDoneDialog:function(){this.submitWorkDoneDialog=!0,this.set_workdone&&this.set_workdone()},getColorHere:function(e){return Oe(e)},closeDetailWorkorder:function(){this.$emit("closeDetailWorkorder")},reloadWorkOrder:function(e){this.setWorkorder(e),this.$emit("updatedWorkorder")},submit_workdone_init:function(e){this.set_workdone=e},openDetailWorkDone:function(e){this.work_done_id=e.id,this.open_work_done=!0,this.init_workdone&&this.init_workdone(e.id)},init_workdone_detail:function(e){this.init_workdone=e},getColor_now:function(e){return e?"green":"red"},propers_sheduler_type:function(){var e={},t=rr;for(var r in t)e[t[r].id]=t[r].name;this.p_sheduler_type=e}},created:function(){this.$emit("detailWorkorderCreated",this.setWorkorder),this.setWorkorder(this.workorder_id),this.propers_sheduler_type()}},dr=cr,ur=(r("d9dd"),Object(v["a"])(dr,ft,ht,!1,null,"b38a3b1a",null)),_r=ur.exports;function mr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function vr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mr(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}f()(ur,{VBtn:h["a"],VCard:$["a"],VCardText:I["b"],VCol:z["a"],VContainer:B["a"],VContent:M["a"],VDataTable:Ht["a"],VDialog:Ze["a"],VFlex:$e["a"],VIcon:g["a"],VImg:Xt["a"],VLayout:Ie["a"],VProgressCircular:Be["a"],VRow:K["a"],VToolbar:U["a"],VToolbarTitle:G["a"]});var pr=r("c1df"),fr={name:"OpenWorkorders",components:{DetailWorkorder:_r},data:function(){return{pageLoad:!1,show:!0,show_pm:!0,moment:pr,detailDialog:!1,detailDialogWorkorder:null,setWorkorderId:null}},computed:vr({},Object(c["b"])({open_workorders:"workorder/open_workorders",open_dm_workorders:"workorder/open_dm_workorders",open_pm_workorders:"workorder/open_pm_workorders"})),methods:{expand:function(){this.show=!this.show},expand_pm:function(){this.show_pm=!this.show_pm},getOverDueColor:function(e){return e.rejected?"orange":e.over_due?"red":e.closed?"green":e.started?"blue":"grey"},reduceText:function(e){if(e){if(e.length<21)return e;if(e.length>=21)return e.slice(0,18)+"..."}},workorderType:function(e){return"DM"===e?"Demand":e},getProperStatus:function(e){return this.reduceText(e.workorder_status.name)},openDetail:function(e){this.detailDialog=!this.detailDialog,this.setWorkorderId?this.setWorkorderId(e):this.detailDialogWorkorder=e},workorderCreated:function(e){this.setWorkorderId=e},init_open_workorder:function(){var e=this;this.pageLoad=!1,this.$store.dispatch("workorder/get_open_Workorders").then((function(){e.pageLoad=!0})).catch((function(){e.pageLoad=!1}))}},created:function(){var e=this.init_open_workorder;e(),ut(e)}},hr=fr,gr=(r("1589"),Object(v["a"])(hr,lt,ct,!1,null,"6348016c",null)),br=gr.exports;function kr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kr(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}f()(gr,{VCard:$["a"],VCardText:I["b"],VCardTitle:I["c"],VDialog:Ze["a"],VFlex:$e["a"],VIcon:g["a"],VLayout:Ie["a"],VProgressCircular:Be["a"]});var yr={name:"RightSide",components:{OpenReportAlerts:it,OpenWorkorders:br},computed:wr({},Object(c["b"])({user:"auth/user"}))},xr=yr,Cr=(r("7a89"),Object(v["a"])(xr,we,ye,!1,null,"78f661e0",null)),Or=Cr.exports,Dr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("router-view")],1)},jr=[],Sr={name:"Center"},Vr=Sr,qr=Object(v["a"])(Vr,Dr,jr,!1,null,"364d3cba",null),Pr=qr.exports;function Tr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tr(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Rr={name:"Layout",components:{LeftSide:ke,RightSide:Or,Center:Pr},props:{source:String},data:function(){return{drawer:null,drawerRight:null,right:!1,left:!1,theme:!1}},computed:Er({},Object(c["b"])({user:"auth/user",isAdministrator:"auth/isAdministrator",open_reports_from_store:"reports/open_reports",open_workorders:"workorder/open_workorders",open_dm_workorders:"workorder/open_dm_workorders",open_pm_workorders:"workorder/open_pm_workorders"})),methods:{changeTheme:function(){this.theme=!this.theme,this.$vuetify.theme.dark=this.theme}}},Wr=Rr,Lr=(r("52b7"),r("40dc")),Ar=r("5bc1"),Nr=r("553a"),$r=r("f774"),Ir=Object(v["a"])(Wr,se,ne,!1,null,"3aa3858a",null),zr=Ir.exports;f()(Ir,{VApp:C["a"],VAppBar:Lr["a"],VAppBarNavIcon:Ar["a"],VBtn:h["a"],VCol:z["a"],VContainer:B["a"],VContent:M["a"],VFooter:Nr["a"],VIcon:g["a"],VNavigationDrawer:$r["a"],VRow:K["a"],VSpacer:H["a"],VToolbarTitle:G["a"]});var Br=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("BodyNav",{attrs:{page_title:"Equipment"}}),e.pageLoad?r("v-card",{staticClass:"c-card",attrs:{raised:""}},[r("v-card-title",{staticClass:"c-title"},[r("v-form",{staticStyle:{width:"100%"},on:{submit:function(t){return t.preventDefault(),e.goSearch(t)}}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",md9:""}},[r("v-text-field",{staticClass:"pl-3",attrs:{"prepend-icon":"fa-search",label:"Search...","persistent-hint":"",hint:"Search equipments by (Equipment name, Equipment model, Serial number, Room Number)"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),r("v-flex",{attrs:{xs12:"",md1:""}}),r("v-flex",{attrs:{xs12:"",md2:""}},[r("v-btn",{staticClass:"mt-3",attrs:{color:"blue-grey white--text text-capitalize",loading:e.loading,type:"submit"}},[r("v-icon",{attrs:{small:""}},[e._v("fa-search")]),r("span",{staticClass:"ml-2"},[e._v("Search")])],1)],1)],1)],1)],1),r("v-card-title",{staticClass:"c-title-lower"},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",md9:""}},[r("p",{staticClass:"body-1 pl-2"},[e._v(" Query: "),r("strong",[e._v(e._s(e.getQuery))]),r("br"),e._v("Found: "),r("strong",[e._v(e._s(e.equipments.count))]),e._v(" Equipments. ")])]),r("v-flex",{staticClass:"mb-3",attrs:{xs12:"",md3:""}},[r("v-spacer"),r("v-btn",{staticClass:"mt-5 mr-3",attrs:{small:"",color:"blue-grey white--text text-capitalize",disabled:!e.getBoolean(e.equipments.previous),loading:e.previous_btn},on:{click:function(t){return e.get_equipments_with_url(e.equipments.previous,"p")}}},[r("v-icon",{attrs:{small:""}},[e._v("fa-caret-left")]),r("span",{staticClass:"ml-1"},[e._v("Previous")])],1),r("v-btn",{staticClass:"mt-5",attrs:{small:"",color:"blue-grey white--text text-capitalize",loading:e.next_btn,disabled:!e.getBoolean(e.equipments.next)},on:{click:function(t){return e.get_equipments_with_url(e.equipments.next,"n")}}},[r("span",{staticClass:"mr-1"},[e._v("Next")]),r("v-icon",{attrs:{small:""}},[e._v("fa-caret-right")])],1)],1)],1),r("v-layout",{staticClass:"filter-section"},[r("v-flex",{staticClass:"mt-1",attrs:{xs8:""}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",md4:""}},[r("v-select",{staticClass:"mt-0 mr-3 ml-2",attrs:{label:"Status","prepend-icon":"fa-fire",items:e.get_options_here(e.equipment_filters,"status_flag")},model:{value:e.filter_status,callback:function(t){e.filter_status=t},expression:"filter_status"}})],1),r("v-flex",{attrs:{xs12:"",md4:""}},[r("v-select",{staticClass:"mt-0 mr-3 ml-2",attrs:{label:"Department","prepend-icon":"fa-institution",items:e.get_options_here(e.equipment_filters,"departments")},model:{value:e.filter_department,callback:function(t){e.filter_department=t},expression:"filter_department"}})],1),r("v-flex",{attrs:{xs12:"",md4:""}},[r("v-select",{staticClass:"mt-0 mr-3 ml-2",attrs:{label:"Location","prepend-icon":"fa-home",items:e.location_options},model:{value:e.filter_location,callback:function(t){e.filter_location=t},expression:"filter_location"}})],1)],1)],1),r("v-flex",{attrs:{xs1:""}},[r("v-btn",{staticClass:"mt-4 ml-5",attrs:{small:"",color:"blue-grey white--text text-capitalize",loading:e.filter_btn},on:{click:e.filter}},[e._v("Go")])],1)],1)],1),e.equipments?r("v-data-table",{attrs:{headers:e.headers,items:e.equipments.results,"item-key":"inventory_number","hide-default-footer":"","no-data-text":"No Equipment found.","items-per-page":e.load_per_page,"mobile-breakpoint":0},on:{"click:row":e.openDetail},scopedSlots:e._u([{key:"item.status_flag",fn:function(t){var o=t.item;return[r("div",{staticClass:"small-circle",style:"margin-right: 0px; background: "+e.getColorHere(o.status_flag.color)})]}},{key:"item.equipment_name",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-equipment-name"},[e._v(e._s(e.reduceText(o.equipment_name)))])]}},{key:"item.equipment_model.model_name",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-equipment-name"},[e._v(e._s(e.reduceText(o.equipment_model.model_name)))])]}},{key:"item.serial_number",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-serial-number"},[e._v(e._s(o.serial_number))])]}},{key:"item.status_flag.name",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-status"},[e._v(e._s(o.status_flag.name))])]}},{key:"item.department.name",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-department"},[e._v(e._s(e.reduceText(e.getDepartmentName(o.department))))])]}},{key:"item.location.room_number",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-room-no"},[e._v(e._s(e.getRoomNo(o.location)))])]}},{key:"item.inventory_number",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-inventory-no"},[e._v(e._s(o.inventory_number))])]}},{key:"item.equipment_model.equipment_type.name",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-type"},[e._v(e._s(o.equipment_model.equipment_type.name))])]}},{key:"item.description",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-equipment-description"},[e._v(e._s(e.reduceText(o.description)))])]}},{key:"item.installation_date",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-equipment-description"},[e._v(e._s(o.installation_date))])]}},{key:"item.purchased_date",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-equipment-description"},[e._v(e._s(o.purchased_date))])]}},{key:"item.warranty_expiration_date",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-equipment-description"},[e._v(e._s(o.warranty_expiration_date))])]}},{key:"item.life_expectancy",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-equipment-description"},[e._v(e._s(o.life_expectancy))])]}},{key:"item.purchase_price",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-equipment-description"},[e._v(e._s(o.purchase_price))])]}},{key:"item.salvage_value",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-equipment-description"},[e._v(e._s(o.salvage_value))])]}},{key:"item.replacement_cost",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-equipment-description"},[e._v(e._s(o.replacement_cost))])]}}],null,!1,3891269599)}):e._e(),r("v-layout",{staticClass:"c-table-footer pt-3",attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",md9:""}},[r("p",{staticClass:"body-2 pl-3 ml-3"},[e._v(" Total "),r("strong",[e._v(e._s(e.equipments.count))]),e._v(" Items, Showing maximum of "),r("strong",[e._v(e._s(e.load_per_page))]),e._v(" Items per page. ")])]),r("v-flex",{staticClass:"mb-3",class:{"ml-5":e.$vuetify.breakpoint.smAndDown},attrs:{xs12:"",md3:""}},[r("v-spacer"),r("v-btn",{staticClass:"mr-3",attrs:{small:"",color:"blue-grey white--text text-capitalize",disabled:!e.getBoolean(e.equipments.previous),loading:e.previous_btn},on:{click:function(t){return e.get_equipments_with_url(e.equipments.previous,"p")}}},[r("v-icon",{attrs:{small:""}},[e._v("fa-caret-left")]),r("span",{staticClass:"ml-1"},[e._v("Previous")])],1),r("v-btn",{attrs:{small:"",color:"blue-grey white--text text-capitalize",disabled:!e.getBoolean(e.equipments.next),loading:e.next_btn},on:{click:function(t){return e.get_equipments_with_url(e.equipments.next,"n")}}},[r("span",{staticClass:"mr-1"},[e._v("Next")]),r("v-icon",{attrs:{small:""}},[e._v("fa-caret-right")])],1)],1)],1)],1):e._e(),e.pageLoad?e._e():r("div",[r("v-main",[r("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[r("v-row",{attrs:{justify:"center",align:"center"}},[r("v-progress-circular",{attrs:{size:50,color:"blue-grey",indeterminate:""}})],1)],1)],1)],1),r("v-dialog",{attrs:{width:"750"},scopedSlots:e._u([{key:"activator",fn:function(e){}}]),model:{value:e.detailDialog,callback:function(t){e.detailDialog=t},expression:"detailDialog"}},[r("v-card",[r("EquipmentDetailPopUp",{attrs:{item:e.detailEquipment},on:{closeDialog:function(t){e.detailDialog=!e.detailDialog},created:e.equipmentDetailPopupInit}})],1)],1)],1)},Mr=[],Fr=(r("ac1f"),r("841c"),function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("v-card",[o("v-toolbar",{attrs:{color:"blue-grey",dark:"",flat:""}},[o("v-toolbar-title",[o("v-icon",[e._v("fa-cubes")]),o("span",{staticClass:"ml-2"},[e._v("Equipment: "+e._s(e.item.equipment_name))])],1)],1),o("v-card-text",[o("v-container",[o("v-row",{staticClass:"mb-5",attrs:{align:"center",justify:"center","no-gutters":""}},[o("v-col",{staticClass:"mr-2",attrs:{cols:"12",xs:"12",sm:"4"}},[e.item.image?o("a",{attrs:{target:"_blank",href:e.item.image}},[o("v-img",{staticClass:"mb-2",attrs:{src:e.item.image,crossorigin:"anonymous","lazy-src":r("4b50"),"max-height":"150","aspect-ratio":"1.7",contain:"",width:"255",position:""}})],1):e._e()]),o("v-col",{staticClass:"ml-2",attrs:{cols:"12",xs:"12",sm:"4"}},[e.item.image_two?o("a",{attrs:{target:"_blank",href:e.item.image_two}},[o("v-img",{staticClass:"mb-2",attrs:{src:e.item.image_two,crossorigin:"anonymous","lazy-src":r("4b50"),"max-height":"150","aspect-ratio":"1.7",contain:"",width:"255",position:""}})],1):e._e()])],1),e.item.image||e.item.image_two?o("div",{staticClass:"divider"}):e._e(),o("v-row",{staticClass:"mb-5 mt-5",attrs:{"no-gutters":""}},[o("v-col",{attrs:{cols:"12",xs:"12",sm:"6"}},[o("h1",{staticClass:"title mb-2"},[e._v("EQUIPMENT")]),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Name:")]),o("v-col",[o("strong",[e._v(e._s(e.item.equipment_name))])])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Serial Number")]),o("v-col",[o("strong",[e._v(e._s(e.item.serial_number))])])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Asset ID:")]),o("v-col",[o("strong",[e._v(e._s(e.item.inventory_number))])])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Warranty Expires:")]),o("v-col",[o("strong",[e._v(e._s(e.item.warranty_expiration_date))])])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Description:")]),o("v-col",[o("strong",[e._v(e._s(e.item.description))])])],1)],1),o("v-col",{attrs:{cols:"12",xs:"12",sm:"6"}},[o("h1",{staticClass:"title mb-2"},[e._v("MODEL")]),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Name:")]),e.item.equipment_model?o("v-col",[o("strong",[e._v(e._s(e.item.equipment_model.model_name))])]):e._e()],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Type:")]),e.item.equipment_model&&e.item.equipment_model.equipment_type?o("v-col",[o("strong",[e._v(e._s(e.item.equipment_model.equipment_type.name))])]):e._e()],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Manufacturer:")]),e.item.equipment_model&&e.item.equipment_model.manufacturer?o("v-col",[o("strong",[e._v(e._s(e.item.equipment_model.manufacturer.name))])]):e._e()],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Model Number:")]),e.item.equipment_model?o("v-col",[o("strong",[e._v(e._s(e.item.equipment_model.model_number))])]):e._e()],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Description:")]),e.item.equipment_model?o("v-col",[o("strong",[e._v(e._s(e.item.equipment_model.description))])]):e._e()],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Name")]),e.item.equipment_model?o("v-col",[o("strong",[e._v(e._s(e.item.equipment_name))])]):e._e()],1),e.item.equipment_model.manual?o("div",{staticClass:"small-divider"}):e._e(),e.item.equipment_model.manual?o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Manual")]),o("v-col",[o("strong",[o("a",{attrs:{target:"_blank",href:e.item.equipment_model.manual}},[e._v(" manual ")])])])],1):e._e(),e.item.equipment_model.manual_two?o("div",{staticClass:"small-divider"}):e._e(),e.item.equipment_model.manual_two?o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Manual Two")]),o("v-col",[o("strong",[o("a",{attrs:{target:"_blank",href:e.item.equipment_model.manual_two}},[e._v(" manual two ")])])])],1):e._e(),e.item.equipment_model.manual_three?o("div",{staticClass:"small-divider"}):e._e(),e.item.equipment_model.manual_three?o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Manual Three")]),o("v-col",[o("strong",[o("a",{attrs:{target:"_blank",href:e.item.equipment_model.manual_three}},[e._v(" manual three ")])])])],1):e._e()],1)],1),o("div",{staticClass:"divider"}),o("v-row",{staticClass:"mt-5 mb-5",attrs:{"no-gutters":""}},[o("v-col",{attrs:{cols:"12",xs:"12",sm:"6"}},[o("h1",{staticClass:"title mb-2"},[e._v("Location")]),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Building:")]),e.item.location?o("v-col",[o("strong",[e._v(e._s(e.item.location.building.name))])]):e._e()],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Floor:")]),e.item.location?o("v-col",[o("strong",[e._v(e._s(e.item.location.floor))])]):e._e()],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Room Number:")]),e.item.location?o("v-col",[o("strong",[e._v(e._s(e.item.location.room_number))])]):e._e()],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Section:")]),e.item.location?o("v-col",[o("strong",[e._v(e._s(e.item.location.sub_room_section))])]):e._e()],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Department:")]),e.item.department?o("v-col",[o("strong",[e._v(e._s(e.item.department.name))])]):e._e()],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Location Code:")]),e.item.location?o("v-col",[o("strong",[e._v(e._s(e.item.location.code))])]):e._e()],1)],1),o("v-col",{attrs:{cols:"12",xs:"12",sm:"6"}},[o("h1",{staticClass:"title mb-2"},[e._v("Equipment Condition")]),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Status:")]),e.item.status_flag?o("v-col",[o("div",{staticClass:"small-circle",style:"margin-right: 0px; background: "+e.getColorHere(e.item.status_flag.color)}),e._v(" - "),o("strong",{staticClass:"ml-5"},[e._v(e._s(e.item.status_flag.name))])]):e._e()],1)],1)],1),e.isRegular?e._e():[o("v-expansion-panels",{attrs:{focusable:"",multiple:""},model:{value:e.panel,callback:function(t){e.panel=t},expression:"panel"}},[o("v-expansion-panel",{staticClass:"c-expansion-header"},[o("v-expansion-panel-header",{on:{click:e.getCurrentWorkOrders}},[e._v("CURRENT WORK ORDERS")]),o("v-expansion-panel-content",[e.currentWorkOrders?o("div",[o("Workorder",{attrs:{workorders:e.currentWorkOrders}})],1):o("div",[o("v-main",[o("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[o("v-row",{attrs:{justify:"center",align:"center"}},[o("v-progress-circular",{attrs:{size:50,color:"blue-grey",indeterminate:""}})],1)],1)],1)],1)])],1),o("v-expansion-panel",{staticClass:"c-expansion-header"},[o("v-expansion-panel-header",{on:{click:e.getWorkOrdersHistory}},[e._v("WORK ORDER HISTORY")]),o("v-expansion-panel-content",[e.workOrdersHistory?o("div",[o("Workorder",{attrs:{workorders:e.workOrdersHistory}})],1):o("div",[o("v-main",[o("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[o("v-row",{attrs:{justify:"center",align:"center"}},[o("v-progress-circular",{attrs:{size:50,color:"blue-grey",indeterminate:""}})],1)],1)],1)],1)])],1),o("v-expansion-panel",{staticClass:"c-expansion-header"},[o("v-expansion-panel-header",{on:{click:e.getPmWorkorders}},[e._v("SCHEDULED WORK ORDERS")]),o("v-expansion-panel-content",[e.pmWorkorders?o("div",[o("PmWorkorder",{attrs:{pm_workorders:e.pmWorkorders}})],1):o("div",[o("v-main",[o("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[o("v-row",{attrs:{justify:"center",align:"center"}},[o("v-progress-circular",{attrs:{size:50,color:"blue-grey",indeterminate:""}})],1)],1)],1)],1)])],1),o("v-expansion-panel",{staticClass:"c-expansion-header"},[o("v-expansion-panel-header",{on:{click:e.getDownTimeHistory}},[e._v("EQUIPMENT DOWNTIME HISTORY")]),o("v-expansion-panel-content",[e.downTimeHistory?o("div",[o("DownTime",{attrs:{downtime:e.downTimeHistory}})],1):o("div",[o("v-main",[o("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[o("v-row",{attrs:{justify:"center",align:"center"}},[o("v-progress-circular",{attrs:{size:50,color:"blue-grey",indeterminate:""}})],1)],1)],1)],1)])],1),o("v-expansion-panel",{staticClass:"c-expansion-header"},[o("v-expansion-panel-header",{on:{click:e.getDownTimeHistory}},[e._v("TOTAL MAINTENANCE COST")]),o("v-expansion-panel-content",[o("h3",{staticClass:"mt-5 ml-3 blue-grey--text"},[e._v("TOTAL MAINTENANCE COST")]),o("p",{staticClass:"mt-3 ml-3"},[e._v(" Total Cost: "),o("strong",[e._v(e._s(e.item.maintenance_cost))]),e._v(" ETB ")])])],1)],1)],o("div",{staticClass:"height"})],2)],1),o("div",{staticClass:"btns"},[o("v-layout",[o("v-flex",{attrs:{md8:""}}),o("v-flex",[o("v-btn",{attrs:{color:"red white--text text-capitalize mb-4 mr-4 mt-4"},on:{click:e.report}},[o("v-icon",{attrs:{small:""}},[e._v("fa-bell")]),o("span",{staticClass:"ml-2"},[e._v("Report")])],1)],1),o("v-flex",[o("v-btn",{attrs:{color:"blue-grey white--text text-capitalize mb-4 mr-4 mt-4"},on:{click:e.closeDetail}},[o("v-icon",{attrs:{small:""}},[e._v("fa-close")]),o("span",{staticClass:"ml-2"},[e._v("Close")])],1)],1)],1)],1)],1),o("v-dialog",{attrs:{width:"700"},scopedSlots:e._u([{key:"activator",fn:function(e){}}]),model:{value:e.reportDialog,callback:function(t){e.reportDialog=t},expression:"reportDialog"}},[o("v-card",[o("CreateReport",{attrs:{equipment:e.item},on:{closeDialog:e.closeDialog,closeBothDialog:e.closeBothDialogs}})],1)],1)],1)}),Kr=[],Hr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.pageLoad?r("v-card",[r("v-toolbar",{attrs:{color:"blue-grey",dark:"",flat:""}},[r("v-toolbar-title",[r("v-icon",[e._v("fa-bell")]),r("span",{staticClass:"ml-2"},[e._v("Report: "+e._s(e.equipment.equipment_name))])],1)],1),r("v-card-text",[r("p",[e._v("Report "),r("strong",[e._v(e._s(e.equipment.equipment_name))]),e._v(" to the Administrators.")]),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("* Current Equipment Status:")]),e.equipment.status_flag?r("v-col",[r("div",{staticClass:"small-circle",style:"margin-right: 10px; background: "+e.getColorHere(e.equipment.status_flag.color)}),e._v(" - "),r("strong",{staticClass:"ml-5"},[e._v(e._s(e.equipment.status_flag.name))])]):e._e()],1),r("h4",{staticClass:"title mt-4"},[e._v("Report Form")]),r("div",{staticClass:"mr-5 mb-3"},[r("v-select",{attrs:{label:"* Status","prepend-icon":"fa-fire",items:e.get_options_here(e.filter_data,"status_flag"),"error-messages":e.equipment_status_errors},model:{value:e.equipment_status,callback:function(t){e.equipment_status=t},expression:"equipment_status"}}),r("v-select",{attrs:{label:"* Priority","prepend-icon":"fa-sort-amount-desc",items:e.get_options_here(e.filter_data,"priorities"),"error-messages":e.priority_errors},model:{value:e.priority,callback:function(t){e.priority=t},expression:"priority"}}),r("v-textarea",{attrs:{label:"Description","prepend-icon":"fa-commenting-o","auto-grow":"",outlined:"","error-messages":e.description_errors},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1),e._l(e.non_field_errors,(function(t){return r("div",{key:t,staticClass:"red--text caption"},[r("v-icon",{staticClass:"red--text",attrs:{small:""}},[e._v("fa-warning")]),e._v(" "+e._s(t)+" ")],1)})),r("p",[r("v-icon",{attrs:{small:""}},[e._v("fa-warning")]),e._v(" Your user information is gone be attached with this report when submited. Any one who can reads the report, can also read your user informations. ")],1)],2),r("div",{staticClass:"btns mt-5"},[r("v-card",[r("v-layout",[r("v-flex",{attrs:{md7:""}}),r("v-flex",{attrs:{md5:""}},[r("v-btn",{attrs:{color:"blue-grey white--text text-capitalize mb-4 mr-4 mt-4 ml-5"},on:{click:e.closeDialog}},[r("v-icon",{attrs:{small:""}},[e._v("fa-close")]),r("span",{staticClass:"ml-2"},[e._v("Cancel")])],1),r("v-btn",{attrs:{color:"blue-grey white--text text-capitalize mb-4 mr-4 mt-4",loading:e.loading},on:{click:e.report}},[r("v-icon",{attrs:{small:""}},[e._v("fa-close")]),r("span",{staticClass:"ml-2"},[e._v("Submit")])],1)],1)],1)],1)],1)],1):e._e(),e.pageLoad?e._e():r("div",[r("v-main",[r("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[r("v-row",{attrs:{justify:"center",align:"center"}},[r("v-progress-circular",{attrs:{size:50,color:"blue-grey",indeterminate:""}})],1)],1)],1)],1)],1)},Yr=[];function Ur(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Gr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ur(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ur(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Qr={name:"CreateReport",props:{equipment:{required:!0,type:Object}},computed:Gr({},Object(c["b"])({user:"auth/user",equipment_filters_from_store:"equipments/equipment_filters"})),data:function(){return{pageLoad:!1,filter_data:null,loading:!1,equipment_status:null,description:null,equipment_status_errors:null,description_errors:null,priority:null,priority_errors:null,non_field_errors:[]}},watch:{equipment_status:{handler:function(){this.equipment_status_errors=null}},priority:{handler:function(){this.priority_errors=null}}},methods:{getColorHere:function(e){return Oe(e)},closeDialog:function(){this.$emit("closeDialog")},get_options_here:function(e,t){return De(e,t)},report:function(){var e=this;this.equipment_status_errors=null,this.description_errors=null,this.priority_errors=null,this.non_field_errors=[];var t=this.equipment.location?this.equipment.location.id:null,r=this.equipment.department?this.equipment.department.id:null;this.loading=!0,this.$store.dispatch("reports/report_equipment",{description:this.description,closed:!1,creater:this.user.id,equipment:this.equipment.inventory_number,equipment_status:this.equipment_status,location:t,department:r,priority:this.priority}).then((function(){e.loading=!1,e.$emit("closeBothDialog"),e.description=null,e.priority=null,e.equipment_status=null,e.$store.commit("SET_SNACKBAR",{message:"Successfully reported an equipment.",value:!0,status:"success"})})).catch((function(t){for(var r in e.loading=!1,t.response.data)"non_field_errors"!==r?e[r+"_errors"]=t.response.data[r]:e[r]=t.response.data[r]}))}},created:function(){var e=this;null!==this.equipment_filters_from_store?(this.filter_data=this.equipment_filters_from_store,this.pageLoad=!0):this.$store.dispatch("equipments/get_equipment_filters").then((function(t){e.filter_data=t,e.pageLoad=!0})).catch((function(){e.pageLoad=!1}))}},Jr=Qr,Zr=(r("7841"),Object(v["a"])(Jr,Hr,Yr,!1,null,"5c3bdaf8",null)),Xr=Zr.exports;f()(Zr,{VBtn:h["a"],VCard:$["a"],VCardText:I["b"],VCol:z["a"],VContainer:B["a"],VContent:M["a"],VFlex:$e["a"],VIcon:g["a"],VLayout:Ie["a"],VProgressCircular:Be["a"],VRow:K["a"],VSelect:Me["a"],VTextarea:Fe["a"],VToolbar:U["a"],VToolbarTitle:G["a"]});var eo=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.workorders?r("v-data-table",{attrs:{headers:e.headers,items:e.workorders,"item-key":"id","hide-default-footer":e.workorders.length<=10,"no-data-text":"No Workorders found.","mobile-breakpoint":0},on:{"click:row":e.openDetail},scopedSlots:e._u([{key:"item.over_due",fn:function(t){var o=t.item;return[r("div",{staticClass:"small-circle",style:"margin-right: 0px; background: "+e.getOverDueColor(o)})]}},{key:"item.name",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-equipment-name"},[e._v(e._s(e.reduceText(o.name)))])]}},{key:"item.workorder_status.name",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-status"},[r("span",[e._v(e._s(e.getProperStatus(o)))])])]}},{key:"item.workorder_type",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-workorder-type"},[r("span",[e._v(e._s("DM"==o.workorder_type?"Demand":"PM"))])])]}},{key:"item.priority.name",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-workorder-type"},[o.priority?r("span",[e._v(e._s(o.priority.name))]):e._e()])]}},{key:"item.work_category.name",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-status"},[o.work_category?r("span",[e._v(e._s(e.reduceText(o.work_category.name)))]):e._e()])]}},{key:"item.equipment.equipment_name",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-status"},[r("span",[e._v(e._s(e.reduceText(o.equipment.equipment_name)))])])]}},{key:"item.created",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-date-time"},[e._v(e._s(e.moment(o.created).format("MM/DD/YYYY HH:mm:ss")))])]}},{key:"item.started_date",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-date-time"},[o.started_date?r("span",[e._v(e._s(e.moment(o.started_date).format("MM/DD/YYYY")))]):e._e()])]}},{key:"item.closed_date",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-date-time"},[o.closed_date?r("span",[e._v(e._s(e.moment(o.closed_date).format("MM/DD/YYYY")))]):e._e()])]}},{key:"item.due_date",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-date-time"},[o.due_date?r("span",[e._v(e._s(e.moment(o.due_date).format("MM/DD/YYYY")))]):e._e()])]}},{key:"item.assigned_to",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-assigned"},e._l(o.assigned_to,(function(t){return r("span",{key:t.employee_id},[e._v(" "+e._s(t.first_name)+" - "+e._s(t.employee_id)+" "),r("br")])})),0)]}}],null,!1,4233545385)}):e._e(),r("v-dialog",{attrs:{width:"750"},scopedSlots:e._u([{key:"activator",fn:function(e){}}]),model:{value:e.detailDialog,callback:function(t){e.detailDialog=t},expression:"detailDialog"}},[r("v-card",[r("DetailWorkorder",{attrs:{workorder_id:e.detailDialogWorkorder},on:{detailWorkorderCreated:e.workorderCreated,closeDetailWorkorder:function(t){e.detailDialog=!e.detailDialog}}})],1)],1)],1)},to=[],ro=r("c1df"),oo={name:"WorkorderHistory",props:["workorders"],components:{DetailWorkorder:_r},data:function(){return{headers:[{text:"St.",align:"left",value:"over_due"},{text:"ID",value:"id"},{text:"Name",value:"name"},{text:"Status",value:"workorder_status.name"},{text:"Demand/PM",value:"workorder_type"},{text:"Priority",value:"priority.name"},{text:"Work Category",value:"work_category.name"},{text:"Associations",value:"equipment.equipment_name"},{text:"Created",value:"created"},{text:"Start",value:"started_date"},{text:"Closed",value:"closed_date"},{text:"Due",value:"due_date"},{text:"Resources",value:"assigned_to"},{text:"St.",align:"right",value:"over_due"}],moment:ro,detailDialog:!1,detailDialogWorkorder:null,setWorkorderId:null}},methods:{reduceText:function(e){if(e){if(e.length<26)return e;if(e.length>=26)return e.slice(0,23)+"..."}},getProperStatus:function(e){return this.reduceText(e.workorder_status.name)},getOverDueColor:function(e){return e.rejected?"orange":e.over_due?"red":e.closed?"green":e.started?"blue":"grey"},openDetail:function(e){this.detailDialog=!this.detailDialog,this.setWorkorderId?this.setWorkorderId(e.id):this.detailDialogWorkorder=e.id},workorderCreated:function(e){this.setWorkorderId=e}}},ao=oo,so=(r("ef57"),Object(v["a"])(ao,eo,to,!1,null,"93435534",null)),no=so.exports;f()(so,{VCard:$["a"],VDataTable:Ht["a"],VDialog:Ze["a"]});var io=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.pm_workorders?r("v-data-table",{attrs:{headers:e.headers,"item-key":"id","hide-default-footer":e.pm_workorders.length<=10,"mobile-breakpoint":0,items:e.pm_workorders,"no-data-text":"No scheduled workorder found.","items-per-page":e.load_per_page},scopedSlots:e._u([{key:"item.active",fn:function(t){var o=t.item;return[r("div",{staticClass:"small-circle",style:"margin-right: 0px; background: "+e.getColor(o.active)})]}},{key:"item.name",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-name"},[r("span",[e._v(e._s(e.reduceText(o.name)))])])]}},{key:"item.equipment",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-name"},[e._l(o.equipment.slice(0,1),(function(t){return r("span",{key:t.inventory_number},[e._v(" - "+e._s(e.reduceText(t.equipment_name))+" "),r("br")])})),o.equipment.length>1?r("span",{staticClass:"c-more"},[e._v("- "),r("strong",[e._v("("+e._s(o.equipment.length-1)+") more")])]):e._e()],2)]}},{key:"item.description",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-description"},[r("span",[e._v(e._s(e.reduceText(o.description)))])])]}},{key:"item.work_category.name",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-work-category"},[o.work_category?r("span",[e._v(e._s(e.reduceText(o.work_category.name)))]):e._e()])]}},{key:"item.scheduler",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-scheduler"},[e._l(o.scheduler.slice(0,1),(function(t){return r("span",{key:t.id},[e._v(" - "+e._s(e.reduceText(t.name))+" "),r("br")])})),o.scheduler.length>1?r("span",{staticClass:"c-more"},[e._v("- "),r("strong",[e._v("("+e._s(o.scheduler.length-1)+") more")])]):e._e()],2)]}},{key:"item.scheduler.scheduler_type",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-scheduler"},[e._l(o.scheduler.slice(0,1),(function(t){return r("span",{key:t.scheduler_type},[e._v(" - "+e._s(e.p_sheduler_type[t.scheduler_type])+" "),r("br")])})),o.scheduler.length>1?r("span",{staticClass:"c-more"},[e._v("- "),r("strong",[e._v("("+e._s(o.scheduler.length-1)+") more")])]):e._e()],2)]}},{key:"item.due_date",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-small"},[r("span",[e._v(e._s(o.due_date))])])]}},{key:"item.tasks",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-small"},[r("span",[e._v(e._s(o.tasks.length)+" tasks")])])]}},{key:"item.assigned_to",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-assigned"},[e._l(o.assigned_to.slice(0,1),(function(t){return r("span",{key:t.employee_id},[e._v(" - "+e._s(t.first_name)+" - "+e._s(t.employee_id)+" "),r("br")])})),o.assigned_to.length>1?r("span",{staticClass:"c-more"},[e._v("- "),r("strong",[e._v("("+e._s(o.assigned_to.length-1)+") more")])]):e._e()],2)]}},{key:"item.job_hazard",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-job-hazard"},[o.job_hazard?r("span",[e._v(e._s(o.job_hazard.name))]):e._e()])]}},{key:"item.estimated_cost",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-status"},[o.estimated_cost?r("span",[e._v(e._s(o.estimated_cost)+" ETB")]):e._e()])]}},{key:"item.multiple",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-small"},[o.multiple?r("v-icon",{attrs:{color:e.getColor(o.multiple),small:""}},[e._v("fa fa-check")]):r("v-icon",{attrs:{color:e.getColor(o.multiple),small:""}},[e._v("fa fa-close")])],1)]}},{key:"item.start_date",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-date"},[r("span",[e._v(e._s(o.start_date))])])]}},{key:"item.end_date",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-date"},[r("span",[e._v(e._s(o.end_date))])])]}},{key:"item.created_by",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-assigned"},[o.created_by?r("span",[e._v(" "+e._s(o.created_by.first_name)+" - "+e._s(o.created_by.employee_id))]):e._e()])]}},{key:"item.created",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-status"},[r("span",[e._v(e._s(e.moment(o.created).format("MM/DD/YYYY HH:mm:ss")))])])]}},{key:"item.last_scheduled_date",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-date"},[o.last_scheduled_date?r("span",[e._v(e._s(e.moment(o.last_scheduled_date).format("MM/DD/YYYY")))]):e._e()])]}},{key:"item.scheduled_so_far",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-small"},[r("span",[e._v(e._s(o.scheduled_so_far))])])]}},{key:"item.done_so_far",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-small"},[r("span",[e._v(e._s(o.done_so_far))])])]}}],null,!1,53303227)}):e._e()],1)},lo=[],co=r("c1df"),uo={name:"Pmworkorder",props:["pm_workorders"],data:function(){return{headers:[{text:"St.",align:"left",value:"active"},{text:"Name",value:"name"},{text:"Associations",value:"equipment"},{text:"Description",value:"description"},{text:"Work Category",value:"work_category.name"},{text:"Schedule",value:"scheduler"},{text:"Schedule Type",value:"scheduler.scheduler_type"},{text:"Days TO Complete",value:"due_date"},{text:"Tasks",value:"tasks"},{text:"Resources",value:"assigned_to"},{text:"Job Hazard",value:"job_hazard"},{text:"Estimated Cost",value:"estimated_cost"},{text:"Multiple",value:"multiple"},{text:"Start Date",value:"start_date"},{text:"End Date",value:"end_date"},{text:"Created By",value:"created_by"},{text:"Created Date",value:"created"},{text:"Latest Scheduled",value:"last_scheduled_date"},{text:"Scheduled So Far",value:"scheduled_so_far"},{text:"Complieted So Far",value:"done_so_far"},{text:"St.",align:"right",value:"active"}],moment:co,detailDialog:!1,detailDialogWorkorder:null,setWorkorderId:null,p_sheduler_type:null,load_per_page:10}},methods:{reduceText:function(e){if(e){if(e.length<26)return e;if(e.length>=26)return e.slice(0,23)+"..."}},getColor:function(e){return e?"green":"red"},propers_sheduler_type:function(){var e={},t=rr;for(var r in t)e[t[r].id]=t[r].name;this.p_sheduler_type=e}},created:function(){this.propers_sheduler_type()}},_o=uo,mo=(r("18e1"),Object(v["a"])(_o,io,lo,!1,null,"3dddf6f2",null)),vo=mo.exports;f()(mo,{VDataTable:Ht["a"],VIcon:g["a"]});var po=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.downtime?r("v-data-table",{attrs:{headers:e.headers,items:e.downtime.downtime_history,"item-key":"id","hide-default-footer":e.downtime.downtime_history.length<=10,"no-data-text":"No Workorders found.","mobile-breakpoint":0},scopedSlots:e._u([{key:"item.equipment_status.color",fn:function(t){var o=t.item;return[r("div",{staticClass:"small-circle",style:"margin-right: 0px; background: "+e.getColorHere(o.equipment_status.color)})]}},{key:"item.created_by",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-assigned"},[r("span",[e._v(" "+e._s(o.created_by.first_name)+" - "+e._s(o.created_by.employee_id)+" "),r("br")])])]}},{key:"item.created",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-date-time"},[o.created?r("span",[e._v(e._s(e.moment(o.created).format("MM/DD/YYYY")))]):e._e()])]}}],null,!1,3107912767)}):e._e(),r("div",{staticClass:"small-divider mt-3"}),r("h3",{staticClass:"mt-4 ml-3 blue-grey--text"},[e._v("Total downtime")]),r("p",{staticClass:"mt-3 ml-3"},[e._v("Seconds: "+e._s(e.downtime.total_downtime)+" "),r("br"),e._v(" Minutes: "+e._s(e.downtime.total_downtime/60)+" "),r("br"),e._v(" Hours: "+e._s(e.downtime.total_downtime/3600)+" ")]),r("div",{staticClass:"small-divider mt-3"}),r("h3",{staticClass:"mt-4 ml-3 blue-grey--text"},[e._v("Equipment Status Changed")]),r("p",{staticClass:"mt-3 ml-3"},[e._v(" Status Changed: "+e._s(e.downtime.downtime_history.length)+"x ")])],1)},fo=[],ho=r("c1df"),go={name:"DownTime",props:["downtime"],data:function(){return{headers:[{text:"St.",align:"left",value:"equipment_status.color"},{text:"Created By",value:"created_by"},{text:"Equipment Status",value:"equipment_status.name"},{text:"Count Down Time",value:"equipment_status.count_down_time"},{text:"Created",value:"created"}],moment:ho}},methods:{getColorHere:function(e){return Oe(e)}}},bo=go,ko=(r("6ad5"),Object(v["a"])(bo,po,fo,!1,null,"38328474",null)),wo=ko.exports;function yo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function xo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yo(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}f()(ko,{VDataTable:Ht["a"]});var Co={name:"EquipmentDetailPopUp",props:{item:{type:Object,required:!0}},components:{CreateReport:Xr,Workorder:no,DownTime:wo,PmWorkorder:vo},data:function(){return{reportDialog:!1,panel:[],currentWorkOrders:null,workOrdersHistory:null,downTimeHistory:null,pmWorkorders:null}},computed:xo({},Object(c["b"])({isRegular:"auth/isRegular"})),methods:{closeDialog:function(){this.reportDialog=!this.reportDialog},closeDetail:function(){this.$emit("closeDialog")},report:function(){this.reportDialog=!0},getColorHere:function(e){return Oe(e)},closeBothDialogs:function(){this.closeDialog(),this.$emit("closeDialog")},reset:function(){this.panel=[],this.currentWorkOrders=null,this.workOrdersHistory=null,this.downTimeHistory=null,this.pmWorkorders=null},getCurrentWorkOrders:function(){var e=this;null===this.currentWorkOrders&&this.$store.dispatch("workorder/getCurrentWorkOrders",this.item.inventory_number).then((function(t){e.currentWorkOrders=t})).catch((function(){}))},getWorkOrdersHistory:function(){var e=this;null===this.workOrdersHistory&&this.$store.dispatch("workorder/getWorkOrdersHistory",this.item.inventory_number).then((function(t){e.workOrdersHistory=t})).catch((function(){}))},getDownTimeHistory:function(){var e=this;null===this.downTimeHistory&&this.$store.dispatch("workorder/getDownTimeHistory",this.item.inventory_number).then((function(t){e.downTimeHistory=t})).catch((function(){}))},getPmWorkorders:function(){var e=this;null===this.pmWorkorders&&this.$store.dispatch("workorder/getPmWorkorder",this.item.inventory_number).then((function(t){e.pmWorkorders=t})).catch((function(){}))}},created:function(){this.$emit("created",this.reset),mt(this.reset)}},Oo=Co,Do=(r("47bf"),r("cd55")),jo=r("49e2"),So=r("c865"),Vo=r("0393"),qo=Object(v["a"])(Oo,Fr,Kr,!1,null,"0ee20627",null),Po=qo.exports;f()(qo,{VBtn:h["a"],VCard:$["a"],VCardText:I["b"],VCol:z["a"],VContainer:B["a"],VContent:M["a"],VDialog:Ze["a"],VExpansionPanel:Do["a"],VExpansionPanelContent:jo["a"],VExpansionPanelHeader:So["a"],VExpansionPanels:Vo["a"],VFlex:$e["a"],VIcon:g["a"],VImg:Xt["a"],VLayout:Ie["a"],VProgressCircular:Be["a"],VRow:K["a"],VToolbar:U["a"],VToolbarTitle:G["a"]});var To=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mb-3 c-breadcrumb"},[r("v-layout",[r("v-flex",{attrs:{xs7:"",md9:""}},[e._v(" Home "),r("v-icon",{staticClass:"page-title",attrs:{small:""}},[e._v(" fa fa-arrow-right ")]),e._v(" "),r("span",{staticClass:"page-title"},[e._v(e._s(e.page_title))])],1),e.right?r("v-flex",{attrs:{xs5:"",md3:""}},[r("router-link",{staticClass:"right",attrs:{router:"",to:e.right.url}},[r("v-icon",{staticClass:"pb-1 mr-1",attrs:{small:""}},[e._v("fa-"+e._s(e.right.icon))]),e._v(" "+e._s(e.right.name)+" ")],1)],1):e._e()],1)],1)},Eo=[],Ro={name:"BodyNav",props:{page_title:{required:!0,type:String},right:{required:!1,type:Object}}},Wo=Ro,Lo=(r("a13c"),Object(v["a"])(Wo,To,Eo,!1,null,"2360f3bc",null)),Ao=Lo.exports;function No(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function $o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?No(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):No(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}f()(Lo,{VFlex:$e["a"],VIcon:g["a"],VLayout:Ie["a"]});var Io={name:"equipments",components:{EquipmentDetailPopUp:Po,BodyNav:Ao},data:function(){return{search:"",headers:[{text:"St.",align:"left",value:"status_flag"},{text:"Name",value:"equipment_name"},{text:"Model",value:"equipment_model.model_name"},{text:"Serial Number",value:"serial_number"},{text:"Status",value:"status_flag.name"},{text:"Department",value:"department.name"},{text:"Room NO",value:"location.room_number"},{text:"Asset ID",value:"inventory_number"},{text:"Type",value:"equipment_model.equipment_type.name"},{text:"Description",value:"description"},{text:"Install Date",value:"installation_date"},{text:"Purchase Date",value:"purchased_date"},{text:"Warranty Expiry Date",value:"warranty_expiration_date"},{text:"Life Expectancy",value:"life_expectancy"},{text:"Purchase Cost (ETB)",value:"purchase_price"},{text:"Salvage Value (ETB)",value:"salvage_value"},{text:"Replacement Cost (ETB)",value:"replacement_cost"},{text:"St.",align:"right",value:"status_flag"}],equipments:null,loading:!1,pageLoad:!1,load_per_page:10,detailDialog:!1,detailEquipment:null,query:null,next_btn:!1,previous_btn:!1,filter_btn:!1,equipment_filters:null,filter_status:"",filter_department:"",filter_location:"",init_equipment_detail:null}},methods:{goSearch:function(){var e=this;this.loading=!0,this.filter_status="",this.filter_department="",this.filter_location="",this.$store.dispatch("equipments/search_equipments",this.search).then((function(t){e.query=e.search,e.equipments=t,e.loading=!1})).catch((function(){e.loading=!1}))},openDetail:function(e){this.init_equipment_detail&&this.init_equipment_detail(),this.detailDialog=!0,this.detailEquipment=e},getDepartmentName:function(e){return e?e.name:""},getRoomNo:function(e){return e?e.room_number:""},reduceText:function(e){if(e){if(e.length<31)return e;if(e.length>=31)return e.slice(0,28)+"..."}},getColorHere:function(e){return Oe(e)},get_filter_query_here:function(e){return Se(e)},get_equipments_with_url:function(e,t){var r=this;"n"==t?this.next_btn=!0:this.previous_btn=!0,this.$store.dispatch("equipments/get_equipments_with_url",e).then((function(e){r.equipments=e,"n"==t?r.next_btn=!1:r.previous_btn=!1})).catch((function(){"n"==t?r.next_btn=!1:r.previous_btn=!1}))},getBoolean:function(e){return!!e},filter:function(){var e=this;this.filter_btn=!0,this.search="";var t=[{filter:"department",value:this.filter_department},{filter:"status_flag",value:this.filter_status}];this.filter_location&&t.push({filter:"location",value:{id:this.filter_location.id,name:this.filter_location.room_number}}),this.$store.dispatch("equipments/filter_equipments",this.get_filter_query_here(t).query).then((function(r){e.query=e.get_filter_query_here(t).key,e.equipments=r,e.filter_btn=!1})).catch((function(){e.filter_btn=!1}))},get_options_here:function(e,t){return je(e,t)},equipmentDetailPopupInit:function(e){this.init_equipment_detail=e}},computed:$o({},Object(c["b"])({equipment_filters_from_store:"equipments/equipment_filters"}),{getQuery:function(){return""===this.query?"All Equipments":this.query},location_options:function(){var e=[{value:"",text:"---------------"}];for(var t in this.equipment_filters.locations)e.push({value:this.equipment_filters.locations[t],text:this.equipment_filters.locations[t].building.name+", floor - "+this.equipment_filters.locations[t].floor+", RN - "+this.equipment_filters.locations[t].room_number});return e}}),created:function(){var e=this;this.$store.dispatch("equipments/get_equipments").then((function(t){null!==e.equipment_filters_from_store?(e.equipment_filters=e.equipment_filters_from_store,e.pageLoad=!0):e.$store.dispatch("equipments/get_equipment_filters").then((function(t){e.equipment_filters=t,e.pageLoad=!0})).catch((function(){e.pageLoad=!1})),e.equipments=t,e.query="All Equipments"})).catch((function(){e.pageLoad=!1}))}},zo=Io,Bo=(r("742a"),Object(v["a"])(zo,Br,Mr,!1,null,"04fef435",null)),Mo=Bo.exports;f()(Bo,{VBtn:h["a"],VCard:$["a"],VCardTitle:I["c"],VContainer:B["a"],VContent:M["a"],VDataTable:Ht["a"],VDialog:Ze["a"],VFlex:$e["a"],VForm:F["a"],VIcon:g["a"],VLayout:Ie["a"],VProgressCircular:Be["a"],VRow:K["a"],VSelect:Me["a"],VSpacer:H["a"],VTextField:Y["a"]});var Fo=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("BodyNav",{attrs:{page_title:"Register"}}),e.pageLoad?r("v-card",[r("v-toolbar",{attrs:{color:"blue-grey",dark:"",flat:""}},[r("v-toolbar-title",[r("v-icon",[e._v("fa-credit-card")]),r("span",{staticClass:"ml-2"},[e._v("Create Account")])],1)],1),r("v-card-text",[r("v-form",{on:{submit:function(t){return t.preventDefault(),e.register(t)}}},[r("v-text-field",{attrs:{label:"* First Name","prepend-icon":"fa-user",type:"text","error-messages":e.first_name_errors},model:{value:e.first_name,callback:function(t){e.first_name=t},expression:"first_name"}}),r("v-text-field",{attrs:{label:"Last Name","prepend-icon":"fa-user-o",type:"text","error-messages":e.last_name_errors},model:{value:e.last_name,callback:function(t){e.last_name=t},expression:"last_name"}}),r("v-text-field",{attrs:{label:"* Phone Number","prepend-icon":"fa-phone",type:"number","error-messages":e.phone_number_errors},model:{value:e.phone_number,callback:function(t){e.phone_number=t},expression:"phone_number"}}),r("v-text-field",{attrs:{label:"* Employee Id","prepend-icon":"fa-id-card",type:"text","error-messages":e.employee_id_errors},model:{value:e.employee_id,callback:function(t){e.employee_id=t},expression:"employee_id"}}),r("v-text-field",{attrs:{label:"Email","prepend-icon":"fa-envelope-o",type:"text","error-messages":e.email_errors},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),r("v-select",{attrs:{label:"* User Type","prepend-icon":"fa-id-badge","error-messages":e.user_type_errors,items:e.user_type_options},model:{value:e.user_type,callback:function(t){e.user_type=t},expression:"user_type"}}),r("v-text-field",{attrs:{label:"Man Hour Cost","prepend-icon":"fa-money",type:"number","error-messages":e.man_hour_cost_errors},model:{value:e.man_hour_cost,callback:function(t){e.man_hour_cost=t},expression:"man_hour_cost"}}),r("v-select",{attrs:{label:"Training Detail","prepend-icon":"fa-mortar-board","error-messages":e.training_detail_errors,items:e.training_details_options},model:{value:e.training_detail,callback:function(t){e.training_detail=t},expression:"training_detail"}}),r("v-select",{attrs:{label:"Employee Position","prepend-icon":"fa-group","error-messages":e.employee_position_errors,items:e.employee_positions_options},model:{value:e.employee_position,callback:function(t){e.employee_position=t},expression:"employee_position"}}),r("v-text-field",{attrs:{label:"* Password","prepend-icon":"fa-unlock",type:"text",disabled:"","error-messages":e.password_errors},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),r("v-card-actions",[e._l(e.non_field_errors,(function(t){return r("div",{key:t,staticClass:"red--text caption"},[r("v-icon",{staticClass:"red--text",attrs:{small:""}},[e._v("fa-warning")]),e._v(" "+e._s(t)+" ")],1)})),r("v-spacer"),r("v-btn",{attrs:{color:"blue-grey white--text text-capitalize",loading:e.loading,type:"submit"}},[e._v("Register User")])],2)],1)],1)],1):e._e(),e.pageLoad?e._e():r("div",[r("v-main",[r("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[r("v-row",{attrs:{justify:"center",align:"center"}},[r("v-progress-circular",{attrs:{size:50,color:"blue-grey",indeterminate:""}})],1)],1)],1)],1)],1)},Ko=[];function Ho(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Yo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ho(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ho(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Uo={name:"Register",components:{BodyNav:Ao},computed:Yo({},Object(c["b"])({registration_data:"account/registration_data"}),{user_type_options:function(){var e=[];for(var t in this.registration_data.user_type)e.push({value:this.registration_data.user_type[t][0],text:this.registration_data.user_type[t][0]});return e},training_details_options:function(){var e=[];for(var t in this.registration_data.training_details)e.push({value:this.registration_data.training_details[t].id,text:this.registration_data.training_details[t].training_level});return e},employee_positions_options:function(){var e=[];for(var t in this.registration_data.employee_positions)e.push({value:this.registration_data.employee_positions[t].id,text:this.registration_data.employee_positions[t].position_name});return e}}),data:function(){return{pageLoad:!1,loading:!1,password:"1234",first_name:null,last_name:null,employee_id:null,phone_number:null,email:null,user_type:null,employee_position:null,training_detail:null,man_hour_cost:null,password_errors:null,first_name_errors:null,last_name_errors:null,employee_id_errors:null,phone_number_errors:null,email_errors:null,user_type_errors:null,employee_position_errors:null,training_detail_errors:null,man_hour_cost_errors:null,non_field_errors:[]}},methods:{register:function(){var e=this;this.password_errors=null,this.first_name_errors=null,this.last_name_errors=null,this.employee_id_errors=null,this.phone_number_errors=null,this.email_errors=null,this.user_type_errors=null,this.employee_position_errors=null,this.training_detail_errors=null,this.man_hour_cost_errors=null,this.loading=!0,this.$store.dispatch("account/create_profile",{first_name:this.first_name,last_name:this.last_name,employee_id:this.employee_id,phone_number:this.phone_number,email:this.email,password:this.password,user_type:this.user_type,employee_position:this.employee_position,training_detail:this.training_detail,man_hour_cost:this.man_hour_cost}).then((function(){e.loading=!1,e.$router.push({name:"enterprise_view"}),e.$store.commit("SET_SNACKBAR",{message:"Successfully added a new User!!",value:!0,status:"success"})})).catch((function(t){for(var r in e.loading=!1,t.response.data)"non_field_errors"!==r?e[r+"_errors"]=t.response.data[r]:e[r]=t.response.data[r]}))}},created:function(){var e=this;this.registration_data?this.pageLoad=!0:this.$store.dispatch("account/user_registration_data").then((function(){e.pageLoad=!0})).catch((function(){e.pageLoad=!1}))}},Go=Uo,Qo=Object(v["a"])(Go,Fo,Ko,!1,null,"0a355633",null),Jo=Qo.exports;f()(Qo,{VBtn:h["a"],VCard:$["a"],VCardActions:I["a"],VCardText:I["b"],VContainer:B["a"],VContent:M["a"],VForm:F["a"],VIcon:g["a"],VProgressCircular:Be["a"],VRow:K["a"],VSelect:Me["a"],VSpacer:H["a"],VTextField:Y["a"],VToolbar:U["a"],VToolbarTitle:G["a"]});var Zo=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("BodyNav",{attrs:{page_title:"Profile Detail"}}),r("v-card",{staticClass:"c-card",attrs:{flat:""}},[r("v-card-text",[r("v-container",[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12",xs:"12"}},[r("h1",{staticClass:"title mb-5"},[r("v-icon",{attrs:{large:""}},[e._v("fa-user-circle-o")]),e._v(" User Information ")],1),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("First Name:")]),r("v-col",[r("strong",[e._v(e._s(e.user.first_name))])])],1),r("div",{staticClass:"small-divider"}),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Last Name:")]),r("v-col",[r("strong",[e._v(e._s(e.user.last_name))])])],1),r("div",{staticClass:"small-divider"}),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Phone Number:")]),r("v-col",[r("strong",[e._v(e._s(e.user.phone_number))])])],1),r("div",{staticClass:"small-divider"}),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Employee Id:")]),r("v-col",[r("strong",[e._v(e._s(e.user.employee_id))])])],1),r("div",{staticClass:"small-divider"}),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Email:")]),r("v-col",[r("strong",[e._v(e._s(e.user.email))])])],1),r("div",{staticClass:"small-divider"}),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("User Type:")]),r("v-col",[r("strong",[e._v(e._s(e.user.user_type))])])],1),r("div",{staticClass:"small-divider"}),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Man Hour Cost:")]),r("v-col",[r("strong",[e._v(e._s(e.user.man_hour_cost)+" ETB")])])],1),r("div",{staticClass:"small-divider"}),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Employee Position:")]),r("v-col",[e.user.employee_position?r("strong",[e._v(e._s(e.user.employee_position.position_name))]):e._e()])],1),r("div",{staticClass:"small-divider"}),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Training Detail:")]),r("v-col",[e.user.training_detail?r("strong",[e._v(e._s(e.user.training_detail.training_level))]):e._e()])],1),r("div",{staticClass:"small-divider"})],1)],1)],1)],1)],1)],1)},Xo=[];function ea(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function ta(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ea(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ea(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ra={name:"AccountDetail",components:{BodyNav:Ao},computed:ta({},Object(c["b"])({user:"auth/user"}))},oa=ra,aa=(r("1635"),Object(v["a"])(oa,Zo,Xo,!1,null,"2a3578b0",null)),sa=aa.exports;f()(aa,{VCard:$["a"],VCardText:I["b"],VCol:z["a"],VContainer:B["a"],VIcon:g["a"],VRow:K["a"]});var na=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("BodyNav",{attrs:{page_title:"Edit Profile"}}),e.pageLoad?r("v-card",[r("v-toolbar",{attrs:{color:"blue-grey",dark:"",flat:""}},[r("v-toolbar-title",[r("v-icon",[e._v("fa-user")]),r("span",{staticClass:"ml-2"},[e._v("Edit Profile")])],1)],1),r("v-card-text",[r("v-form",{on:{submit:function(t){return t.preventDefault(),e.editProfile(t)}}},[r("v-text-field",{attrs:{label:"* First Name","prepend-icon":"fa-user",type:"text","error-messages":e.first_name_errors},model:{value:e.first_name,callback:function(t){e.first_name=t},expression:"first_name"}}),r("v-text-field",{attrs:{label:"Last Name","prepend-icon":"fa-user-o",type:"text","error-messages":e.last_name_errors},model:{value:e.last_name,callback:function(t){e.last_name=t},expression:"last_name"}}),r("v-text-field",{attrs:{label:"* Phone Number","prepend-icon":"fa-phone",type:"number","error-messages":e.phone_number_errors},model:{value:e.phone_number,callback:function(t){e.phone_number=t},expression:"phone_number"}}),r("v-text-field",{attrs:{label:"* Employee Id","prepend-icon":"fa-id-card",type:"text","error-messages":e.employee_id_errors},model:{value:e.employee_id,callback:function(t){e.employee_id=t},expression:"employee_id"}}),r("v-text-field",{attrs:{label:"Email","prepend-icon":"fa-envelope-o",type:"text","error-messages":e.email_errors},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),r("v-select",{attrs:{label:"* User Type","prepend-icon":"fa-id-badge","error-messages":e.user_type_errors,items:e.user_type_options,disabled:""},model:{value:e.user_type,callback:function(t){e.user_type=t},expression:"user_type"}}),r("v-text-field",{attrs:{label:"Man Hour Cost (ETB)","prepend-icon":"fa-money",type:"number","error-messages":e.man_hour_cost_errors},model:{value:e.man_hour_cost,callback:function(t){e.man_hour_cost=t},expression:"man_hour_cost"}}),r("v-select",{attrs:{label:"Employee Position","prepend-icon":"fa-group","error-messages":e.employee_position_errors,items:e.employee_positions_options},model:{value:e.employee_position,callback:function(t){e.employee_position=t},expression:"employee_position"}}),r("v-select",{attrs:{label:"Training Detail","prepend-icon":"fa-mortar-board","error-messages":e.training_detail_errors,items:e.training_details_options},model:{value:e.training_detail,callback:function(t){e.training_detail=t},expression:"training_detail"}}),r("v-card-actions",[e._l(e.non_field_errors,(function(t){return r("div",{key:t,staticClass:"red--text caption"},[r("v-icon",{staticClass:"red--text",attrs:{small:""}},[e._v("fa-warning")]),e._v(" "+e._s(t)+" ")],1)})),r("v-spacer"),r("v-btn",{attrs:{color:"blue-grey white--text text-capitalize",loading:e.loading,type:"submit"}},[e._v("Update Profile")])],2)],1)],1)],1):e._e(),e.pageLoad?e._e():r("div",[r("v-main",[r("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[r("v-row",{attrs:{justify:"center",align:"center"}},[r("v-progress-circular",{attrs:{size:50,color:"blue-grey",indeterminate:""}})],1)],1)],1)],1)],1)},ia=[];function la(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function ca(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?la(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):la(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var da={name:"Edit_profile",components:{BodyNav:Ao},computed:ca({},Object(c["b"])({user:"auth/user",registration_data:"account/registration_data"}),{user_type_options:function(){var e=[];for(var t in this.registration_data.user_type)e.push({value:this.registration_data.user_type[t][0],text:this.registration_data.user_type[t][0]});return e},training_details_options:function(){var e=[];for(var t in this.registration_data.training_details)e.push({value:this.registration_data.training_details[t].id,text:this.registration_data.training_details[t].training_level});return e},employee_positions_options:function(){var e=[];for(var t in this.registration_data.employee_positions)e.push({value:this.registration_data.employee_positions[t].id,text:this.registration_data.employee_positions[t].position_name});return e}}),data:function(){return{pageLoad:!1,loading:!1,first_name:null,last_name:null,employee_id:null,phone_number:null,email:null,user_type:null,employee_position:null,training_detail:null,man_hour_cost:null,first_name_errors:null,last_name_errors:null,employee_id_errors:null,email_errors:null,user_type_errors:null,employee_position_errors:null,training_detail_errors:null,phone_number_errors:null,man_hour_cost_errors:null,non_field_errors:[]}},methods:{editProfile:function(){var e=this;this.first_name_errors=null,this.last_name_errors=null,this.employee_id_errors=null,this.email_errors=null,this.user_type_errors=null,this.employee_position_errors=null,this.training_detail_errors=null,this.phone_number_errors=null,this.man_hour_cost_errors=null,this.loading=!0,this.$store.dispatch("account/update_profile",{data:{first_name:this.first_name,last_name:this.last_name,employee_id:this.employee_id,phone_number:this.phone_number,email:this.email,password:"x",user_type:this.user_type,employee_position:this.employee_position,training_detail:this.training_detail,man_hour_cost:this.man_hour_cost},account_id:this.user.id}).then((function(){e.loading=!1,e.$router.push({name:"enterprise_view"})})).catch((function(t){for(var r in console.log(t),e.loading=!1,t.response.data)"non_field_errors"!==r?e[r+"_errors"]=t.response.data[r]:e[r]=t.response.data[r]}))}},created:function(){var e=this;this.first_name=this.user.first_name,this.last_name=this.user.last_name,this.employee_id=this.user.employee_id,this.phone_number=this.user.phone_number,this.email=this.user.email,this.user_type=this.user.user_type,this.man_hour_cost=this.user.man_hour_cost;try{this.training_detail=this.user.training_detail.id,this.employee_position=this.user.employee_position.id}catch(t){console.log(t)}this.$store.dispatch("account/user_registration_data").then((function(){e.pageLoad=!0})).catch((function(){e.pageLoad=!1})),this.registration_data?this.pageLoad=!0:this.$store.dispatch("account/user_registration_data").then((function(){e.pageLoad=!0})).catch((function(){e.pageLoad=!1}))}},ua=da,_a=Object(v["a"])(ua,na,ia,!1,null,"5fb6cfa9",null),ma=_a.exports;f()(_a,{VBtn:h["a"],VCard:$["a"],VCardActions:I["a"],VCardText:I["b"],VContainer:B["a"],VContent:M["a"],VForm:F["a"],VIcon:g["a"],VProgressCircular:Be["a"],VRow:K["a"],VSelect:Me["a"],VSpacer:H["a"],VTextField:Y["a"],VToolbar:U["a"],VToolbarTitle:G["a"]});var va=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("BodyNav",{attrs:{page_title:"Change Password"}}),r("v-card",[r("v-toolbar",{attrs:{color:"blue-grey",dark:"",flat:""}},[r("v-toolbar-title",[r("v-icon",[e._v("fa-unlock-alt")]),r("span",{staticClass:"ml-2"},[e._v("Change Password")])],1)],1),r("v-card-text",[r("v-form",{on:{submit:function(t){return t.preventDefault(),e.changePassword(t)}}},[r("v-text-field",{attrs:{label:"* Current Password","prepend-icon":"fa-lock",type:"password","error-messages":e.current_password_errors},model:{value:e.current_password,callback:function(t){e.current_password=t},expression:"current_password"}}),r("v-text-field",{attrs:{label:"* New Password","prepend-icon":"fa-lock",type:"password","error-messages":e.password_errors},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),r("v-text-field",{attrs:{label:"* New Password Again","prepend-icon":"fa-lock",type:"password","error-messages":e.password_again_errors},model:{value:e.password_again,callback:function(t){e.password_again=t},expression:"password_again"}}),r("v-card-actions",[e._l(e.non_field_errors,(function(t){return r("div",{key:t,staticClass:"red--text caption"},[r("v-icon",{staticClass:"red--text",attrs:{small:""}},[e._v("fa-warning")]),e._v(" "+e._s(t)+" ")],1)})),r("v-spacer"),r("v-btn",{attrs:{color:"blue-grey white--text text-capitalize",loading:e.loading,type:"submit"}},[e._v("Change Password")])],2)],1)],1)],1)],1)},pa=[],fa={name:"Change_Password",components:{BodyNav:Ao},data:function(){return{loading:!1,current_password:null,password:null,password_again:null,current_password_errors:null,password_errors:null,password_again_errors:null,non_field_errors:[]}},methods:{changePassword:function(){var e=this;this.current_password_errors=null,this.password_errors=null,this.password_again_errors=null,this.loading=!0,this.$store.dispatch("account/change_password",{current_password:this.current_password,password:this.password,password_again:this.password_again}).then((function(t){e.loading=!1,e.$router.push({name:"enterprise_view"}),e.$store.commit("SET_SNACKBAR",{message:t.data.message,value:!0,status:"success"})})).catch((function(t){for(var r in console.log(t),e.loading=!1,t.response.data)"non_field_errors"!==r?e[r+"_errors"]=t.response.data[r]:e[r]=t.response.data[r]}))}}},ha=fa,ga=Object(v["a"])(ha,va,pa,!1,null,"2f81b8b9",null),ba=ga.exports;f()(ga,{VBtn:h["a"],VCard:$["a"],VCardActions:I["a"],VCardText:I["b"],VForm:F["a"],VIcon:g["a"],VSpacer:H["a"],VTextField:Y["a"],VToolbar:U["a"],VToolbarTitle:G["a"]});var ka=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("BodyNav",{attrs:{page_title:"Reset Password"}}),r("v-card",[r("v-toolbar",{attrs:{color:"blue-grey",dark:"",flat:""}},[r("v-toolbar-title",[r("v-icon",[e._v("fa-unlock-alt")]),r("span",{staticClass:"ml-2"},[e._v("Reset Password")])],1)],1),r("v-card-text",[r("v-form",{on:{submit:function(t){return t.preventDefault(),e.resetPassword(t)}}},[r("v-text-field",{attrs:{label:"* Phone Number","prepend-icon":"fa-phone",type:"number","error-messages":e.phone_number_errors},model:{value:e.phone_number,callback:function(t){e.phone_number=t},expression:"phone_number"}}),r("v-text-field",{attrs:{label:"* New Password","prepend-icon":"fa-lock",type:"text",disabled:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),r("v-card-actions",[e._l(e.non_field_errors,(function(t){return r("div",{key:t,staticClass:"red--text caption"},[r("v-icon",{staticClass:"red--text",attrs:{small:""}},[e._v("fa-warning")]),e._v(" "+e._s(t)+" ")],1)})),r("v-spacer"),r("v-btn",{attrs:{color:"blue-grey white--text text-capitalize",loading:e.loading,type:"submit"}},[e._v("Reset Password")])],2)],1)],1)],1)],1)},wa=[];function ya(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function xa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ya(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ya(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ca={name:"Reset_Password",components:{BodyNav:Ao},computed:xa({},Object(c["b"])({user:"auth/user"})),data:function(){return{loading:!1,phone_number:null,phone_number_errors:null,password:1234,non_field_errors:[]}},methods:{resetPassword:function(){var e=this;this.phone_number_errors=null,this.loading=!0,this.$store.dispatch("account/reset_password",{phone_number:this.phone_number}).then((function(t){e.loading=!1,console.log(t),e.$router.push({name:"enterprise_view"}),e.$store.commit("SET_SNACKBAR",{message:t.data.message,value:!0,status:"success"})})).catch((function(t){for(var r in console.log(t),e.loading=!1,t.response.data)"non_field_errors"!==r?e[r+"_errors"]=t.response.data[r]:e[r]=t.response.data[r]})),this.loading=!0}}},Oa=Ca,Da=Object(v["a"])(Oa,ka,wa,!1,null,"71aa8b26",null),ja=Da.exports;f()(Da,{VBtn:h["a"],VCard:$["a"],VCardActions:I["a"],VCardText:I["b"],VForm:F["a"],VIcon:g["a"],VSpacer:H["a"],VTextField:Y["a"],VToolbar:U["a"],VToolbarTitle:G["a"]});var Sa=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("BodyNav",{attrs:{page_title:"Enterprise View"}}),e.pageLoad?r("v-container",{staticClass:"my-0",attrs:{fluid:""}},[r("v-layout",{attrs:{row:"",wrap:""}},e._l(e.activites,(function(t){return r("v-flex",{key:t.department.id,attrs:{xs12:"",sm6:"",md4:"",lg4:""}},[r("v-card",{staticClass:"text-xs-center ma-3 c-card"},[r("v-card-title",{staticClass:"c-title mb-3"},[r("v-icon",[e._v("fa fa-institution")]),r("span",{staticClass:"ml-3 font-weight-medium"},[e._v(e._s(e.reduceText(t.department.name)))])],1),r("v-card-text",[r("div",{staticClass:"subheading font-weight-regular"},[r("v-icon",{staticClass:"mr-3 mb-2",attrs:{small:""}},[e._v("fa-cubes")]),e._v(" Equipments: "+e._s(t.equipments)+" ")],1),r("div",{staticClass:"subheading font-weight-regular"},[r("v-icon",{staticClass:"mr-2 mb-2"},[e._v("fa-bell-o")]),e._v(" Reports: "+e._s(t.reports)+" ")],1),r("div",{staticClass:"subheading font-weight-regular"},[r("v-icon",{staticClass:"mr-2 mb-2"},[e._v("fa-cogs")]),e._v(" PM: "+e._s(t.pm_workorders)+" ")],1),r("div",{staticClass:"subheading font-weight-regular"},[r("v-icon",{staticClass:"mr-2 mb-2"},[e._v("fa-wrench")]),e._v(" Demand: "+e._s(t.dm_workorders)+" ")],1),r("div",{staticClass:"subheading font-weight-regular"},[r("v-icon",{staticClass:"mr-4",attrs:{small:""}},[e._v("fa-hourglass-end")]),e._v(" Overdue: "+e._s(t.over_due_workorders)+" ")],1)]),r("v-card-actions",{staticClass:"justify-end"})],1)],1)})),1)],1):e._e(),e.pageLoad?e._e():r("div",[r("v-main",[r("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[r("v-row",{attrs:{justify:"center",align:"center"}},[r("v-progress-circular",{attrs:{size:50,color:"blue-grey",indeterminate:""}})],1)],1)],1)],1)],1)},Va=[],qa={name:"DepartmentActivities",components:{BodyNav:Ao},data:function(){return{activites:null,pageLoad:!1}},methods:{reduceText:function(e){if(e){if(e.length<18)return e;if(e.length>=18)return e.slice(0,15)+"..."}}},created:function(){var e=this;this.$store.dispatch("enterprise/department_activities").then((function(t){e.activites=t,e.pageLoad=!0})).catch((function(){e.pageLoad=!1}))}},Pa=qa,Ta=(r("1a8a"),Object(v["a"])(Pa,Sa,Va,!1,null,"3c627960",null)),Ea=Ta.exports;f()(Ta,{VCard:$["a"],VCardActions:I["a"],VCardText:I["b"],VCardTitle:I["c"],VContainer:B["a"],VContent:M["a"],VFlex:$e["a"],VIcon:g["a"],VLayout:Ie["a"],VProgressCircular:Be["a"],VRow:K["a"]});var Ra=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("BodyNav",{attrs:{page_title:"Reports"}}),e.pageLoad?r("v-card",{staticClass:"c-card",attrs:{raised:""}},[r("v-card-title",{staticClass:"c-title"},[r("v-form",{staticStyle:{width:"100%"},on:{submit:function(t){return t.preventDefault(),e.goSearch(t)}}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",md9:""}},[r("v-text-field",{staticClass:"pl-3",attrs:{"prepend-icon":"fa-search",label:"Search...","persistent-hint":"",hint:"Search reports by (Equipment name, Serial number, Reporter Id, Room Number)"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),r("v-flex",{attrs:{xs12:"",md1:""}}),r("v-flex",{attrs:{xs12:"",md2:""}},[r("v-btn",{staticClass:"mt-3",attrs:{color:"blue-grey white--text text-capitalize",loading:e.searchLoading,type:"submit"}},[r("v-icon",{attrs:{small:""}},[e._v("fa-search")]),r("span",{staticClass:"ml-2"},[e._v("Search")])],1)],1)],1)],1)],1),r("v-card-title",{staticClass:"c-title-lower"},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",md9:""}},[r("p",{staticClass:"body-1 pl-2"},[e._v(" Query: "),r("strong",[e._v(e._s(e.getQuery))]),r("br"),e._v("Found: "),r("strong",[e._v(e._s(e.reports.count))]),e._v(" Reports. ")])]),r("v-flex",{staticClass:"mb-3",attrs:{xs12:"",md3:""}},[r("v-spacer"),r("v-btn",{staticClass:"mt-5 mr-3",attrs:{small:"",color:"blue-grey white--text text-capitalize",disabled:!e.getBoolean(e.reports.previous),loading:e.previous_btn},on:{click:function(t){return e.get_reports_with_url(e.reports.previous,"p")}}},[r("v-icon",{attrs:{small:""}},[e._v("fa-caret-left")]),r("span",{staticClass:"ml-1"},[e._v("Previous")])],1),r("v-btn",{staticClass:"mt-5",attrs:{small:"",color:"blue-grey white--text text-capitalize",loading:e.next_btn,disabled:!e.getBoolean(e.reports.next)},on:{click:function(t){return e.get_reports_with_url(e.reports.next,"n")}}},[r("span",{staticClass:"mr-1"},[e._v("Next")]),r("v-icon",{attrs:{small:""}},[e._v("fa-caret-right")])],1)],1)],1),r("v-layout",{staticClass:"filter-section"},[r("v-flex",{staticClass:"mt-1",attrs:{xs8:""}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",md4:""}},[r("v-select",{staticClass:"mt-0 mr-3 ml-2",attrs:{label:"Priority","prepend-icon":"fa-home",items:e.get_options_here(e.report_filters,"priorities")},model:{value:e.filter_priority,callback:function(t){e.filter_priority=t},expression:"filter_priority"}})],1),r("v-flex",{attrs:{xs12:"",md4:""}},[r("v-select",{staticClass:"mt-0 mr-3 ml-2",attrs:{label:"Status","prepend-icon":"fa-fire",items:e.status_filter_choice},model:{value:e.filter_status,callback:function(t){e.filter_status=t},expression:"filter_status"}})],1),r("v-flex",{attrs:{xs12:"",md4:""}},[r("v-select",{staticClass:"mt-0 mr-3 ml-2",attrs:{label:"Department","prepend-icon":"fa-institution",items:e.get_options_here(e.report_filters,"departments")},model:{value:e.filter_department,callback:function(t){e.filter_department=t},expression:"filter_department"}})],1)],1)],1),r("v-flex",{attrs:{xs1:""}},[r("v-btn",{staticClass:"mt-4 ml-5",attrs:{small:"",color:"blue-grey white--text text-capitalize",loading:e.filter_btn},on:{click:e.filter}},[e._v("Go")])],1)],1)],1),e.reports?r("v-data-table",{attrs:{headers:e.headers,items:e.reports.results,"item-key":"id","hide-default-footer":"","no-data-text":"No Reports found.","items-per-page":e.load_per_page,"mobile-breakpoint":0},on:{"click:row":e.openDetail},scopedSlots:e._u([{key:"item.equipment_status",fn:function(t){var o=t.item;return[r("div",{staticClass:"small-circle",style:"margin-right: 0px; background: "+e.getColorHere(o.equipment_status.color)})]}},{key:"item.equipment.equipment_name",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-equipment-name"},[e._v(e._s(e.reduceText(o.equipment.equipment_name)))])]}},{key:"item.equipment_status.name",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-status"},[e._v(e._s(o.equipment_status.name))])]}},{key:"item.creater.employee_id",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-employee-id"},[e._v(e._s(o.creater.employee_id))])]}},{key:"item.priority",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-employee-id"},[e._v(e._s(o.priority.name))])]}},{key:"item.closed",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-closed"},[e._v(e._s(e.getReportStat(o.closed)))])]}},{key:"item.description",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-equipment-description"},[e._v(e._s(e.reduceText(o.description)))])]}},{key:"item.department",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-department"},[e._v(e._s(e.reduceText(e.getDepartmentName(o.department))))])]}},{key:"item.location.room_number",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-room-no"},[e._v(e._s(e.getRoomNo(o.location)))])]}},{key:"item.created",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-date-time"},[e._v(e._s(e.moment(o.created).format("MM/DD/YYYY HH:mm:ss")))])]}},{key:"item.updated",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-date-time"},[e._v(e._s(e.moment(o.updated).format("MM/DD/YYYY HH:mm:ss")))])]}}],null,!1,2629365195)}):e._e(),r("v-layout",{staticClass:"c-table-footer pt-3",attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",md9:""}},[r("p",{staticClass:"body-2 pl-3 ml-3"},[e._v(" Total "),r("strong",[e._v(e._s(e.reports.count))]),e._v(" Items, Showing maximum of "),r("strong",[e._v(e._s(e.load_per_page))]),e._v(" Items per page. ")])]),r("v-flex",{staticClass:"mb-3",class:{"ml-5":e.$vuetify.breakpoint.smAndDown},attrs:{xs12:"",md3:""}},[r("v-spacer"),r("v-btn",{staticClass:"mr-3",attrs:{small:"",color:"blue-grey white--text text-capitalize",disabled:!e.getBoolean(e.reports.previous),loading:e.previous_btn},on:{click:function(t){return e.get_reports_with_url(e.reports.previous,"p")}}},[r("v-icon",{attrs:{small:""}},[e._v("fa-caret-left")]),r("span",{staticClass:"ml-1"},[e._v("Previous")])],1),r("v-btn",{attrs:{small:"",color:"blue-grey white--text text-capitalize",disabled:!e.getBoolean(e.reports.next),loading:e.next_btn},on:{click:function(t){return e.get_reports_with_url(e.reports.next,"n")}}},[r("span",{staticClass:"mr-1"},[e._v("Next")]),r("v-icon",{attrs:{small:""}},[e._v("fa-caret-right")])],1)],1)],1)],1):e._e(),e.pageLoad?e._e():r("div",[r("v-main",[r("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[r("v-row",{attrs:{justify:"center",align:"center"}},[r("v-progress-circular",{attrs:{size:50,color:"blue-grey",indeterminate:""}})],1)],1)],1)],1),r("v-dialog",{attrs:{width:"750"},scopedSlots:e._u([{key:"activator",fn:function(e){}}]),model:{value:e.detailDialog,callback:function(t){e.detailDialog=t},expression:"detailDialog"}},[r("v-card",[r("ReportDetailPopUp",{attrs:{item:e.detailReport},on:{closeDialog:function(t){e.detailDialog=!e.detailDialog}}})],1)],1)],1)},Wa=[];function La(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Aa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?La(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):La(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Na=r("c1df"),$a={name:"ReportList",components:{ReportDetailPopUp:et,BodyNav:Ao},data:function(){return{headers:[{text:"St.",align:"left",value:"equipment_status"},{text:"Equipment Name",value:"equipment.equipment_name"},{text:"Equipment Status",value:"equipment_status.name"},{text:"Reporter",value:"creater.employee_id"},{text:"Report State",value:"closed"},{text:"Priority",value:"priority"},{text:"Closed By",value:"closed_by.employee_id"},{text:"Ignored",value:"ignored"},{text:"Description",value:"description"},{text:"Department",value:"department"},{text:"Location",value:"location.room_number"},{text:"Creatation Time",value:"created"},{text:"Update Time",value:"updated"},{text:"St.",value:"equipment_status"}],pageLoad:!1,reports:null,search:"",searchLoading:!1,report_filters:null,load_per_page:10,query:"",next_btn:!1,previous_btn:!1,detailDialog:!1,detailReport:null,filter_btn:!1,filter_status:"",filter_department:"",filter_priority:"",status_filter_choice:[{value:"",text:"---------------"},{value:!0,text:"Closed"},{value:!1,text:"Open"}],moment:Na}},methods:{goSearch:function(){var e=this;this.searchLoading=!0,this.filter_status="",this.filter_department="",this.filter_priority="",this.$store.dispatch("reports/search_reports",this.search).then((function(t){e.query=e.search,e.reports=t,e.searchLoading=!1})).catch((function(){e.searchLoading=!1}))},filter:function(){var e=this;this.filter_btn=!0,this.search="";var t=[{filter:"priority",value:this.filter_priority},{filter:"department",value:this.filter_department},{filter:"closed",value:{id:this.filter_status,name:this.getReportStatComplex(this.filter_status)}}];this.$store.dispatch("reports/filter_reports",this.get_filter_query_here(t).query).then((function(r){e.query=e.get_filter_query_here(t).key,e.reports=r,e.filter_btn=!1})).catch((function(){e.filter_btn=!1}))},getBoolean:function(e){return!!e},openDetail:function(e){this.detailDialog=!0,this.detailReport=e},getColorHere:function(e){return Oe(e)},get_options_here:function(e,t){return je(e,t)},get_filter_query_here:function(e){return Se(e)},reduceText:function(e){if(e){if(e.length<31)return e;if(e.length>=31)return e.slice(0,28)+"..."}},getReportStat:function(e){return e?"Closed":"Open"},getReportStatComplex:function(e){return""===e?"":!0===e?"Closed":!1===e?"Open":void 0},getDepartmentName:function(e){return e?e.name:""},getRoomNo:function(e){return e?e.room_number:""},get_reports_with_url:function(e,t){var r=this;"n"==t?this.next_btn=!0:this.previous_btn=!0,this.$store.dispatch("reports/get_reports_with_url",e).then((function(e){r.reports=e,"n"==t?r.next_btn=!1:r.previous_btn=!1})).catch((function(){"n"==t?r.next_btn=!1:r.previous_btn=!1}))}},computed:Aa({},Object(c["b"])({equipment_filters_from_store:"equipments/equipment_filters"}),{department_options:function(){var e=[{value:"",text:"---------------"}];for(var t in this.report_filters.departments)e.push({value:this.report_filters.departments[t],text:this.report_filters.departments[t].name});return e},location_options:function(){var e=[{value:"",text:"---------------"}];for(var t in this.report_filters.locations)e.push({value:this.report_filters.locations[t],text:this.report_filters.locations[t].building.name+", floor - "+this.report_filters.locations[t].floor+", RN - "+this.report_filters.locations[t].room_number});return e},getQuery:function(){return""===this.query?"All Reports":this.query}}),created:function(){var e=this;this.$store.dispatch("reports/get_reports").then((function(t){e.reports=t,null!==e.equipment_filters_from_store?(e.report_filters=e.equipment_filters_from_store,e.pageLoad=!0):e.$store.dispatch("equipments/get_equipment_filters").then((function(t){e.report_filters=t,e.pageLoad=!0})).catch((function(){e.pageLoad=!1}))})).catch((function(){e.pageLoad=!1}))}},Ia=$a,za=(r("b0e5"),Object(v["a"])(Ia,Ra,Wa,!1,null,"0009be44",null)),Ba=za.exports;f()(za,{VBtn:h["a"],VCard:$["a"],VCardTitle:I["c"],VContainer:B["a"],VContent:M["a"],VDataTable:Ht["a"],VDialog:Ze["a"],VFlex:$e["a"],VForm:F["a"],VIcon:g["a"],VLayout:Ie["a"],VProgressCircular:Be["a"],VRow:K["a"],VSelect:Me["a"],VSpacer:H["a"],VTextField:Y["a"]});var Ma=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("BodyNav",{attrs:{page_title:"Workorders",right:{name:"Calendar View",icon:"calendar",url:"/workorders/calendar"}}}),e.pageLoad?r("v-card",{staticClass:"c-card",attrs:{raised:""}},[r("v-card-title",{staticClass:"c-title"},[r("v-form",{staticStyle:{width:"100%"},on:{submit:function(t){return t.preventDefault(),e.goSearch(t)}}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",md9:""}},[r("v-text-field",{staticClass:"pl-3",attrs:{"prepend-icon":"fa-search",label:"Search...","persistent-hint":"",hint:"Search workorders by (Name, Associated Equipment, Department, Location Room Number)"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),r("v-flex",{attrs:{xs12:"",md1:""}}),r("v-flex",{attrs:{xs12:"",md2:""}},[r("v-btn",{staticClass:"mt-3",attrs:{color:"blue-grey white--text text-capitalize",loading:e.searchLoading,type:"submit"}},[r("v-icon",{attrs:{small:""}},[e._v("fa-search")]),r("span",{staticClass:"ml-2"},[e._v("Search")])],1)],1)],1)],1)],1),r("v-card-title",{staticClass:"c-title-lower"},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",md9:""}},[r("p",{staticClass:"body-1 pl-2"},[e._v(" Query: "),r("strong",[e._v(e._s(e.getQuery))]),r("br"),e._v("Found: "),r("strong",[e._v(e._s(e.workorders.count))]),e._v(" workorders. ")])]),r("v-flex",{staticClass:"mb-3",attrs:{xs12:"",md3:""}},[r("v-spacer"),r("v-btn",{staticClass:"mt-5 mr-3",attrs:{small:"",color:"blue-grey white--text text-capitalize",disabled:!e.getBoolean(e.workorders.previous),loading:e.previous_btn},on:{click:function(t){return e.get_workorders_with_url(e.workorders.previous,"p")}}},[r("v-icon",{attrs:{small:""}},[e._v("fa-caret-left")]),r("span",{staticClass:"ml-1"},[e._v("Previous")])],1),r("v-btn",{staticClass:"mt-5",attrs:{small:"",color:"blue-grey white--text text-capitalize",loading:e.next_btn,disabled:!e.getBoolean(e.workorders.next)},on:{click:function(t){return e.get_workorders_with_url(e.workorders.next,"n")}}},[r("span",{staticClass:"mr-1"},[e._v("Next")]),r("v-icon",{attrs:{small:""}},[e._v("fa-caret-right")])],1)],1)],1),r("div",{staticClass:"filter-section"},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",md3:""}},[r("v-select",{staticClass:"mt-0 mx-2",attrs:{label:"Resource","prepend-icon":"fa-users",items:e.resources},model:{value:e.assigned_to,callback:function(t){e.assigned_to=t},expression:"assigned_to"}})],1),r("v-flex",{attrs:{xs12:"",md3:""}},[r("v-select",{staticClass:"mt-0 mx-2",attrs:{label:"Overdue","prepend-icon":"fa-hourglass-end",items:[{value:"",text:"---------------"},{value:{id:!0,name:"OverDue"},text:"Yes"},{value:{id:!1,name:"Not OverDue"},text:"No"}]},model:{value:e.over_due,callback:function(t){e.over_due=t},expression:"over_due"}})],1),r("v-flex",{attrs:{xs12:"",md3:""}},[r("v-select",{staticClass:"mt-0 mx-2",attrs:{label:"Demand/PM","prepend-icon":"fa-wrench",items:[{value:"",text:"---------------"},{value:{id:"DM",name:"Demand"},text:"Demand"},{value:{id:"PM",name:"PM"},text:"PM"}]},model:{value:e.workorder_type,callback:function(t){e.workorder_type=t},expression:"workorder_type"}})],1)],1),r("v-layout",[r("v-flex",{staticClass:"mt-1",attrs:{xs9:""}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",md4:""}},[r("v-select",{staticClass:"mt-0 mr-3 ml-2",attrs:{label:"Status","prepend-icon":"fa-check-square-o",items:e.get_options_here(e.workorder_choice,"workorder_status")},model:{value:e.workorder_status,callback:function(t){e.workorder_status=t},expression:"workorder_status"}})],1),r("v-flex",{attrs:{xs12:"",md4:""}},[r("v-select",{staticClass:"mt-0 mr-3 ml-2",attrs:{label:"Priority","prepend-icon":"fa-sort-amount-desc",items:e.get_options_here(e.workorder_choice,"priorities")},model:{value:e.priority,callback:function(t){e.priority=t},expression:"priority"}})],1),r("v-flex",{staticClass:"px-3",attrs:{xs12:"",md4:""}},[r("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.due_date,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(t){e.due_date=t},"update:return-value":function(t){e.due_date=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[r("v-text-field",e._g({attrs:{label:"Due Date","prepend-icon":"fa-calendar",readonly:""},model:{value:e.due_date,callback:function(t){e.due_date=t},expression:"due_date"}},o))]}}],null,!1,1710103942),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[r("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.due_date,callback:function(t){e.due_date=t},expression:"due_date"}},[r("v-spacer"),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu.save(null)}}},[e._v("Clear")]),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v("Cancel")]),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu.save(e.due_date)}}},[e._v("OK")])],1)],1)],1)],1)],1),r("v-flex",{staticClass:"mt-5 ml-5",attrs:{xs1:""}},[r("v-btn",{attrs:{small:"",color:"blue-grey white--text text-capitalize",loading:e.filter_btn},on:{click:e.filter}},[e._v("Go")])],1)],1)],1)],1),e.workorders?r("v-data-table",{attrs:{headers:e.headers,items:e.workorders.results,"item-key":"id","hide-default-footer":"","no-data-text":"No Workorders found.","items-per-page":e.load_per_page,"mobile-breakpoint":0},on:{"click:row":e.openDetail},scopedSlots:e._u([{key:"item.over_due",fn:function(t){var o=t.item;return[r("div",{staticClass:"small-circle",style:"margin-right: 0px; background: "+e.getOverDueColor(o)})]}},{key:"item.name",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-equipment-name"},[e._v(e._s(e.reduceText(o.name)))])]}},{key:"item.workorder_status.name",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-status"},[r("span",[e._v(e._s(e.getProperStatus(o)))])])]}},{key:"item.workorder_type",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-workorder-type"},[r("span",[e._v(e._s("DM"==o.workorder_type?"Demand":"PM"))])])]}},{key:"item.priority.name",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-workorder-type"},[o.priority?r("span",[e._v(e._s(o.priority.name))]):e._e()])]}},{key:"item.work_category.name",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-status"},[o.work_category?r("span",[e._v(e._s(e.reduceText(o.work_category.name)))]):e._e()])]}},{key:"item.equipment.equipment_name",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-status"},[r("span",[e._v(e._s(e.reduceText(o.equipment.equipment_name)))])])]}},{key:"item.created",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-date-time"},[e._v(e._s(e.moment(o.created).format("MM/DD/YYYY HH:mm:ss")))])]}},{key:"item.started_date",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-date-time"},[o.started_date?r("span",[e._v(e._s(e.moment(o.started_date).format("MM/DD/YYYY")))]):e._e()])]}},{key:"item.closed_date",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-date-time"},[o.closed_date?r("span",[e._v(e._s(e.moment(o.closed_date).format("MM/DD/YYYY")))]):e._e()])]}},{key:"item.due_date",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-date-time"},[o.due_date?r("span",[e._v(e._s(e.moment(o.due_date).format("MM/DD/YYYY")))]):e._e()])]}},{key:"item.assigned_to",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-assigned"},[e._l(o.assigned_to.slice(0,1),(function(t){return r("span",{key:t.employee_id},[e._v(" - "+e._s(t.first_name)+" - "+e._s(t.employee_id)+" "),r("br")])})),o.assigned_to.length>1?r("span",{staticClass:"c-more"},[e._v("- "),r("strong",[e._v("("+e._s(o.assigned_to.length-1)+") more")])]):e._e()],2)]}}],null,!1,958094024)}):e._e(),r("v-layout",{staticClass:"c-table-footer pt-3",attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",md9:""}},[r("p",{staticClass:"body-2 pl-3 ml-3"},[e._v(" Total "),r("strong",[e._v(e._s(e.workorders.count))]),e._v(" Items, Showing maximum of "),r("strong",[e._v(e._s(e.load_per_page))]),e._v(" Items per page. ")])]),r("v-flex",{staticClass:"mb-3",class:{"ml-5":e.$vuetify.breakpoint.smAndDown},attrs:{xs12:"",md3:""}},[r("v-spacer"),r("v-btn",{staticClass:"mr-3",attrs:{small:"",color:"blue-grey white--text text-capitalize",disabled:!e.getBoolean(e.workorders.previous),loading:e.previous_btn},on:{click:function(t){return e.get_workorders_with_url(e.workorders.previous,"p")}}},[r("v-icon",{attrs:{small:""}},[e._v("fa-caret-left")]),r("span",{staticClass:"ml-1"},[e._v("Previous")])],1),r("v-btn",{attrs:{small:"",color:"blue-grey white--text text-capitalize",disabled:!e.getBoolean(e.workorders.next),loading:e.next_btn},on:{click:function(t){return e.get_workorders_with_url(e.workorders.next,"n")}}},[r("span",{staticClass:"mr-1"},[e._v("Next")]),r("v-icon",{attrs:{small:""}},[e._v("fa-caret-right")])],1)],1)],1)],1):e._e(),e.pageLoad?e._e():r("div",[r("v-main",[r("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[r("v-row",{attrs:{justify:"center",align:"center"}},[r("v-progress-circular",{attrs:{size:50,color:"blue-grey",indeterminate:""}})],1)],1)],1)],1),r("v-dialog",{attrs:{width:"750"},scopedSlots:e._u([{key:"activator",fn:function(e){}}]),model:{value:e.detailDialog,callback:function(t){e.detailDialog=t},expression:"detailDialog"}},[r("v-card",[r("DetailWorkorder",{attrs:{workorder_id:e.detailDialogWorkorder},on:{detailWorkorderCreated:e.workorderCreated,closeDetailWorkorder:function(t){e.detailDialog=!e.detailDialog}}})],1)],1)],1)},Fa=[];function Ka(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Ha(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ka(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ka(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ya=r("c1df"),Ua={name:"Workorder",components:{BodyNav:Ao,DetailWorkorder:_r},data:function(){return{headers:[{text:"St.",align:"left",value:"over_due"},{text:"ID",value:"id"},{text:"Name",value:"name"},{text:"Status",value:"workorder_status.name"},{text:"Demand/PM",value:"workorder_type"},{text:"Priority",value:"priority.name"},{text:"Work Category",value:"work_category.name"},{text:"Associations",value:"equipment.equipment_name"},{text:"Created",value:"created"},{text:"Start",value:"started_date"},{text:"Closed",value:"closed_date"},{text:"Due",value:"due_date"},{text:"Resources",value:"assigned_to"},{text:"St.",align:"right",value:"over_due"}],workorders:null,pageLoad:!1,filter_btn:!1,search:"",searchLoading:!1,load_per_page:10,query:"",next_btn:!1,previous_btn:!1,menu:!1,due_date:null,assigned_to:null,priority:null,workorder_status:null,over_due:null,workorder_type:null,rejected:null,moment:Ya,detailDialog:!1,detailDialogWorkorder:null,setWorkorderId:null}},computed:Ha({},Object(c["b"])({workorder_choice:"workorder/workorder_choice"}),{getQuery:function(){return""===this.query?"All Workorders":this.query},resources:function(){var e=[{value:"",text:"---------------"}],t=this.workorder_choice.assigne_to;for(var r in t)e.push({value:t[r],text:t[r].first_name+" ID: "+t[r].employee_id});return e}}),methods:{goSearch:function(){var e=this;this.searchLoading=!0,this.due_date=null,this.assigned_to=null,this.priority=null,this.workorder_status=null,this.over_due=null,this.workorder_type=null,this.rejected=null,this.$store.dispatch("workorder/search_workorders",this.search).then((function(t){e.query=e.search,e.workorders=t,e.searchLoading=!1})).catch((function(){e.searchLoading=!1}))},getBoolean:function(e){return!!e},get_workorders_with_url:function(e,t){var r=this;"n"===t?this.next_btn=!0:this.previous_btn=!0,this.$store.dispatch("workorder/get_workorders_with_url",e).then((function(e){r.workorders=e,"n"==t?r.next_btn=!1:r.previous_btn=!1})).catch((function(){"n"==t?r.next_btn=!1:r.previous_btn=!1}))},filter:function(){var e=this;this.filter_btn=!0,this.search="";var t=[{filter:"workorder_status",value:this.workorder_status},{filter:"priority",value:this.priority},{filter:"over_due",value:this.over_due},{filter:"workorder_type",value:this.workorder_type},{filter:"rejected",value:this.rejected}];this.assigned_to&&t.push({filter:"assigned_to",value:{id:this.assigned_to.id,name:this.assigned_to.first_name}}),this.due_date&&t.push({filter:"due_date",value:{id:this.due_date,name:this.due_date}}),this.$store.dispatch("workorder/filter_workorders",this.get_filter_query_here(t).query).then((function(r){e.query=e.get_filter_query_here(t).key,e.workorders=r,e.filter_btn=!1})).catch((function(){e.filter_btn=!1}))},openDetail:function(e){this.detailDialog=!this.detailDialog,this.setWorkorderId?this.setWorkorderId(e.id):this.detailDialogWorkorder=e.id},get_filter_query_here:function(e){return Se(e)},getOverDueColor:function(e){return e.rejected?"orange":e.over_due?"red":e.closed?"green":e.started?"blue":"grey"},getProperStatus:function(e){return this.reduceText(e.workorder_status.name)},reduceText:function(e){if(e){if(e.length<26)return e;if(e.length>=26)return e.slice(0,23)+"..."}},get_options_here:function(e,t){return je(e,t)},workorderCreated:function(e){this.setWorkorderId=e},get_workorder_init:function(){var e=this;this.pageLoad=!1,this.$store.dispatch("workorder/get_workorders").then((function(t){e.workorders=t,null!==e.workorder_choice?e.pageLoad=!0:e.$store.dispatch("workorder/get_workorder_choice").then((function(){e.pageLoad=!0})).catch((function(){e.pageLoad=!1}))})).catch((function(){e.pageLoad=!1}))}},created:function(){this.get_workorder_init(),_t(this.get_workorder_init)}},Ga=Ua,Qa=(r("d26e"),Object(v["a"])(Ga,Ma,Fa,!1,null,"b5647d92",null)),Ja=Qa.exports;f()(Qa,{VBtn:h["a"],VCard:$["a"],VCardTitle:I["c"],VContainer:B["a"],VContent:M["a"],VDataTable:Ht["a"],VDatePicker:Ae["a"],VDialog:Ze["a"],VFlex:$e["a"],VForm:F["a"],VIcon:g["a"],VLayout:Ie["a"],VMenu:ze["a"],VProgressCircular:Be["a"],VRow:K["a"],VSelect:Me["a"],VSpacer:H["a"],VTextField:Y["a"]});var Za=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("BodyNav",{attrs:{page_title:"Calendar View",right:{name:"Table View",icon:"window-restore",url:"/workorders"}}}),e.pageLoad?r("v-row",{staticClass:"fill-height",class:{"mt-5":e.$vuetify.breakpoint.smAndDown}},[r("v-col",[r("v-sheet",{attrs:{height:"64"}},[r("v-toolbar",{attrs:{flat:"",color:e.$vuetify.theme.dark?"#121212":"white"}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs4:"",md3:""}},[r("v-btn",{staticClass:"mr-4",attrs:{outlined:"",color:e.$vuetify.theme.dark?"white":"grey darken-2"},on:{click:e.setToday}},[e._v("Today")]),r("v-btn",{attrs:{fab:"",text:"",small:"",color:"grey darken-2"},on:{click:e.prev}},[r("v-icon",{attrs:{small:"",color:e.$vuetify.theme.dark?"white":""}},[e._v("fa-angle-double-left")])],1),r("v-btn",{staticClass:"mr-0",attrs:{fab:"",text:"",small:"",color:"grey darken-2"},on:{click:e.next}},[r("v-icon",{attrs:{small:"",color:e.$vuetify.theme.dark?"white":""}},[e._v("fa-angle-double-right")])],1)],1),r("v-flex",{attrs:{xs4:"",md4:""}},[r("v-toolbar-title",[e._v(e._s(e.title))])],1),r("v-flex",{attrs:{xs4:"",md3:""}},[r("v-menu",{attrs:{bottom:"",right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[r("v-btn",e._g({attrs:{color:e.$vuetify.theme.dark?"white":"grey darken-2",outlined:""}},o),[r("span",[e._v(e._s(e.workorder_type))]),r("v-icon",{attrs:{small:"",right:"",color:e.$vuetify.theme.dark?"white":""}},[e._v("fa-angle-down")])],1)]}}],null,!1,1917034479)},[r("v-list",[r("v-list-item",{on:{click:function(t){return e.get_calander_data("active")}}},[r("v-list-item-title",[e._v("Active")])],1),r("v-list-item",{on:{click:function(t){return e.get_calander_data("up_coming")}}},[r("v-list-item-title",[e._v("Up Coming")])],1)],1)],1)],1),r("v-flex",{attrs:{xs4:"",md2:""}},[r("v-menu",{attrs:{bottom:"",right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[r("v-btn",e._g({attrs:{color:e.$vuetify.theme.dark?"white":"grey darken-2",outlined:""}},o),[r("span",[e._v(e._s(e.typeToLabel[e.type]))]),r("v-icon",{attrs:{small:"",right:"",color:e.$vuetify.theme.dark?"white":""}},[e._v("fa-angle-down")])],1)]}}],null,!1,4128560476)},[r("v-list",[r("v-list-item",{on:{click:function(t){e.type="week"}}},[r("v-list-item-title",[e._v("Week")])],1),r("v-list-item",{on:{click:function(t){e.type="month"}}},[r("v-list-item-title",[e._v("Month")])],1)],1)],1)],1)],1)],1)],1),r("v-sheet",{attrs:{height:"600"}},[r("v-calendar",{ref:"calendar",class:{"mt-5":e.$vuetify.breakpoint.smAndDown},attrs:{color:"primary",events:e.events,"event-color":e.getEventColor,now:e.today,type:e.type,"short-months":e.$vuetify.breakpoint.smAndDown,"short-weekdays":e.$vuetify.breakpoint.smAndDown},on:{"click:event":e.openDetail,"click:more":e.viewWeek,"click:date":e.viewWeek,change:e.updateRange},model:{value:e.focus,callback:function(t){e.focus=t},expression:"focus"}})],1)],1)],1):e._e(),e.pageLoad?e._e():r("div",{staticClass:"loading-card"},[r("v-main",[r("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[r("v-row",{attrs:{justify:"center",align:"center"}},[r("v-progress-circular",{attrs:{size:50,color:"blue-grey",indeterminate:""}})],1)],1)],1)],1),r("v-dialog",{attrs:{width:"750"},scopedSlots:e._u([{key:"activator",fn:function(e){}}]),model:{value:e.detailDialog,callback:function(t){e.detailDialog=t},expression:"detailDialog"}},[r("v-card",[r("DetailWorkorder",{attrs:{workorder_id:e.detailDialogWorkorder},on:{detailWorkorderCreated:e.workorderCreated,closeDetailWorkorder:function(t){e.detailDialog=!e.detailDialog}}})],1)],1)],1)},Xa=[],es={name:"calander",components:{BodyNav:Ao,DetailWorkorder:_r},data:function(){return{pageLoad:!1,today:(new Date).toISOString().substr(0,10),focus:(new Date).toISOString().substr(0,10),type:"month",typeToLabel:{month:"Month",week:"Week",day:"Day","4day":"4 Days"},start:null,end:null,selectedEvent:{},selectedElement:null,selectedOpen:!1,detailDialog:!1,detailDialogWorkorder:null,setWorkorderId:null,events:[],dialog:!1,workorder_type:"Active"}},computed:{title:function(){var e=this.start,t=this.end;if(!e||!t)return"";var r=this.monthFormatter(e),o=this.monthFormatter(t),a=r===o?"":o,s=e.year,n=t.year,i=s===n?"":n,l=e.day+this.nth(e.day),c=t.day+this.nth(t.day);switch(this.type){case"month":return"".concat(r," ").concat(s);case"week":case"4day":return"".concat(r," ").concat(l," ").concat(s," - ").concat(a," ").concat(c," ").concat(i);case"day":return"".concat(r," ").concat(l," ").concat(s)}return""},monthFormatter:function(){return this.$refs.calendar.getFormatter({timeZone:"UTC",month:"long"})}},methods:{test:function(){alert("ok")},get_calendar_events:function(){var e=this;this.pageLoad=!1,this.$store.dispatch("workorder/calendar_events").then((function(t){e.events=e.prepart_events(t.workorders),e.today=t.today,e.focus=t.today,e.pageLoad=!0})).catch((function(){e.pageLoad=!1}))},up_coming_events:function(){var e=this;this.pageLoad=!1,this.$store.dispatch("workorder/up_coming_events").then((function(t){e.events=e.prepart_up_coming_events(t),e.today=t.today,e.focus=t.today,e.pageLoad=!0})).catch((function(){e.pageLoad=!1}))},prepart_events:function(e){var t=this,r=[];return e.forEach((function(e){r.push({id:e.id,name:e.workorder_type+" - "+e.name,start:e.created.substr(0,10),end:e.due_date,workorder_status:e.workorder_status,started:e.started,over_due:e.over_due,color:t.getEventColor(e)})})),r},prepart_up_coming_events:function(e){var t=[];return e.forEach((function(e){t.push({id:null,name:e.type+" - "+e.name,start:e.start,end:e.end,started:!1,over_due:!1,rejected:!1,color:"grey"})})),t},getEventColor:function(e){return e.rejected?"orange":e.over_due?"red":e.closed?"green":e.started?"blue":"grey"},openDetail:function(e){null!=e.event.id&&(this.detailDialog=!this.detailDialog,this.setWorkorderId?this.setWorkorderId(e.event.id):this.detailDialogWorkorder=e.event.id)},workorderCreated:function(e){this.setWorkorderId=e},viewDay:function(e){var t=e.date;this.focus=t,this.type="day"},viewWeek:function(e){var t=e.date;this.focus=t,this.type="week"},setToday:function(){this.focus=this.today},prev:function(){this.$refs.calendar.prev()},next:function(){this.$refs.calendar.next()},nth:function(e){return e>3&&e<21?"th":["th","st","nd","rd","th","th","th","th","th","th"][e%10]},formatDate:function(e,t){return t?"".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate()," ").concat(e.getHours(),":").concat(e.getMinutes()):"".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate())},updateRange:function(e){var t=e.start,r=e.end;this.start=t,this.end=r},get_calander_data:function(e){this.workorder_type=e,"active"==e?this.get_calendar_events():"up_coming"==e&&this.up_coming_events()}},created:function(){this.get_calendar_events(),vt(this.get_calendar_events)}},ts=es,rs=r("a4f6"),os=r("8dd9"),as=Object(v["a"])(ts,Za,Xa,!1,null,null,null),ss=as.exports;f()(as,{VBtn:h["a"],VCalendar:rs["a"],VCard:$["a"],VCol:z["a"],VContainer:B["a"],VContent:M["a"],VDialog:Ze["a"],VFlex:$e["a"],VIcon:g["a"],VLayout:Ie["a"],VList:me["a"],VListItem:pe["a"],VListItemTitle:he["b"],VMenu:ze["a"],VProgressCircular:Be["a"],VRow:K["a"],VSheet:os["a"],VToolbar:U["a"],VToolbarTitle:G["a"]});var ns=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("BodyNav",{attrs:{page_title:"Scheduled Work Orders"}}),e.pageLoad?r("v-card",{staticClass:"c-card",attrs:{raised:""}},[r("v-card-title",{staticClass:"c-title"},[r("v-form",{staticStyle:{width:"100%"},on:{submit:function(t){return t.preventDefault(),e.goSearch(t)}}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",md9:""}},[r("v-text-field",{staticClass:"pl-3",attrs:{"prepend-icon":"fa-search",label:"Search...","persistent-hint":"",hint:"Search scheduled Workorders by (Pm workorder name, Equipment name or Serial number)"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),r("v-flex",{attrs:{xs12:"",md1:""}}),r("v-flex",{attrs:{xs12:"",md2:""}},[r("v-btn",{staticClass:"mt-3",attrs:{color:"blue-grey white--text text-capitalize",loading:e.searchLoading,type:"submit"}},[r("v-icon",{attrs:{small:""}},[e._v("fa-search")]),r("span",{staticClass:"ml-2"},[e._v("Search")])],1)],1)],1)],1)],1),r("v-card-title",{staticClass:"c-title-lower"},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",md9:""}},[r("p",{staticClass:"body-1 pl-2"},[e._v(" Query: "),r("strong",[e._v(e._s(e.getQuery))]),r("br"),e._v("Found: "),r("strong",[e._v(e._s(e.scheduled_workorder.count))]),e._v(" Scheduled Workorders. ")])]),r("v-flex",{staticClass:"mb-3",attrs:{xs12:"",md3:""}},[r("v-spacer"),r("v-btn",{staticClass:"mt-5 mr-3",attrs:{small:"",color:"blue-grey white--text text-capitalize",disabled:!e.getBoolean(e.scheduled_workorder.previous),loading:e.previous_btn},on:{click:function(t){return e.get_scheduled_workorder_with_url(e.scheduled_workorder.previous,"p")}}},[r("v-icon",{attrs:{small:""}},[e._v("fa-caret-left")]),r("span",{staticClass:"ml-1"},[e._v("Previous")])],1),r("v-btn",{staticClass:"mt-5",attrs:{small:"",color:"blue-grey white--text text-capitalize",loading:e.next_btn,disabled:!e.getBoolean(e.scheduled_workorder.next)},on:{click:function(t){return e.get_scheduled_workorder_with_url(e.scheduled_workorder.next,"n")}}},[r("span",{staticClass:"mr-1"},[e._v("Next")]),r("v-icon",{attrs:{small:""}},[e._v("fa-caret-right")])],1)],1)],1),r("div",{staticClass:"filter-section"},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",md3:""}},[r("v-select",{staticClass:"mt-0 mx-2",attrs:{label:"Resource","prepend-icon":"fa-users",items:e.resources},model:{value:e.assigned_to,callback:function(t){e.assigned_to=t},expression:"assigned_to"}})],1),r("v-flex",{attrs:{xs12:"",md3:""}},[r("v-select",{staticClass:"mt-0 mx-2",attrs:{label:"Active","prepend-icon":"fa-bell-o",items:[{value:"",text:"---------------"},{value:{id:!0,name:"Active"},text:"Active"},{value:{id:!1,name:"Not Active"},text:"Not Active"}]},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}})],1),r("v-flex",{attrs:{xs12:"",md3:""}},[r("v-select",{staticClass:"mt-0 mx-2",attrs:{label:"Multiple","prepend-icon":"fa-clone",items:[{value:"",text:"---------------"},{value:{id:!0,name:"Multiple"},text:"Multiple"},{value:{id:!1,name:"Single"},text:"Single"}]},model:{value:e.multiple,callback:function(t){e.multiple=t},expression:"multiple"}})],1)],1),r("v-layout",{attrs:{wrap:e.$vuetify.breakpoint.smAndDown}},[r("v-flex",{staticClass:"mt-1",attrs:{xs9:"",md9:""}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",md4:""}},[r("v-select",{staticClass:"mt-0 mr-3 ml-2",attrs:{label:"Scheduler Type","prepend-icon":"fa-calendar",items:e.scheduler_type},model:{value:e.scheduler__scheduler_type,callback:function(t){e.scheduler__scheduler_type=t},expression:"scheduler__scheduler_type"}})],1),r("v-flex",{staticClass:"pl-3 pr-3",attrs:{xs12:"",md5:""}},[r("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.last_scheduled_date,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(t){e.last_scheduled_date=t},"update:return-value":function(t){e.last_scheduled_date=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[r("v-text-field",e._g({attrs:{label:"Latest Scheduled Date","prepend-icon":"fa-clock-o",readonly:""},model:{value:e.last_scheduled_date,callback:function(t){e.last_scheduled_date=t},expression:"last_scheduled_date"}},o))]}}],null,!1,3156179312),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[r("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.last_scheduled_date,callback:function(t){e.last_scheduled_date=t},expression:"last_scheduled_date"}},[r("v-spacer"),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu.save(null)}}},[e._v("Clear")]),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v("Cancel")]),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu.save(e.last_scheduled_date)}}},[e._v("OK")])],1)],1)],1)],1)],1),r("v-flex",{staticClass:"mt-5 ml-5",attrs:{xs2:"",md2:""}},[r("v-btn",{attrs:{small:"",color:"blue-grey white--text text-capitalize",loading:e.filter_btn},on:{click:e.filter}},[e._v("Go")])],1),r("v-flex",{staticClass:"mt-5 ml-1",attrs:{xs1:"",md1:""}},[r("v-btn",{class:{"mb-4":e.$vuetify.breakpoint.smAndDown},attrs:{depressed:"",outlined:"",fab:"",small:"",icon:"",color:"blue-grey"},on:{click:e.open_submit_scheduled_workorder}},[r("v-icon",[e._v("fa fa-plus")])],1)],1)],1)],1)],1),e.scheduled_workorder?r("v-data-table",{attrs:{headers:e.headers,items:e.scheduled_workorder.results,"item-key":"id","hide-default-footer":"","no-data-text":"No scheduled workorder found.","items-per-page":e.load_per_page,"mobile-breakpoint":0},on:{"click:row":e.open_detail},scopedSlots:e._u([{key:"item.active",fn:function(t){var o=t.item;return[r("div",{staticClass:"small-circle",style:"margin-right: 0px; background: "+e.getColor(o.active)})]}},{key:"item.name",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-name"},[r("span",[e._v(e._s(e.reduceText(o.name)))])])]}},{key:"item.equipment",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-name"},[e._l(o.equipment.slice(0,1),(function(t){return r("span",{key:t.inventory_number},[e._v(" - "+e._s(e.reduceText(t.equipment_name))+" "),r("br")])})),o.equipment.length>1?r("span",{staticClass:"c-more"},[e._v("- "),r("strong",[e._v("("+e._s(o.equipment.length-1)+") more")])]):e._e()],2)]}},{key:"item.description",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-description"},[r("span",[e._v(e._s(e.reduceText(o.description)))])])]}},{key:"item.work_category.name",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-work-category"},[o.work_category?r("span",[e._v(e._s(e.reduceText(o.work_category.name)))]):e._e()])]}},{key:"item.scheduler",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-scheduler"},[e._l(o.scheduler.slice(0,1),(function(t){return r("span",{key:t.id},[e._v(" - "+e._s(e.reduceText(t.name))+" "),r("br")])})),o.scheduler.length>1?r("span",{staticClass:"c-more"},[e._v("- "),r("strong",[e._v("("+e._s(o.scheduler.length-1)+") more")])]):e._e()],2)]}},{key:"item.scheduler.scheduler_type",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-scheduler"},[e._l(o.scheduler.slice(0,1),(function(t){return r("span",{key:t.scheduler_type},[e._v(" - "+e._s(e.p_sheduler_type[t.scheduler_type])+" "),r("br")])})),o.scheduler.length>1?r("span",{staticClass:"c-more"},[e._v("- "),r("strong",[e._v("("+e._s(o.scheduler.length-1)+") more")])]):e._e()],2)]}},{key:"item.due_date",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-small"},[r("span",[e._v(e._s(o.due_date))])])]}},{key:"item.tasks",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-small"},[r("span",[e._v(e._s(o.tasks.length)+" tasks")])])]}},{key:"item.assigned_to",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-assigned"},[e._l(o.assigned_to.slice(0,1),(function(t){return r("span",{key:t.employee_id},[e._v(" - "+e._s(t.first_name)+" - "+e._s(t.employee_id)+" "),r("br")])})),o.assigned_to.length>1?r("span",{staticClass:"c-more"},[e._v("- "),r("strong",[e._v("("+e._s(o.assigned_to.length-1)+") more")])]):e._e()],2)]}},{key:"item.job_hazard",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-job-hazard"},[o.job_hazard?r("span",[e._v(e._s(o.job_hazard.name))]):e._e()])]}},{key:"item.estimated_cost",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-status"},[o.estimated_cost?r("span",[e._v(e._s(o.estimated_cost)+" ETB")]):e._e()])]}},{key:"item.multiple",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-small"},[o.multiple?r("v-icon",{attrs:{color:e.getColor(o.multiple),small:""}},[e._v("fa fa-check")]):r("v-icon",{attrs:{color:e.getColor(o.multiple),small:""}},[e._v("fa fa-close")])],1)]}},{key:"item.start_date",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-date"},[r("span",[e._v(e._s(o.start_date))])])]}},{key:"item.end_date",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-date"},[r("span",[e._v(e._s(o.end_date))])])]}},{key:"item.created_by",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-assigned"},[o.created_by?r("span",[e._v(" "+e._s(o.created_by.first_name)+" - "+e._s(o.created_by.employee_id))]):e._e()])]}},{key:"item.created",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-status"},[r("span",[e._v(e._s(e.moment(o.created).format("MM/DD/YYYY HH:mm:ss")))])])]}},{key:"item.last_scheduled_date",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-date"},[o.last_scheduled_date?r("span",[e._v(e._s(e.moment(o.last_scheduled_date).format("MM/DD/YYYY")))]):e._e()])]}},{key:"item.scheduled_so_far",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-small"},[r("span",[e._v(e._s(o.scheduled_so_far))])])]}},{key:"item.done_so_far",fn:function(t){var o=t.item;return[r("div",{staticClass:"c-td-small"},[r("span",[e._v(e._s(o.done_so_far))])])]}}],null,!1,53303227)}):e._e(),r("v-layout",{staticClass:"c-table-footer pt-3",attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",md9:""}},[r("p",{staticClass:"body-2 pl-3 ml-3"},[e._v(" Total "),r("strong",[e._v(e._s(e.scheduled_workorder.count))]),e._v(" Items, Showing maximum of "),r("strong",[e._v(e._s(e.load_per_page))]),e._v(" Items per page. ")])]),r("v-flex",{staticClass:"mb-3",class:{"ml-5":e.$vuetify.breakpoint.smAndDown},attrs:{xs12:"",md3:""}},[r("v-spacer"),r("v-btn",{staticClass:"mr-3",attrs:{small:"",color:"blue-grey white--text text-capitalize",disabled:!e.getBoolean(e.scheduled_workorder.previous),loading:e.previous_btn},on:{click:function(t){return e.get_scheduled_workorder_with_url(e.scheduled_workorder.previous,"p")}}},[r("v-icon",{attrs:{small:""}},[e._v("fa-caret-left")]),r("span",{staticClass:"ml-1"},[e._v("Previous")])],1),r("v-btn",{attrs:{small:"",color:"blue-grey white--text text-capitalize",disabled:!e.getBoolean(e.scheduled_workorder.next),loading:e.next_btn},on:{click:function(t){return e.get_scheduled_workorder_with_url(e.scheduled_workorder.next,"n")}}},[r("span",{staticClass:"mr-1"},[e._v("Next")]),r("v-icon",{attrs:{small:""}},[e._v("fa-caret-right")])],1)],1)],1)],1):e._e(),e.pageLoad?e._e():r("div",[r("v-main",[r("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[r("v-row",{attrs:{justify:"center",align:"center"}},[r("v-progress-circular",{attrs:{size:50,color:"blue-grey",indeterminate:""}})],1)],1)],1)],1),r("v-dialog",{attrs:{width:"900"},scopedSlots:e._u([{key:"activator",fn:function(e){}}]),model:{value:e.submit_scheduled_workorder,callback:function(t){e.submit_scheduled_workorder=t},expression:"submit_scheduled_workorder"}},[r("v-card",[r("SubmitScheduledWorkorder",{on:{closeSubmitScheduledWorkorder:function(t){e.submit_scheduled_workorder=!e.submit_scheduled_workorder},reset_ready:e.init_submit_scheduled_workorder,reload:e.reload_pm_workorders}})],1)],1),r("v-dialog",{attrs:{width:"750"},scopedSlots:e._u([{key:"activator",fn:function(e){}}]),model:{value:e.detail_pm_workorder,callback:function(t){e.detail_pm_workorder=t},expression:"detail_pm_workorder"}},[r("v-card",[r("DetailScheduledWorkorder",{attrs:{pm_workorder_id:e.detail_pm_workorder_id},on:{created:e.init_detail_pm_workorder,close:function(t){e.detail_pm_workorder=!e.detail_pm_workorder},reload:e.reload_pm_workorders}})],1)],1)],1)},is=[],ls=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.pageLoad?r("v-card",[r("v-toolbar",{attrs:{color:"blue-grey",dark:"",flat:""}},[r("v-toolbar-title",[r("v-icon",{staticClass:"mx-2"},[e._v("fa-cogs")]),e._v(" SUBMIT SCHEDULED WORKORDER ")],1)],1),r("v-card-text",[r("v-container",[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{staticClass:"px-5",attrs:{xs12:"",md6:""}},[r("v-text-field",{attrs:{label:"* Name","prepend-icon":"fa-cogs",type:"text","error-messages":e.name_errors},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),r("v-autocomplete",{attrs:{"prepend-icon":"fa-cubes",label:"* Associations",items:e.get_associations,filter:e.equipmentsFilter,multiple:"","error-messages":e.equipment_errors},model:{value:e.equipment,callback:function(t){e.equipment=t},expression:"equipment"}}),r("v-textarea",{attrs:{label:"Description","prepend-icon":"fa-commenting-o","auto-grow":"",outlined:""},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}}),r("v-menu",{ref:"menu_start_date",attrs:{"close-on-content-click":!1,"return-value":e.start_date,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(t){e.start_date=t},"update:return-value":function(t){e.start_date=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[r("v-text-field",e._g({attrs:{label:"* Start Date","prepend-icon":"fa-calendar-check-o",readonly:"","error-messages":e.start_date_errors},model:{value:e.start_date,callback:function(t){e.start_date=t},expression:"start_date"}},o))]}}],null,!1,1926085729),model:{value:e.menu_start_date,callback:function(t){e.menu_start_date=t},expression:"menu_start_date"}},[r("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.start_date,callback:function(t){e.start_date=t},expression:"start_date"}},[r("v-spacer"),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu_start_date=!1}}},[e._v("Cancel")]),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu_start_date.save(e.start_date)}}},[e._v("OK")])],1)],1),r("v-menu",{ref:"menu_end_date",attrs:{"close-on-content-click":!1,"return-value":e.end_date,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(t){e.end_date=t},"update:return-value":function(t){e.end_date=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[r("v-text-field",e._g({attrs:{label:"End Date","prepend-icon":"fa-calendar-times-o",readonly:""},model:{value:e.end_date,callback:function(t){e.end_date=t},expression:"end_date"}},o))]}}],null,!1,172333039),model:{value:e.menu_end_date,callback:function(t){e.menu_end_date=t},expression:"menu_end_date"}},[r("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.end_date,callback:function(t){e.end_date=t},expression:"end_date"}},[r("v-spacer"),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu_end_date=!1}}},[e._v("Cancel")]),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu_end_date.save(e.end_date)}}},[e._v("OK")])],1)],1),r("v-switch",{attrs:{label:"Multiple"},model:{value:e.multiple,callback:function(t){e.multiple=t},expression:"multiple"}}),r("v-file-input",{attrs:{label:"Document","prepend-icon":"fa-file-word-o"},model:{value:e.document,callback:function(t){e.document=t},expression:"document"}}),r("v-file-input",{attrs:{label:"Image","prepend-icon":"fa-image",accept:"image/*"},model:{value:e.image,callback:function(t){e.image=t},expression:"image"}})],1),r("v-flex",{staticClass:"px-5",attrs:{xs12:"",md6:""}},[r("v-select",{attrs:{label:"* Initial Workorder Status","prepend-icon":"fa-fire",items:e.get_workorder_status,"error-messages":e.workorder_status_errors},model:{value:e.workorder_status,callback:function(t){e.workorder_status=t},expression:"workorder_status"}}),r("v-select",{attrs:{label:"Work Category","prepend-icon":"fa-briefcase",items:e.get_options_here(e.workorder_choice,"work_categories")},model:{value:e.work_category,callback:function(t){e.work_category=t},expression:"work_category"}}),r("v-select",{attrs:{label:"Job Hazard","prepend-icon":"fa-bolt",items:e.get_options_here(e.workorder_choice,"job_hazard")},model:{value:e.job_hazard,callback:function(t){e.job_hazard=t},expression:"job_hazard"}}),r("v-select",{attrs:{label:"Priority","prepend-icon":"fa-sort-amount-desc",items:e.get_options_here(e.workorder_choice,"priorities")},model:{value:e.priority,callback:function(t){e.priority=t},expression:"priority"}}),r("v-select",{attrs:{"prepend-icon":"fa-user-plus",label:"* Resources",multiple:"",items:e.resources,"error-messages":e.assigned_to_errors},model:{value:e.assigned_to,callback:function(t){e.assigned_to=t},expression:"assigned_to"}}),r("v-text-field",{attrs:{label:"* Days To Complete","prepend-icon":"fa-cogs",type:"number","error-messages":e.due_date_errors},model:{value:e.due_date,callback:function(t){e.due_date=t},expression:"due_date"}}),r("v-text-field",{attrs:{label:"Estimated Cost","prepend-icon":"fa-money",type:"number"},model:{value:e.estimated_cost,callback:function(t){e.estimated_cost=t},expression:"estimated_cost"}})],1)],1),r("h1",{staticClass:"title mb-3 mt-5",style:e.scheduler_errors?"color: red;":""},[e._v("* SCHEDULER")]),r("v-data-table",{staticClass:"mb-5",attrs:{headers:e.scheduler_headers,items:e.schedulers,"no-data-text":"No SCHEDULER added","hide-default-footer":"","items-per-page":100,dark:"","mobile-breakpoint":0},scopedSlots:e._u([{key:"item.action",fn:function(t){var o=t.item;return[r("v-btn",{attrs:{depressed:"",outlined:"",icon:"",fab:"",dark:"",small:"",color:"red"},on:{click:function(t){return e.remove_scheduler(o)}}},[r("v-icon",[e._v("fa fa-close")])],1)]}}],null,!1,2008442790)}),r("v-btn",{staticClass:"mb-4 blue-grey white--text text-capitalize",on:{click:e.open_scheduler_dialog}},[r("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v("fa fa-calendar")]),e._v(" Add Scheduler ")],1),r("div",{staticClass:"divider"}),r("h1",{staticClass:"title mb-3 mt-5"},[e._v("TASKS")]),r("v-data-table",{staticClass:"mb-5",attrs:{headers:e.task_headers,items:e.tasks,"no-data-text":"No TASK added","hide-default-footer":"","items-per-page":100,dark:"","mobile-breakpoint":0,"disable-sort":""},scopedSlots:e._u([{key:"item.action",fn:function(t){var o=t.item;return[r("v-btn",{attrs:{depressed:"",outlined:"",icon:"",fab:"",dark:"",small:"",color:"red"},on:{click:function(t){return e.remove_task(o)}}},[r("v-icon",[e._v("fa fa-close")])],1)]}}],null,!1,545808700)}),r("v-btn",{staticClass:"mb-4 blue-grey white--text text-capitalize",on:{click:e.open_tasks_dialog}},[r("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v("fa fa-list-alt")]),e._v(" Add Tasks ")],1)],1)],1),r("div",{staticClass:"btns"},[r("v-layout",[r("v-flex",{attrs:{md9:""}}),r("v-flex",[r("v-btn",{attrs:{loading:e.loading,color:"green white--text text-capitalize mb-4 mr-4 mt-4"},on:{click:e.submit}},[r("v-icon",{attrs:{small:""}},[e._v("fa-cogs")]),r("span",{staticClass:"ml-2"},[e._v("Submit")])],1)],1),r("v-flex",[r("v-btn",{attrs:{color:"blue-grey white--text text-capitalize mb-4 mr-4 mt-4"},on:{click:e.closeSubmitScheduledWorkorder}},[r("v-icon",{attrs:{small:""}},[e._v("fa-close")]),r("span",{staticClass:"ml-2"},[e._v("Close")])],1)],1)],1)],1)],1):e._e(),e.pageLoad?e._e():r("div",{staticClass:"loading-card"},[r("v-main",[r("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[r("v-row",{attrs:{justify:"center",align:"center"}},[r("v-progress-circular",{attrs:{size:50,color:"blue-grey",indeterminate:""}})],1)],1)],1)],1),r("v-dialog",{attrs:{width:"750"},scopedSlots:e._u([{key:"activator",fn:function(e){}}]),model:{value:e.scheduler_dialog,callback:function(t){e.scheduler_dialog=t},expression:"scheduler_dialog"}},[r("v-card",[r("Scheduler",{on:{created:e.init_scheduler_dialog,close_scheduler_dialog:function(t){e.scheduler_dialog=!e.scheduler_dialog},add_scheduler:e.add_schedule}})],1)],1),r("v-dialog",{attrs:{width:"750"},scopedSlots:e._u([{key:"activator",fn:function(e){}}]),model:{value:e.tasks_dialog,callback:function(t){e.tasks_dialog=t},expression:"tasks_dialog"}},[r("v-card",[r("Tasks",{on:{created:e.init_tasks_dialog,close_tasks_dialog:function(t){e.tasks_dialog=!e.tasks_dialog},add_task:e.add_task}})],1)],1)],1)},cs=[],ds=(r("d28b"),r("c975"),r("3ca3"),r("ddb0"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-card",[r("v-toolbar",{attrs:{color:"blue-grey",dark:"",flat:""}},[r("v-toolbar-title",[r("v-icon",{staticClass:"mx-2"},[e._v("fa-calendar")]),e._v(" SCHEDULER ")],1)],1),r("v-card-text",[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{staticClass:"px-5",attrs:{xs12:"",md3:""}},[r("v-card",{attrs:{flat:"",outlined:""}},[r("v-list",{attrs:{dense:""}},[r("v-list-item-group",e._l(e.get_scheduler_type,(function(t,o){return r("v-list-item",{key:o,on:{click:function(r){return e.set_type(t)}}},[r("v-list-item-content",[r("v-list-item-title",{domProps:{textContent:e._s(t.name)}})],1)],1)})),1)],1)],1)],1),r("v-flex",{staticClass:"px-5",attrs:{xs12:"",md9:""}},[null==e.selected_type?r("h2",{staticClass:"mt-4 ml-4 blue-grey--text"},[r("strong",[r("v-icon",{staticClass:"mb-5",attrs:{color:"green"}},[e._v("fa fa-paperclip")]),e._v(" Pleace Select a Scheduler Type.")],1)]):r("div",{staticClass:"mt-4"},["OT"==e.selected_type.id?r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",[r("h2",{staticClass:"mb-2"},[r("v-icon",{staticClass:"mb-1 mr-2"},[e._v(" fa-cogs ")]),e._v(" One Time Scheduler ")],1),r("v-menu",{ref:"menu_one_time_day",attrs:{"close-on-content-click":!1,"return-value":e.one_time_day,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(t){e.one_time_day=t},"update:return-value":function(t){e.one_time_day=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[r("v-text-field",e._g({staticClass:"month-day-selector",attrs:{label:"* One Time Date","prepend-icon":"fa-calendar-check-o",readonly:"","error-messages":e.errors_one_time_day},model:{value:e.one_time_day,callback:function(t){e.one_time_day=t},expression:"one_time_day"}},o))]}}],null,!1,1939286473),model:{value:e.menu_one_time_day,callback:function(t){e.menu_one_time_day=t},expression:"menu_one_time_day"}},[r("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.one_time_day,callback:function(t){e.one_time_day=t},expression:"one_time_day"}},[r("v-spacer"),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu_one_time_day=!1}}},[e._v("Cancel")]),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu_one_time_day.save(e.one_time_day)}}},[e._v("OK")])],1)],1)],1)],1):e._e(),"DY"==e.selected_type.id?r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",[r("h2",{staticClass:"mb-2"},[r("v-icon",{staticClass:"mb-1 mr-2"},[e._v(" fa-cogs ")]),e._v(" Daily Scheduler ")],1),r("p",{staticClass:"ml-2"},[r("v-icon",{attrs:{color:"blue",small:""}},[e._v("fa fa-info")]),e._v(" Schedule daily starting from the start date to end data (if provided). ")],1)])],1):e._e(),"WK"==e.selected_type.id?r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",[r("h2",{staticClass:"mb-2"},[r("v-icon",{staticClass:"mb-1 mr-2"},[e._v(" fa-cogs ")]),e._v(" Weekly Scheduler ")],1),r("v-select",{staticClass:"month-day-selector",attrs:{"prepend-icon":"fa-calendar-check-o",label:"* Day of the week",items:e.get_week_days,"error-messages":e.errors_day_of_the_week},model:{value:e.day_of_the_week,callback:function(t){e.day_of_the_week=t},expression:"day_of_the_week"}})],1)],1):e._e(),"MN"==e.selected_type.id?r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",[r("h2",{staticClass:"mb-2"},[r("v-icon",{staticClass:"mb-1 mr-2"},[e._v(" fa-cogs ")]),e._v(" Monthly Scheduler ")],1),r("v-select",{staticClass:"month-day-selector",attrs:{"prepend-icon":"fa-calendar-check-o",label:"* Day of the month",items:e.get_month_days,"error-messages":e.errors_day_of_the_month},model:{value:e.day_of_the_month,callback:function(t){e.day_of_the_month=t},expression:"day_of_the_month"}})],1),r("v-card",{staticClass:"pa-4 mr-5",attrs:{flat:""}},[r("h3",{staticClass:"blue-grey--text"},[e._v("Select Months")]),r("v-btn",{attrs:{small:"",color:"green white--text text-capitalize mt-3 ml-1"},on:{click:e.select_all_months}},[r("v-icon",{attrs:{small:""}},[e._v("fa-check-square-o")]),r("span",{staticClass:"ml-2"},[e._v("All")])],1),r("v-layout",{attrs:{row:"",wrap:""}},e._l(e.get_months,(function(t){return r("v-flex",{key:t.id,attrs:{sm4:"",md3:""}},[r("v-checkbox",{attrs:{label:t.name,value:t},model:{value:e.selected_months,callback:function(t){e.selected_months=t},expression:"selected_months"}})],1)})),1)],1)],1):e._e(),"IN"==e.selected_type.id?r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",[r("h2",{staticClass:"mb-2"},[r("v-icon",{staticClass:"mb-1 mr-2"},[e._v(" fa-cogs ")]),e._v(" Interval Scheduler ")],1),r("v-text-field",{staticClass:"month-day-selector",attrs:{label:"* Day Interval","prepend-icon":"fa-cogs",type:"number","error-messages":e.errors_interval},model:{value:e.interval,callback:function(t){e.interval=t},expression:"interval"}})],1)],1):e._e()],1)])],1)],1),null!=e.selected_type?r("div",{staticClass:"btns"},[r("v-layout",[r("v-flex",{attrs:{md9:""}}),r("v-flex",[r("v-btn",{attrs:{color:"green white--text text-capitalize mb-4 mr-4 mt-4"},on:{click:e.add_scheduler}},[r("v-icon",{attrs:{small:""}},[e._v("fa-check")]),r("span",{staticClass:"ml-2"},[e._v("Add")])],1)],1),r("v-flex",[r("v-btn",{attrs:{color:"blue-grey white--text text-capitalize mb-4 mr-4 mt-4"},on:{click:e.close}},[r("v-icon",{attrs:{small:""}},[e._v("fa-close")]),r("span",{staticClass:"ml-2"},[e._v("Close")])],1)],1)],1)],1):e._e()],1)],1)}),us=[],_s=(r("d81d"),{name:"Scheduler",computed:{get_scheduler_type:function(){return rr},get_month_days:function(){return or.map((function(e){return{value:e,text:e.name}}))},get_months:function(){return ar},get_week_days:function(){return sr.map((function(e){return{value:e,text:e.name}}))}},data:function(){return{selected_type:null,selected_months:[],day_of_the_month:null,menu_one_time_day:!1,one_time_day:null,day_of_the_week:null,interval:null,errors_one_time_day:null,errors_day_of_the_month:null,errors_day_of_the_week:null,errors_interval:null}},methods:{set_type:function(e){this.selected_type=e,this.reset()},reset:function(){this.selected_months=[],this.day_of_the_month=null,this.one_time_day=null,this.day_of_the_week=null,this.interval=null,this.errors_day_of_the_month=null,this.errors_one_time_day=null,this.errors_day_of_the_week=null,this.errors_interval=null},select_all_months:function(){12!=this.selected_months.length?this.selected_months=this.get_months:this.selected_months=[]},close:function(){this.$emit("close_scheduler_dialog")},add_scheduler:function(){"MN"!==this.selected_type.id?"OT"!==this.selected_type.id?"DY"!==this.selected_type.id?"WK"!==this.selected_type.id?"IN"!==this.selected_type.id||this.schedule_interval():this.schedule_weekly():this.schedule_daily():this.schedule_one_time():this.schedule_monthly()},schedule_monthly:function(){if(null===this.day_of_the_month)return this.$store.commit("SET_SNACKBAR",{message:"Select day of the month.",value:!0,status:"error"}),void(this.errors_day_of_the_month="Select day of the month.");if(this.selected_months.length<1)this.$store.commit("SET_SNACKBAR",{message:"Select at list one month.",value:!0,status:"error"});else{var e="On the "+this.day_of_the_month.name+" of ";12==this.selected_months.length?e+="every month":this.selected_months.length>6?e+="most months":1==this.selected_months.length?e+=this.selected_months[0].name:e+="some month",this.$emit("add_scheduler",{name:e,month:this.selected_months,day_of_the_month:this.day_of_the_month,scheduler_type:this.selected_type}),this.close()}},schedule_one_time:function(){if(null===this.one_time_day)return this.$store.commit("SET_SNACKBAR",{message:"Select one time date.",value:!0,status:"error"}),void(this.errors_one_time_day="Select one time date.");var e="One time on "+this.one_time_day;this.$emit("add_scheduler",{name:e,one_time_date:this.one_time_day,scheduler_type:this.selected_type}),this.close()},schedule_daily:function(){var e="Every Day";this.$emit("add_scheduler",{name:e,scheduler_type:this.selected_type}),this.close()},schedule_weekly:function(){if(null===this.day_of_the_week)return this.$store.commit("SET_SNACKBAR",{message:"Select date of the week.",value:!0,status:"error"}),void(this.errors_day_of_the_week="Select date of the week.");var e="Every week on "+this.day_of_the_week.name;this.$emit("add_scheduler",{name:e,week_day:this.day_of_the_week,scheduler_type:this.selected_type}),this.close()},schedule_interval:function(){if(null===this.interval||this.interval<1)return this.$store.commit("SET_SNACKBAR",{message:"Enter Day interval properly.",value:!0,status:"error"}),void(this.errors_interval="Enter Day interval properly.");var e="Every "+this.interval+" days apart.";this.$emit("add_scheduler",{name:e,interval:this.interval,scheduler_type:this.selected_type}),this.close()}},created:function(){this.$emit("created",this.reset)}}),ms=_s,vs=(r("149b"),r("ac7c")),ps=r("1baa"),fs=Object(v["a"])(ms,ds,us,!1,null,"7318e31b",null),hs=fs.exports;f()(fs,{VBtn:h["a"],VCard:$["a"],VCardText:I["b"],VCheckbox:vs["a"],VDatePicker:Ae["a"],VFlex:$e["a"],VIcon:g["a"],VLayout:Ie["a"],VList:me["a"],VListItem:pe["a"],VListItemContent:he["a"],VListItemGroup:ps["a"],VListItemTitle:he["b"],VMenu:ze["a"],VSelect:Me["a"],VSpacer:H["a"],VTextField:Y["a"],VToolbar:U["a"],VToolbarTitle:G["a"]});var gs=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-card",[r("v-toolbar",{attrs:{color:"blue-grey",dark:"",flat:""}},[r("v-toolbar-title",[r("v-icon",{staticClass:"mx-2"},[e._v("fa-list-alt")]),e._v(" TASK ")],1)],1),r("v-card-text",[r("v-container",[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{staticClass:"px-5",attrs:{xs12:"",md6:""}},[r("v-text-field",{attrs:{label:"* Task Name","prepend-icon":"fa-list-alt",type:"text","error-messages":e.errors_name},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),r("v-text-field",{attrs:{label:"* Order","prepend-icon":"fa-list-ol",type:"number","error-messages":e.errors_no},model:{value:e.no,callback:function(t){e.no=t},expression:"no"}}),r("v-textarea",{attrs:{label:"Description","prepend-icon":"fa-commenting-o","auto-grow":"",outlined:""},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1),r("v-flex",{staticClass:"px-5",attrs:{xs12:"",md6:""}},[r("v-text-field",{attrs:{label:"Estimated Cost","prepend-icon":"fa-money",type:"number"},model:{value:e.estimated_cost,callback:function(t){e.estimated_cost=t},expression:"estimated_cost"}}),r("v-text-field",{attrs:{label:"Estimated Hour","prepend-icon":"fa-clock-o",type:"number"},model:{value:e.estimated_hour,callback:function(t){e.estimated_hour=t},expression:"estimated_hour"}})],1)],1)],1)],1),r("div",{staticClass:"btns"},[r("v-layout",[r("v-flex",{attrs:{md9:""}}),r("v-flex",[r("v-btn",{attrs:{color:"green white--text text-capitalize mb-4 mr-4 mt-4"},on:{click:e.add_task}},[r("v-icon",{attrs:{small:""}},[e._v("fa-check")]),r("span",{staticClass:"ml-2"},[e._v("Add")])],1)],1),r("v-flex",[r("v-btn",{attrs:{color:"blue-grey white--text text-capitalize mb-4 mr-4 mt-4"},on:{click:e.close}},[r("v-icon",{attrs:{small:""}},[e._v("fa-close")]),r("span",{staticClass:"ml-2"},[e._v("Close")])],1)],1)],1)],1)],1)],1)},bs=[],ks={name:"Tasks",data:function(){return{estimated_cost:null,estimated_hour:null,description:null,no:null,name:null,errors_name:null,errors_no:null}},methods:{close:function(){this.$emit("close_tasks_dialog")},reset:function(){this.estimated_cost=null,this.estimated_hour=null,this.description=null,this.no=null,this.name=null,this.errors_name=null,this.errors_no=null},add_task:function(){return null==this.name?(this.$store.commit("SET_SNACKBAR",{message:"Enter task name.",value:!0,status:"error"}),void(this.errors_name="Enter task name.")):null==this.no||this.no<0?(this.$store.commit("SET_SNACKBAR",{message:"Enter a proper task order no.",value:!0,status:"error"}),void(this.errors_no="Enter a proper task order no.")):(this.$emit("add_task",{name:this.name,no:this.no,description:this.description,estimated_cost:this.estimated_cost,estimated_hour:this.estimated_hour}),void this.close())}},created:function(){this.$emit("created",this.reset)}},ws=ks,ys=(r("fddf"),Object(v["a"])(ws,gs,bs,!1,null,"62c83687",null)),xs=ys.exports;function Cs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Os(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cs(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}f()(ys,{VBtn:h["a"],VCard:$["a"],VCardText:I["b"],VContainer:B["a"],VFlex:$e["a"],VIcon:g["a"],VLayout:Ie["a"],VTextField:Y["a"],VTextarea:Fe["a"],VToolbar:U["a"],VToolbarTitle:G["a"]});var Ds={name:"submit_scheduled_workorder",components:{Scheduler:hs,Tasks:xs},data:function(){return{pageLoad:!1,menu_start_date:!1,menu_end_date:!1,scheduler_headers:[{text:"Name",value:"name"},{text:"Scheduler Type",value:"scheduler_type.name"},{text:"Action",value:"action"}],schedulers:[],task_headers:[{text:"Task Name",value:"name"},{text:"Order No",value:"no"},{text:"Description",value:"description"},{text:"Estimated Cost",value:"estimated_cost"},{text:"Estimated Hour",value:"estimated_hour"},{text:"Action",value:"action"}],tasks:[],associations:null,scheduler_dialog:!1,tasks_dialog:!1,fun_scheduler_dialog:null,fun_tasks_dialog:null,name:null,equipment:[],description:null,start_date:(new Date).toISOString().substr(0,10),end_date:null,multiple:!1,document:null,image:null,workorder_status:null,work_category:null,job_hazard:null,priority:null,assigned_to:[],due_date:null,estimated_cost:null,name_errors:null,equipment_errors:null,start_date_errors:null,workorder_status_errors:null,assigned_to_errors:null,due_date_errors:null,scheduler_errors:null,loading:!1}},methods:{closeSubmitScheduledWorkorder:function(){this.$emit("closeSubmitScheduledWorkorder")},get_options_here:function(e,t){return je(e,t)},equipmentsFilter:function(e,t){var r=e.text.toLowerCase(),o=t.toLowerCase();return r.indexOf(o)>-1},open_scheduler_dialog:function(){this.fun_scheduler_dialog&&this.fun_scheduler_dialog(),this.scheduler_dialog=!0},open_tasks_dialog:function(){this.fun_tasks_dialog&&this.fun_tasks_dialog(),this.tasks_dialog=!0},init_scheduler_dialog:function(e){this.fun_scheduler_dialog=e},add_schedule:function(e){this.schedulers.push(e)},remove_scheduler:function(e){this.schedulers=this.schedulers.filter((function(t){return t!==e}))},init_tasks_dialog:function(e){this.fun_tasks_dialog=e},add_task:function(e){this.tasks.push(e)},remove_task:function(e){this.tasks=this.tasks.filter((function(t){return t!==e}))},reset:function(){this.name=null,this.equipment=[],this.description=null,this.start_date=(new Date).toISOString().substr(0,10),this.end_date=null,this.multiple=!1,this.document=null,this.image=null,this.workorder_status=null,this.work_category=null,this.job_hazard=null,this.priority=null,this.assigned_to=[],this.due_date=null,this.estimated_cost=null,this.name_errors=null,this.equipment_errors=null,this.start_date_errors=null,this.workorder_status_errors=null,this.assigned_to_errors=null,this.due_date_errors=null,this.scheduler_errors=null,this.tasks=[],this.schedulers=[]},submit:function(){var e=this,t=this;this.name_errors=null,this.equipment_errors=null,this.start_date_errors=null,this.workorder_status_errors=null,this.assigned_to_errors=null,this.due_date_errors=null;var r=t.prepareFormData(["name","description","start_date","end_date","multiple","document","image","due_date","estimated_cost"],t);t.complex_prepare_formdata(r,["workorder_status","work_category","job_hazard","priority"],t),t.complex_multiple_prepard_formdata(r,["equipment","assigned_to"],t),r.append("created_by",this.user.id),t.prepare_scheduler(r,t.schedulers,["name","one_time_date","interval","week_day","day_of_the_month"]),t.prepare_tasks(r,t.tasks,["name","no","description","estimated_cost","estimated_hour"]),this.loading=!0,this.$store.dispatch("workorder/create_scheduled_workorder",r).then((function(){e.loading=!1,e.$store.commit("SET_SNACKBAR",{message:"Successfully Created a Scheduled Workorder.",value:!0,status:"success"}),e.$emit("reload"),e.closeSubmitScheduledWorkorder()})).catch((function(t){for(var r in e.loading=!1,t.response.data)"non_field_errors"!==r?e[r+"_errors"]=t.response.data[r]:e[r]=t.response.data[r];400===t.response.status&&e.$store.commit("SET_SNACKBAR",{message:"Please Fill the form properly",value:!0,status:"error"})}))},prepareFormData:function(e,t){var r=new FormData;for(var o in e)t._data[e[o]]&&r.append(e[o],t._data[e[o]]);return r},complex_prepare_formdata:function(e,t,r){for(var o in t)r._data[t[o]]&&r._data[t[o]]&&e.append(t[o],r._data[t[o]].id)},complex_multiple_prepard_formdata:function(e,t,r){for(var o in t){var a=!0,s=!1,n=void 0;try{for(var i,l=r._data[t[o]][Symbol.iterator]();!(a=(i=l.next()).done);a=!0){var c=i.value;e.append(t[o],c)}}catch(d){s=!0,n=d}finally{try{a||null==l.return||l.return()}finally{if(s)throw n}}}},prepare_scheduler:function(e,t,r){for(var o in t){for(var a in r)null!=t[o][r[a]]&&(null!=t[o][r[a]].id?e.append("scheduler["+o+"]"+r[a],t[o][r[a]].id):e.append("scheduler["+o+"]"+r[a],t[o][r[a]]));if(e.append("scheduler["+o+"]scheduler_type",t[o].scheduler_type.id),"IN"==t[o].scheduler_type.id&&e.append("scheduler["+o+"]interval_start_date",this.start_date),"MN"==t[o].scheduler_type.id)for(var s in t[o].month)e.append("scheduler["+o+"]months["+s+"]",t[o].month[s].id)}return e},prepare_tasks:function(e,t,r){for(var o in t)for(var a in r)t[o][r[a]]&&e.append("tasks["+o+"]"+r[a],t[o][r[a]])}},computed:Os({},Object(c["b"])({user:"auth/user",workorder_choice:"workorder/workorder_choice"}),{resources:function(){var e=[],t=this.workorder_choice.assigne_to;for(var r in t)e.push({value:t[r].id,text:t[r].first_name+" ID: "+t[r].employee_id});return e},get_workorder_status:function(){var e=[],t=this.workorder_choice.workorder_status;for(var r in t)t[r].start_workorder||t[r].close_workorder||t[r].rejected_workorder||e.push({text:t[r].name,value:t[r]});return e},get_associations:function(){var e=[];for(var t in this.associations)e.push({value:this.associations[t].inventory_number,text:this.associations[t].equipment_name});return e}}),created:function(){var e=this;this.$store.dispatch("workorder/simplified_equipment_list").then((function(t){e.associations=t,null!==e.workorder_choice?e.pageLoad=!0:e.$store.dispatch("workorder/get_workorder_choice").then((function(){e.pageLoad=!0})).catch((function(){e.pageLoad=!1}))})).catch((function(){e.pageLoad=!1})),this.$emit("reset_ready",this.reset)}},js=Ds,Ss=(r("9fb8"),r("c6a6")),Vs=r("b73d"),qs=Object(v["a"])(js,ls,cs,!1,null,"01ec8e63",null),Ps=qs.exports;f()(qs,{VAutocomplete:Ss["a"],VBtn:h["a"],VCard:$["a"],VCardText:I["b"],VContainer:B["a"],VContent:M["a"],VDataTable:Ht["a"],VDatePicker:Ae["a"],VDialog:Ze["a"],VFileInput:Ne["a"],VFlex:$e["a"],VIcon:g["a"],VLayout:Ie["a"],VMenu:ze["a"],VProgressCircular:Be["a"],VRow:K["a"],VSelect:Me["a"],VSpacer:H["a"],VSwitch:Vs["a"],VTextField:Y["a"],VTextarea:Fe["a"],VToolbar:U["a"],VToolbarTitle:G["a"]});var Ts=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e.pageLoad?o("v-card",[o("v-toolbar",{attrs:{color:"blue-grey",dark:"",flat:""}},[o("v-toolbar-title",[o("v-icon",{staticClass:"mx-2",attrs:{color:e.getColor(e.pm_workorder.active)}},[e._v("fa-cogs")]),o("span",[e._v(" PM WORKORDER ")]),e._v(" - "),o("span",[e._v(" "+e._s(e.reduceText(e.pm_workorder.name))+" (id - "+e._s(e.pm_workorder.id)+")")])],1)],1),o("v-card-text",[o("v-container",[o("v-row",{staticClass:"mb-5",attrs:{align:"center",justify:"center","no-gutters":""}},[o("v-col",{attrs:{cols:"12",xs:"12",sm:"4"}},[e.pm_workorder.image?o("a",{attrs:{target:"_blank",href:e.pm_workorder.image}},[o("v-img",{staticClass:"mb-2",attrs:{src:e.pm_workorder.image,crossorigin:"anonymous","lazy-src":r("4b50"),"max-height":"150","aspect-ratio":"1.7",contain:"",width:"255",position:""}})],1):e._e()])],1),e.pm_workorder.image?o("div",{staticClass:"divider"}):e._e(),o("h1",{staticClass:"title mb-2"},[e._v("PM WORKORDER")]),o("v-row",{staticClass:"mb-5 mt-5",attrs:{"no-gutters":""}},[o("v-col",{staticClass:"pr-3",attrs:{cols:"12",xs:"12",sm:"6"}},[o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Name:")]),o("v-col",[o("strong",[e._v(e._s(e.pm_workorder.name))])])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Priority:")]),o("v-col",[e.pm_workorder.priority?o("strong",[e._v(e._s(e.pm_workorder.priority.name))]):e._e()])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Work Category:")]),o("v-col",[e.pm_workorder.work_category?o("strong",[e._v(e._s(e.pm_workorder.work_category.name))]):e._e()])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Job Hazard:")]),o("v-col",[e.pm_workorder.job_hazard?o("strong",[e._v(e._s(e.pm_workorder.job_hazard.name))]):e._e()])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Associations:")]),o("v-col",e._l(e.pm_workorder.equipment,(function(t){return o("strong",{key:t.inventory_number},[e._v("- "+e._s(t.equipment_name)+" "),o("br")])})),0)],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Description:")]),o("v-col",[o("strong",[e._v(e._s("null"!=e.pm_workorder.description?e.pm_workorder.description:""))])])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Created By:")]),o("v-col",[o("strong",[e._v(e._s(e.pm_workorder.created_by.first_name)+" - "+e._s(e.pm_workorder.created_by.employee_id))])])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Created:")]),o("v-col",[o("strong",[e._v(e._s(e.moment(e.pm_workorder.created).fromNow()))])])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Document:")]),o("v-col",[e.pm_workorder.document?o("strong",[o("a",{attrs:{target:"_blank",href:e.pm_workorder.document}},[e._v("document")])]):e._e()])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Estimated Cost:")]),o("v-col",[e.pm_workorder.estimated_cost?o("strong",[e._v(e._s(e.pm_workorder.estimated_cost)+" ETB")]):e._e()])],1)],1),o("v-col",{staticClass:"pl-2",attrs:{cols:"12",xs:"12",sm:"6"}},[o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Active:")]),o("v-col",[o("strong",[e.pm_workorder.active?o("v-icon",{attrs:{color:e.getColor(e.pm_workorder.active),small:""}},[e._v("fa fa-check")]):o("v-icon",{attrs:{color:e.getColor(e.pm_workorder.active),small:""}},[e._v("fa fa-close")])],1)])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Initial Workorder status:")]),o("v-col",[o("strong",[e._v(e._s(e.pm_workorder.workorder_status.name))])])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Start Date:")]),o("v-col",[o("strong",[e._v(e._s(e.pm_workorder.start_date))])])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("End Date:")]),o("v-col",[o("strong",[e._v(e._s(e.pm_workorder.end_date))])])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Days to complete:")]),o("v-col",[o("strong",[e._v(e._s(e.pm_workorder.due_date)+" days")])])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Multiple:")]),o("v-col",[o("strong",[e.pm_workorder.multiple?o("v-icon",{attrs:{color:e.getColor(e.pm_workorder.multiple),small:""}},[e._v("fa fa-check")]):o("v-icon",{attrs:{color:e.getColor(e.pm_workorder.multiple),small:""}},[e._v("fa fa-close")])],1)])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Assigned to:")]),o("v-col",e._l(e.pm_workorder.assigned_to,(function(t){return o("span",{key:t.employee_id},[o("strong",[e._v("- "+e._s(t.first_name)+" - "+e._s(t.employee_id))]),o("br")])})),0)],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Scheduled So Far:")]),o("v-col",[o("strong",[e._v(e._s(e.pm_workorder.scheduled_so_far))])])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Done So Far:")]),o("v-col",[o("strong",[e._v(e._s(e.pm_workorder.done_so_far))])])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Latest Scheduled Date:")]),o("v-col",[o("strong",[e._v(e._s(e.pm_workorder.last_scheduled_date))])])],1),o("div",{staticClass:"small-divider"}),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[e._v("Latest complited:")]),o("v-col",[o("strong",[e.pm_workorder.last_complited?o("v-icon",{attrs:{color:e.getColor(e.pm_workorder.last_complited),small:""}},[e._v("fa fa-check")]):o("v-icon",{attrs:{color:e.getColor(e.pm_workorder.last_complited),small:""}},[e._v("fa fa-close")])],1)])],1)],1)],1),o("div",{staticClass:"divider"}),o("h1",{staticClass:"title mb-3 mt-5"},[e._v("SCHEDULER")]),o("v-data-table",{staticClass:"mb-5",attrs:{headers:e.scheduler_headers,items:e.pm_workorder.scheduler,"item-key":"id","no-data-text":"No SCHEDULER added","hide-default-footer":"",dark:"","mobile-breakpoint":0},on:{"click:row":e.open_detail_scheduler},scopedSlots:e._u([{key:"item.scheduler_type",fn:function(t){var r=t.item;return[o("div",[e._v(e._s(e.get_scheduler_type(r.scheduler_type)[0].name))])]}}],null,!1,263068452)}),o("h1",{staticClass:"title mb-3 mt-5"},[e._v("TASKS")]),o("v-data-table",{staticClass:"mb-5",attrs:{headers:e.tasks_headers,items:e.pm_workorder.tasks,"no-data-text":"No TASK added","item-key":"id","hide-default-footer":"",dark:"","mobile-breakpoint":0}})],1)],1),o("div",{staticClass:"btns"},[o("v-layout",[o("v-flex",{attrs:{md8:""}}),o("v-flex",[o("v-btn",{attrs:{color:"orange white--text text-capitalize mb-4 mr-4 mt-4"},on:{click:e.edit}},[o("v-icon",{attrs:{small:""}},[e._v("fa-edit")]),o("span",{staticClass:"ml-2"},[e._v("Edit")])],1)],1),o("v-flex",[e.pm_workorder.active?o("v-btn",{attrs:{loading:e.active_loading,color:"red white--text text-capitalize mb-4 mr-4 mt-4"},on:{click:e.disable}},[o("v-icon",{attrs:{small:""}},[e._v("fa-calendar-times-o")]),o("span",{staticClass:"ml-2"},[e._v("Disable")])],1):o("v-btn",{attrs:{loading:e.active_loading,color:"green white--text text-capitalize mb-4 mr-4 mt-4"},on:{click:e.disable}},[o("v-icon",{attrs:{small:""}},[e._v("fa-calendar-check-o")]),o("span",{staticClass:"ml-2"},[e._v("Enable")])],1)],1),o("v-flex",[o("v-btn",{attrs:{color:"blue-grey white--text text-capitalize mb-4 mr-4 mt-4"},on:{click:e.close}},[o("v-icon",{attrs:{small:""}},[e._v("fa-close")]),o("span",{staticClass:"ml-2"},[e._v("Close")])],1)],1)],1)],1)],1):e._e(),e.pageLoad?e._e():o("div",{staticClass:"loading-card"},[o("v-main",[o("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[o("v-row",{attrs:{justify:"center",align:"center"}},[o("v-progress-circular",{attrs:{size:50,color:"blue-grey",indeterminate:""}})],1)],1)],1)],1),o("v-dialog",{attrs:{width:"550"},scopedSlots:e._u([{key:"activator",fn:function(e){}}]),model:{value:e.scheduler_detail_dialog,callback:function(t){e.scheduler_detail_dialog=t},expression:"scheduler_detail_dialog"}},[o("v-card",[o("SchedulerDetail",{attrs:{scheduler:e.scheduler_val},on:{close_scheduler_detail:function(t){e.scheduler_detail_dialog=!e.scheduler_detail_dialog}}})],1)],1),o("v-dialog",{attrs:{width:"550"},scopedSlots:e._u([{key:"activator",fn:function(e){}}]),model:{value:e.edit_dialog,callback:function(t){e.edit_dialog=t},expression:"edit_dialog"}},[o("v-card",[o("EditPmWorkorder",{attrs:{pm_workorder:e.pm_workorder},on:{close_edit_dialog:function(t){e.edit_dialog=!e.edit_dialog},created:e.init_edit_dialog,reload:e.reload_detail_workorder}})],1)],1)],1)},Es=[],Rs=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-card",[r("v-toolbar",{attrs:{color:"blue-grey",dark:"",flat:""}},[r("v-toolbar-title",[r("v-icon",{staticClass:"mx-2"},[e._v("fa-calendar")]),e._v(" SCHEDULER DETAIL ("+e._s(e.p_sheduler_type[e.scheduler.scheduler_type])+") ")],1)],1),r("v-card-text",[r("v-container",[r("v-row",{staticClass:"mb-5 mt-5",attrs:{"no-gutters":""}},[r("v-col",{staticClass:"pr-3",attrs:{cols:"12",xs:"12",sm:"12"}},[r("h1",{staticClass:"title mb-2"},[e._v("SCHEDULER")]),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Name:")]),r("v-col",[r("strong",[e._v(e._s(e.scheduler.name))])])],1),r("div",{staticClass:"small-divider"}),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Type:")]),r("v-col",[r("strong",[e._v(e._s(e.p_sheduler_type[e.scheduler.scheduler_type]))])])],1),r("div",{staticClass:"small-divider"}),"IN"==e.scheduler.scheduler_type?r("div",[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Interval:")]),r("v-col",[null!=e.scheduler.interval?r("strong",[e._v(e._s(e.scheduler.interval))]):e._e()])],1),r("div",{staticClass:"small-divider"}),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Starting Date:")]),r("v-col",[null!=e.scheduler.interval_start_date?r("strong",[e._v(e._s(e.scheduler.interval_start_date))]):e._e()])],1),r("div",{staticClass:"small-divider"})],1):e._e(),"OT"==e.scheduler.scheduler_type?r("div",[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("On Date:")]),r("v-col",[null!=e.scheduler.one_time_date?r("strong",[e._v(e._s(e.scheduler.one_time_date))]):e._e()])],1)],1):e._e(),"DY"==e.scheduler.scheduler_type?r("div",[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("On Day:")]),r("v-col",[r("strong",[e._v("Every Day")])])],1)],1):e._e(),"WK"==e.scheduler.scheduler_type?r("div",[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Week Day:")]),r("v-col",[null!=e.scheduler.week_day?r("strong",[e._v(e._s(e.get_week_days[e.scheduler.week_day].name))]):e._e()])],1)],1):e._e(),"MN"==e.scheduler.scheduler_type?r("div",[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("On the:")]),r("v-col",[null!=e.scheduler.day_of_the_month?r("strong",[e._v(e._s(e.get_month_days[e.scheduler.day_of_the_month].name))]):e._e()])],1),r("div",{staticClass:"small-divider"}),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Months:")]),r("v-col",[null!=e.scheduler.month?r("div",e._l(e.scheduler.month,(function(t){return r("strong",{key:t.id},[e._v(" - "+e._s(t.name)+" "),r("br")])})),0):e._e()])],1),r("div",{staticClass:"small-divider"})],1):e._e()],1)],1)],1)],1),r("div",{staticClass:"btns"},[r("v-layout",[r("v-flex",{attrs:{md8:""}}),r("v-flex"),r("v-flex",[r("v-btn",{attrs:{color:"blue-grey white--text text-capitalize mb-4 mr-4 mt-4"},on:{click:e.close}},[r("v-icon",{attrs:{small:""}},[e._v("fa-close")]),r("span",{staticClass:"ml-2"},[e._v("Close")])],1)],1)],1)],1)],1)],1)},Ws=[],Ls={name:"SchedulerDetail",props:{scheduler:{required:!0,type:Object}},data:function(){return{p_sheduler_type:null}},computed:{get_week_days:function(){return sr},get_month_days:function(){return or}},methods:{close:function(){this.$emit("close_scheduler_detail")},propers_sheduler_type:function(){var e={},t=rr;for(var r in t)e[t[r].id]=t[r].name;this.p_sheduler_type=e}},created:function(){this.propers_sheduler_type()}},As=Ls,Ns=(r("02f04"),Object(v["a"])(As,Rs,Ws,!1,null,"71d60d32",null)),$s=Ns.exports;f()(Ns,{VBtn:h["a"],VCard:$["a"],VCardText:I["b"],VCol:z["a"],VContainer:B["a"],VFlex:$e["a"],VIcon:g["a"],VLayout:Ie["a"],VRow:K["a"],VToolbar:U["a"],VToolbarTitle:G["a"]});var Is=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.pageLoad?r("v-card",[r("v-toolbar",{attrs:{color:"blue-grey",dark:"",flat:""}},[r("v-toolbar-title",[r("v-icon",{staticClass:"mx-2",attrs:{color:e.getColor(e.pm_workorder.active)}},[e._v("fa-cogs")]),r("span",[e._v(" EDIT PM WORKORDER ")]),e._v(" - "),r("span",[e._v(" "+e._s(e.reduceText(e.pm_workorder.name))+" (id - "+e._s(e.pm_workorder.id)+")")])],1)],1),r("v-card-text",[r("v-container",[r("v-row",{staticClass:"mb-5 mt-5",attrs:{"no-gutters":""}},[r("v-col",{staticClass:"pr-3",attrs:{cols:"12",xs:"12",sm:"12"}},[r("v-row",{attrs:{"no-gutters":""}},[r("p",[r("v-icon",{attrs:{color:"blue",small:""}},[e._v("fa fa-info")]),e._v(" Use this form to assigne the scheduled workorder. ")],1)]),r("div",{staticClass:"small-divider"}),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[e._v("Associations:")]),r("v-col",e._l(e.pm_workorder.assigned_to,(function(t){return r("span",{key:t.employee_id},[r("strong",[e._v("- "+e._s(t.first_name)+" - "+e._s(t.employee_id))]),r("br")])})),0)],1),r("v-row",{attrs:{"no-gutters":""}},[r("v-select",{attrs:{"prepend-icon":"fa-user-plus",label:"* Resources",multiple:"",items:e.resources,"error-messages":e.assigned_to_errors},model:{value:e.assigned_to,callback:function(t){e.assigned_to=t},expression:"assigned_to"}})],1),r("div",{staticClass:"small-divider"})],1)],1)],1)],1),r("div",{staticClass:"btns"},[r("v-layout",[r("v-flex",{attrs:{md9:""}}),r("v-flex",[r("v-btn",{attrs:{color:"green white--text text-capitalize mb-4 mr-4 mt-4",loading:e.loading},on:{click:e.edit}},[r("v-icon",{attrs:{small:""}},[e._v("fa-edit")]),r("span",{staticClass:"ml-2"},[e._v("Edit")])],1)],1),r("v-flex",[r("v-btn",{attrs:{color:"blue-grey white--text text-capitalize mb-4 mr-4 mt-4"},on:{click:e.close}},[r("v-icon",{attrs:{small:""}},[e._v("fa-close")]),r("span",{staticClass:"ml-2"},[e._v("Cancel")])],1)],1)],1)],1)],1):e._e(),e.pageLoad?e._e():r("div",{staticClass:"loading-card"},[r("v-main",[r("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[r("v-row",{attrs:{justify:"center",align:"center"}},[r("v-progress-circular",{attrs:{size:50,color:"blue-grey",indeterminate:""}})],1)],1)],1)],1)],1)},zs=[];function Bs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Ms(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bs(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Fs={name:"edit_pm_workorder",props:{pm_workorder:{required:!0,type:Object}},data:function(){return{loading:!1,assigned_to:null,assigned_to_errors:null}},computed:Ms({},Object(c["b"])({user:"auth/user",workorder_choice:"workorder/workorder_choice"}),{resources:function(){var e=[],t=this.workorder_choice.assigne_to;for(var r in t)e.push({value:t[r].id,text:t[r].first_name+" ID: "+t[r].employee_id});return e}}),methods:{reduceText:function(e){if(e){if(e.length<26)return e;if(e.length>=26)return e.slice(0,23)+"..."}},getColor:function(e){return e?"green":"red"},edit:function(){var e=this;this.assigned_to_errors=null,null!=this.assigned_to&&this.assigned_to.length>0?this.$store.dispatch("workorder/edit_pm_workorder",{id:this.pm_workorder.id,data:{assigned_to:this.assigned_to}}).then((function(){e.$store.commit("SET_SNACKBAR",{message:"Successfully updated pm workorder",value:!0,status:"success"}),e.$emit("reload"),e.close()})).catch((function(){e.$store.commit("SET_SNACKBAR",{message:"Error happened.",value:!0,status:"error"})})):(this.$store.commit("SET_SNACKBAR",{message:"Select at list one Employee",value:!0,status:"error"}),this.assigned_to_errors="Select at list one Employee")},close:function(){this.$emit("close_edit_dialog")},reset:function(){this.assigned_to=null,this.assigned_to_errors=null}},created:function(){var e=this;null!==this.workorder_choice?this.pageLoad=!0:this.$store.dispatch("workorder/get_workorder_choice").then((function(){e.pageLoad=!0})).catch((function(){e.pageLoad=!1})),this.$emit("created",this.reset)}},Ks=Fs,Hs=Object(v["a"])(Ks,Is,zs,!1,null,"6fd214e0",null),Ys=Hs.exports;f()(Hs,{VBtn:h["a"],VCard:$["a"],VCardText:I["b"],VCol:z["a"],VContainer:B["a"],VContent:M["a"],VFlex:$e["a"],VIcon:g["a"],VLayout:Ie["a"],VProgressCircular:Be["a"],VRow:K["a"],VSelect:Me["a"],VToolbar:U["a"],VToolbarTitle:G["a"]});var Us=r("c1df"),Gs={name:"detai_scheduled_workorder",props:{pm_workorder_id:{required:!0,type:Number}},components:{SchedulerDetail:$s,EditPmWorkorder:Ys},data:function(){return{pm_workorder:null,pageLoad:!1,moment:Us,scheduler_headers:[{text:"NAME",value:"name"},{text:"SCHEDULER TYPE",value:"scheduler_type"}],tasks_headers:[{text:"Task Name",value:"name"},{text:"Order No",value:"no"},{text:"Description",value:"description"},{text:"Estimated Cost",value:"estimated_cost"},{text:"Estimated Hour",value:"estimated_hour"}],scheduler_detail_dialog:!1,scheduler_val:null,active_loading:!1,edit_dialog:!1,fun_edit_dialog:null}},methods:{setWorkorder:function(e){var t=this;this.pageLoadWorkorder=!1,this.$store.dispatch("workorder/pm_detail_workorder",e).then((function(e){t.pm_workorder=e,t.pageLoad=!0})).catch((function(){t.pageLoad=!1}))},reduceText:function(e){if(e){if(e.length<26)return e;if(e.length>=26)return e.slice(0,23)+"..."}},getColor:function(e){return e?"green":"red"},get_scheduler_type:function(e){return rr.filter((function(t){return t.id==e}))},open_detail_scheduler:function(e){this.scheduler_detail_dialog=!0,this.scheduler_val=e},close:function(){this.$emit("close")},disable:function(){var e=this;this.active_loading=!0,this.$store.dispatch("workorder/change_pm_active",this.pm_workorder.id).then((function(){e.$store.commit("SET_SNACKBAR",{message:"Successfully changed pm workorder status.",value:!0,status:"success"}),e.close(),e.$emit("reload")})).catch((function(){e.$store.commit("SET_SNACKBAR",{message:"Unable to change pm workorder.",value:!0,status:"error"})})),this.active_loading=!1},edit:function(){this.fun_edit_dialog&&this.fun_edit_dialog(),this.edit_dialog=!0},init_edit_dialog:function(e){this.fun_edit_dialog=e},reload_detail_workorder:function(){this.setWorkorder(this.pm_workorder_id),this.$emit("reload")}},created:function(){this.setWorkorder(this.pm_workorder_id),this.$emit("created",this.setWorkorder)}},Qs=Gs,Js=(r("10fd"),Object(v["a"])(Qs,Ts,Es,!1,null,"7682a554",null)),Zs=Js.exports;function Xs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function en(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xs(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}f()(Js,{VBtn:h["a"],VCard:$["a"],VCardText:I["b"],VCol:z["a"],VContainer:B["a"],VContent:M["a"],VDataTable:Ht["a"],VDialog:Ze["a"],VFlex:$e["a"],VIcon:g["a"],VImg:Xt["a"],VLayout:Ie["a"],VProgressCircular:Be["a"],VRow:K["a"],VToolbar:U["a"],VToolbarTitle:G["a"]});var tn=r("c1df"),rn={name:"ScheduledWorkOrder",components:{BodyNav:Ao,SubmitScheduledWorkorder:Ps,DetailScheduledWorkorder:Zs},data:function(){return{headers:[{text:"St.",align:"left",value:"active"},{text:"Name",value:"name"},{text:"Associations",value:"equipment"},{text:"Description",value:"description"},{text:"Work Category",value:"work_category.name"},{text:"Schedule",value:"scheduler"},{text:"Schedule Type",value:"scheduler.scheduler_type"},{text:"Days TO Complete",value:"due_date"},{text:"Tasks",value:"tasks"},{text:"Resources",value:"assigned_to"},{text:"Job Hazard",value:"job_hazard"},{text:"Estimated Cost",value:"estimated_cost"},{text:"Multiple",value:"multiple"},{text:"Start Date",value:"start_date"},{text:"End Date",value:"end_date"},{text:"Created By",value:"created_by"},{text:"Created Date",value:"created"},{text:"Latest Scheduled",value:"last_scheduled_date"},{text:"Scheduled So Far",value:"scheduled_so_far"},{text:"Complieted So Far",value:"done_so_far"},{text:"St.",align:"right",value:"active"}],pageLoad:!1,scheduled_workorder:null,load_per_page:10,search:"",searchLoading:!1,filter_btn:!1,query:"",next_btn:!1,previous_btn:!1,assigned_to:null,active:null,multiple:null,scheduler__scheduler_type:null,last_scheduled_date:null,menu:!1,moment:tn,p_sheduler_type:null,submit_scheduled_workorder:!1,detail_pm_workorder:!1,detail_pm_workorder_id:null,fun_submit_scheduled_workorder:null,fun_detail_pm_workorder:null}},computed:en({},Object(c["b"])({workorder_choice:"workorder/workorder_choice"}),{getQuery:function(){return""===this.query?"All Scheduled Workorders":this.query},resources:function(){var e=[{value:"",text:"---------------"}],t=this.workorder_choice.assigne_to;for(var r in t)e.push({value:t[r],text:t[r].first_name+" ID: "+t[r].employee_id});return e},scheduler_type:function(){var e=[{value:"",text:"---------------"}],t=this.workorder_choice.scheduler_type;for(var r in t)e.push({value:{id:t[r][0],name:t[r][1]},text:t[r][1]});return e}}),methods:{goSearch:function(){var e=this;this.searchLoading=!0,this.assigned_to=null,this.active=null,this.multiple=null,this.scheduler__scheduler_type=null,this.last_scheduled_date=null,this.$store.dispatch("workorder/search_pm_workorders",this.search).then((function(t){e.query=e.search,e.scheduled_workorder=t,e.searchLoading=!1})).catch((function(){e.searchLoading=!1}))},get_scheduled_workorder_with_url:function(e,t){var r=this;"n"===t?this.next_btn=!0:this.previous_btn=!0,this.$store.dispatch("workorder/get_scheduled_workorder_with_url",e).then((function(e){r.scheduled_workorder=e,"n"==t?r.next_btn=!1:r.previous_btn=!1})).catch((function(){"n"==t?r.next_btn=!1:r.previous_btn=!1}))},getBoolean:function(e){return!!e},reduceText:function(e){if(e){if(e.length<26)return e;if(e.length>=26)return e.slice(0,23)+"..."}},getColor:function(e){return e?"green":"red"},filter:function(){var e=this;this.filter_btn=!0,this.search="";var t=[{filter:"last_scheduled_date",value:{id:this.last_scheduled_date,name:this.last_scheduled_date}},{filter:"active",value:this.active},{filter:"multiple",value:this.multiple},{filter:"scheduler__scheduler_type",value:this.scheduler__scheduler_type}];this.assigned_to&&t.push({filter:"assigned_to",value:{id:this.assigned_to.id,name:this.assigned_to.first_name}}),this.$store.dispatch("workorder/filter_pm_workorders",this.get_filter_query_here(t).query).then((function(r){e.query=e.get_filter_query_here(t).key,e.scheduled_workorder=r,e.filter_btn=!1})).catch((function(){e.filter_btn=!1}))},get_scheduled_workorder_init:function(){var e=this;this.pageLoad=!1,this.$store.dispatch("workorder/get_scheduled_workorder").then((function(t){e.scheduled_workorder=t,null!==e.workorder_choice?e.pageLoad=!0:e.$store.dispatch("workorder/get_workorder_choice").then((function(){e.pageLoad=!0})).catch((function(){e.pageLoad=!1}))})).catch((function(){e.pageLoad=!1}))},get_filter_query_here:function(e){return Se(e)},propers_sheduler_type:function(){var e={},t=rr;for(var r in t)e[t[r].id]=t[r].name;this.p_sheduler_type=e},open_submit_scheduled_workorder:function(){this.fun_submit_scheduled_workorder&&this.fun_submit_scheduled_workorder(),this.submit_scheduled_workorder=!0},open_detail:function(e){this.detail_pm_workorder=!0,this.fun_detail_pm_workorder?this.fun_detail_pm_workorder(e.id):this.detail_pm_workorder_id=e.id},init_submit_scheduled_workorder:function(e){this.fun_submit_scheduled_workorder=e},init_detail_pm_workorder:function(e){this.fun_detail_pm_workorder=e},reload_pm_workorders:function(){this.get_scheduled_workorder_init()}},created:function(){this.get_scheduled_workorder_init(),this.propers_sheduler_type(),pt(this.get_scheduled_workorder_init)}},on=rn,an=(r("db21"),Object(v["a"])(on,ns,is,!1,null,"74b61f8a",null)),sn=an.exports;f()(an,{VBtn:h["a"],VCard:$["a"],VCardTitle:I["c"],VContainer:B["a"],VContent:M["a"],VDataTable:Ht["a"],VDatePicker:Ae["a"],VDialog:Ze["a"],VFlex:$e["a"],VForm:F["a"],VIcon:g["a"],VLayout:Ie["a"],VMenu:ze["a"],VProgressCircular:Be["a"],VRow:K["a"],VSelect:Me["a"],VSpacer:H["a"],VTextField:Y["a"]});var nn=[{path:"/enterprise",component:zr,beforeEnter:Kn,children:[{path:"",name:"enterprise_view",components:{default:Ea}}]},{path:"/register",component:zr,beforeEnter:Fn,children:[{path:"",name:"register",components:{default:Jo}}]},{path:"/user-detail",component:zr,beforeEnter:Mn,children:[{path:"",name:"account_detail",components:{default:sa}}]},{path:"/edit-profile",component:zr,beforeEnter:Mn,children:[{path:"",name:"edit_profile",components:{default:ma}}]},{path:"/change-password",component:zr,beforeEnter:Mn,children:[{path:"",name:"change_password",components:{default:ba}}]},{path:"/reset-password",component:zr,beforeEnter:Fn,children:[{path:"",name:"reset_password",components:{default:ja}}]},{path:"/equipments",component:zr,beforeEnter:Mn,children:[{path:"",name:"equipments",components:{default:Mo}}]},{path:"/reports",component:zr,beforeEnter:Mn,children:[{path:"",name:"reports",components:{default:Ba}}]},{path:"/workorders",component:zr,beforeEnter:Kn,children:[{path:"",name:"workorder",components:{default:Ja}}]},{path:"/workorders/calendar",component:zr,beforeEnter:Kn,children:[{path:"",name:"calendar",components:{default:ss}}]},{path:"/scheduled-workorders",component:zr,beforeEnter:Fn,children:[{path:"",name:"scheduled_workorder",components:{default:sn}}]}],ln=q.a.create({baseURL:"http://192.168.43.138:8000/api/",headers:{}});try{ln.interceptors.request.use((function(e){var t=JSON.parse(localStorage.getItem("keeper"));return t&&t.auth.token&&(e.headers["Authorization"]="Token "+t.auth.token),e}),(function(e){return Promise.reject(e)}))}catch(ti){console.log(ti)}var cn=ln,dn={user_registration_data:"account/user-registration-data",update_profile:"account/update-profile",create_profile:"account/create-profile",get_profile:"account/get-profile/",change_password:"account/change-password",reset_password:"account/reset-password",department_activities:"enterprise/department-activities",get_equipments:"equipment/equipment/",search_equipments:"equipment/equipment/?search=",get_equipment_filters:"equipment/get-equipment-filters",get_open_reports:"enterprise/open-reports",get_equipment_parts:"equipment/equipment-parts/",get_reports:"reports/reports/",search_reports:"reports/reports/?search=",report_equipment:"reports/create-reports",ignore_report:"reports/ignore-report/",get_workorder_choice:"workorder/workorder-choice-data",create_dm_workorder:"workorder/create-dm-wrokorder",get_workorder:"workorder/workorder/",search_workorders:"workorder/workorder/?search=",get_open_Workorders:"workorder/get-open-Workorders",detail_workorder:"workorder/detail-workorder/",submit_workdone:"workorder/create-wrokdone",get_companies:"workorder/campany/",work_done_detail:"workorder/work-done-detail/",current_work_orders:"workorder/current-work-orders/",work_orders_history:"workorder/work-orders-history/",equipment_downtime:"workorder/equipment-downtime/",equipment_pm_workorders:"workorder/equipment-pm-workorders/",calendar_events:"workorder/calendar-events",scheduled_workorder:"workorder/pm-workorder/",search_pm_workorders:"workorder/pm-workorder/?search=",simplified_equipment_list:"workorder/simplified-equipment-list",create_scheduled_workorder:"workorder/create-pm-workorder",pm_detail_workorder:"workorder/pm-workorder-detail/",change_pm_active:"workorder/enable-disable-pm-workorder/",edit_pm_workorder:"workorder/edit-pm-workorder/",up_coming_events:"workorder/up-coming-events"},un=dn,_n={auth:{login:function(e){return cn.post(un.login,e)}},account:{user_registration_data:function(){return cn.get(un.user_registration_data)},create_profile:function(e){return cn.post(un.create_profile,e)},update_profile:function(e,t){return cn.put(un.update_profile+"/"+t,e)},change_password:function(e){return cn.put(un.change_password,e)},reset_password:function(e){return cn.put(un.reset_password,e)}},enterprise:{department_activities:function(){return cn.get(un.department_activities)}},equipment:{get_equipments:function(){return cn.get(un.get_equipments)},search_equipments:function(e){return cn.get(un.search_equipments+e)},get_equipments_with_url:function(e){return cn.get(e)},get_equipment_filters:function(){return cn.get(un.get_equipment_filters)},filter_equipments:function(e){return cn.get(un.get_equipments+e)}},reports:{get_reports:function(){return cn.get(un.get_reports)},get_reports_with_url:function(e){return cn.get(e)},search_reports:function(e){return cn.get(un.search_reports+e)},filter_reports:function(e){return cn.get(un.get_reports+e)},get_open_reports:function(){return cn.get(un.get_open_reports)},report_equipment:function(e){return cn.post(un.report_equipment,e)},ignore_report:function(e){return cn.post(un.ignore_report+e)}},workorder:{get_workorder_choice:function(){return cn.get(un.get_workorder_choice)},create_dm_workorder:function(e){return cn.post(un.create_dm_workorder,e,{headers:{"Content-Type":"multipart/form-data"}})},get_workorders:function(){return cn.get(un.get_workorder)},get_workorders_with_url:function(e){return cn.get(e)},search_workorders:function(e){return cn.get(un.search_workorders+e)},filter_workorders:function(e){return cn.get(un.get_workorder+e)},get_open_Workorders:function(){return cn.get(un.get_open_Workorders)},detail_workorder:function(e){return cn.get(un.detail_workorder+e)},create_work_done:function(e){return cn.post(un.submit_workdone,e,{headers:{"Content-Type":"multipart/form-data"}})},get_companies:function(){return cn.get(un.get_companies)},get_equipment_parts:function(e){return cn.get(un.get_equipment_parts+e)},get_workdone_detail:function(e){return cn.get(un.work_done_detail+e)},current_work_orders:function(e){return cn.get(un.current_work_orders+e)},work_orders_history:function(e){return cn.get(un.work_orders_history+e)},equipment_downtime:function(e){return cn.get(un.equipment_downtime+e)},getPmWorkorder:function(e){return cn.get(un.equipment_pm_workorders+e)},calendar_events:function(){return cn.get(un.calendar_events)},scheduled_workorder:function(){return cn.get(un.scheduled_workorder)},search_pm_workorders:function(e){return cn.get(un.search_pm_workorders+e)},get_scheduled_workorder_with_url:function(e){return cn.get(e)},filter_pm_workorders:function(e){return cn.get(un.scheduled_workorder+e)},simplified_equipment_list:function(){return cn.get(un.simplified_equipment_list)},create_scheduled_workorder:function(e){return cn.post(un.create_scheduled_workorder,e,{headers:{"Content-Type":"multipart/form-data"}})},pm_detail_workorder:function(e){return cn.get(un.pm_detail_workorder+e)},change_pm_active:function(e){return cn.get(un.change_pm_active+e)},edit_pm_workorder:function(e){return cn.post(un.edit_pm_workorder+e.id,e.data)},up_coming_events:function(){return cn.get(un.up_coming_events)}}},mn={get_equipments:function(e){var t=e.commit;return new Promise((function(e,r){_n.equipment.get_equipments().then((function(r){t("account/GODARK",null,{root:!0}),e(r.data)})).catch((function(e){r(e)}))}))},search_equipments:function(e,t){var r=e.commit;return new Promise((function(e,o){_n.equipment.search_equipments(t).then((function(t){r("account/GODARK",null,{root:!0}),e(t.data)})).catch((function(e){o(e)}))}))},get_equipments_with_url:function(e,t){var r=e.commit;return new Promise((function(e,o){_n.equipment.get_equipments_with_url(t).then((function(t){r("account/GODARK",null,{root:!0}),e(t.data)})).catch((function(e){o(e)}))}))},get_equipment_filters:function(e){var t=e.commit;return new Promise((function(e,r){_n.equipment.get_equipment_filters().then((function(r){t("SET_EQUIPMENT_FILTERS",r.data),e(r.data)})).catch((function(e){r(e)}))}))},filter_equipments:function(e,t){var r=e.commit;return new Promise((function(e,o){_n.equipment.filter_equipments(t).then((function(t){r("account/GODARK",null,{root:!0}),e(t.data)})).catch((function(e){o(e)}))}))}},vn={equipment_filters:function(e){return e.equipment_filters}},pn={SET_EQUIPMENT_FILTERS:function(e,t){e.equipment_filters=t},RESET:function(e){e.equipment_filters=null}},fn={namespaced:!0,state:{equipment_filters:null},getters:vn,actions:mn,mutations:pn},hn=[],gn={user_registration_data:function(e){var t=e.commit;return new Promise((function(e,r){_n.account.user_registration_data().then((function(r){t("SET_REGISTRATION_DATA",r.data),e(r)})).catch((function(e){r(e)}))}))},create_profile:function(e,t){var r=e.commit;return new Promise((function(e,o){_n.account.create_profile(t).then((function(t){r("GODARK"),e(t)})).catch((function(e){o(e)}))}))},update_profile:function(e,t){var r=e.commit;return new Promise((function(e,o){_n.account.update_profile(t.data,t.account_id).then((function(t){r("auth/SET_USER",t.data,{root:!0}),e(t)})).catch((function(e){o(e)}))}))},change_password:function(e,t){var r=e.commit;return new Promise((function(e,o){_n.account.change_password(t).then((function(t){r("GODARK"),e(t)})).catch((function(e){o(e)}))}))},reset_password:function(e,t){var r=e.commit;return new Promise((function(e,o){_n.account.reset_password(t).then((function(t){r("GODARK"),e(t)})).catch((function(e){o(e)}))}))}},bn={registration_data:function(e){return e.registration_data}},kn={GODARK:function(){},SET_REGISTRATION_DATA:function(e,t){e.registration_data=t},RESET:function(e,t){e.registration_data=t}},wn={namespaced:!0,state:{registration_data:null},getters:bn,actions:gn,mutations:kn},yn=[],xn={department_activities:function(e){var t=e.commit;return new Promise((function(e,r){_n.enterprise.department_activities().then((function(r){t("account/GODARK",null,{root:!0}),e(r.data)})).catch((function(e){r(e)}))}))}},Cn={},On={},Dn={namespaced:!0,getters:Cn,actions:xn,mutations:On},jn=[],Sn={get_reports:function(e){var t=e.commit;return new Promise((function(e,r){_n.reports.get_reports().then((function(r){t("account/GODARK",null,{root:!0}),e(r.data)})).catch((function(e){r(e)}))}))},get_reports_with_url:function(e,t){var r=e.commit;return new Promise((function(e,o){_n.reports.get_reports_with_url(t).then((function(t){r("account/GODARK",null,{root:!0}),e(t.data)})).catch((function(e){o(e)}))}))},search_reports:function(e,t){var r=e.commit;return new Promise((function(e,o){_n.reports.search_reports(t).then((function(t){r("account/GODARK",null,{root:!0}),e(t.data)})).catch((function(e){o(e)}))}))},filter_reports:function(e,t){var r=e.commit;return new Promise((function(e,o){_n.reports.filter_reports(t).then((function(t){r("account/GODARK",null,{root:!0}),e(t.data)})).catch((function(e){o(e)}))}))},get_open_reports:function(e){var t=e.commit;return new Promise((function(e,r){_n.reports.get_open_reports().then((function(r){t("SET_OPEN_REPORTS",r.data),e(r.data)})).catch((function(e){r(e)}))}))},report_equipment:function(e,t){var r=e.commit;return new Promise((function(e,o){_n.reports.report_equipment(t).then((function(t){r("ADD_OPEN_REPORTS",t.data),e(t.data)})).catch((function(e){o(e)}))}))},ignore_report:function(e,t){var r=e.commit;return new Promise((function(e,o){_n.reports.ignore_report(t).then((function(o){r("REMOVE_OPEN_REPORT",t),e(o.data)})).catch((function(e){o(e.response.data)}))}))}},Vn={open_reports:function(e){return e.open_reports}},qn={SET_OPEN_REPORTS:function(e,t){e.open_reports=t},RESET:function(e){e.open_reports=null},ADD_OPEN_REPORTS:function(e,t){e.open_reports.unshift(t)},REMOVE_OPEN_REPORT:function(e,t){e.open_reports=e.open_reports.filter((function(e){return e.id!==t}))}},Pn={namespaced:!0,state:{open_reports:null},getters:Vn,actions:Sn,mutations:qn},Tn=[],En={get_workorder_choice:function(e){var t=e.commit;return new Promise((function(e,r){_n.workorder.get_workorder_choice().then((function(r){t("SET_WORKORDER_CHOICE",r.data),e(r.data)})).catch((function(e){r(e)}))}))},create_dm_workorder:function(e,t){return new Promise((function(r,o){_n.workorder.create_dm_workorder(t).then((function(t){e.commit("reports/REMOVE_OPEN_REPORT",t.data.report.id,{root:!0});var o=e.rootState.auth.user.employee_id,a=!1;for(var s in t.data.assigned_to)t.data.assigned_to[s].employee_id===o&&(a=!0);a&&e.commit("ADD_OPEN_WORKORDERS",t.data),dt.workorder_list_reload_fun&&dt.workorder_list_reload_fun(),dt.calander_reload_fun&&dt.calander_reload_fun(),r(t)})).catch((function(e){o(e)}))}))},get_workorders:function(e){var t=e.commit;return new Promise((function(e,r){_n.workorder.get_workorders().then((function(r){t("account/GODARK",null,{root:!0}),e(r.data)})).catch((function(e){r(e)}))}))},get_workorders_with_url:function(e,t){var r=e.commit;return new Promise((function(e,o){_n.workorder.get_workorders_with_url(t).then((function(t){r("account/GODARK",null,{root:!0}),e(t.data)})).catch((function(e){o(e)}))}))},search_workorders:function(e,t){var r=e.commit;return new Promise((function(e,o){_n.workorder.search_workorders(t).then((function(t){r("account/GODARK",null,{root:!0}),e(t.data)})).catch((function(e){o(e)}))}))},filter_workorders:function(e,t){var r=e.commit;return new Promise((function(e,o){_n.workorder.filter_workorders(t).then((function(t){r("account/GODARK",null,{root:!0}),e(t.data)})).catch((function(e){o(e)}))}))},get_open_Workorders:function(e){var t=e.commit;return new Promise((function(e,r){_n.workorder.get_open_Workorders().then((function(r){t("SET_OPEN_WORKORDERS",r.data),e(r.data)})).catch((function(e){r(e)}))}))},detail_workorder:function(e,t){var r=e.commit;return new Promise((function(e,o){_n.workorder.detail_workorder(t).then((function(t){r("account/GODARK",null,{root:!0}),e(t.data)})).catch((function(e){o(e)}))}))},create_work_done:function(e,t){var r=e.commit;return new Promise((function(e,o){_n.workorder.create_work_done(t).then((function(t){r("account/GODARK",null,{root:!0}),dt.open_workorder_reload_fun&&dt.open_workorder_reload_fun(),dt.workorder_list_reload_fun&&dt.workorder_list_reload_fun(),dt.workorder_equipment_detail&&dt.workorder_equipment_detail(),dt.calander_reload_fun&&dt.calander_reload_fun(),dt.pm_workorder_reload_fun&&dt.pm_workorder_reload_fun(),e(t.data)})).catch((function(e){o(e)}))}))},get_companies:function(e){var t=e.commit;return new Promise((function(e,r){_n.workorder.get_companies().then((function(r){t("SET_COMPANIES",r.data.results),e(r.data.results)})).catch((function(e){r(e)}))}))},get_equipment_parts:function(e,t){var r=e.commit;return new Promise((function(e,o){_n.workorder.get_equipment_parts(t).then((function(t){r("account/GODARK",null,{root:!0}),e(t.data)})).catch((function(e){o(e)}))}))},get_workdone_detail:function(e,t){var r=e.commit;return new Promise((function(e,o){_n.workorder.get_workdone_detail(t).then((function(t){r("account/GODARK",null,{root:!0}),e(t.data)})).catch((function(e){o(e)}))}))},getCurrentWorkOrders:function(e,t){var r=e.commit;return new Promise((function(e,o){_n.workorder.current_work_orders(t).then((function(t){r("account/GODARK",null,{root:!0}),e(t.data)})).catch((function(e){o(e)}))}))},getWorkOrdersHistory:function(e,t){var r=e.commit;return new Promise((function(e,o){_n.workorder.work_orders_history(t).then((function(t){r("account/GODARK",null,{root:!0}),e(t.data)})).catch((function(e){o(e)}))}))},getDownTimeHistory:function(e,t){var r=e.commit;return new Promise((function(e,o){_n.workorder.equipment_downtime(t).then((function(t){r("account/GODARK",null,{root:!0}),e(t.data)})).catch((function(e){o(e)}))}))},getPmWorkorder:function(e,t){var r=e.commit;return new Promise((function(e,o){_n.workorder.getPmWorkorder(t).then((function(t){r("account/GODARK",null,{root:!0}),e(t.data)})).catch((function(e){o(e)}))}))},calendar_events:function(e){var t=e.commit;return new Promise((function(e,r){_n.workorder.calendar_events().then((function(r){t("account/GODARK",null,{root:!0}),e(r.data)})).catch((function(e){r(e)}))}))},get_scheduled_workorder:function(e){var t=e.commit;return new Promise((function(e,r){_n.workorder.scheduled_workorder().then((function(r){t("account/GODARK",null,{root:!0}),e(r.data)})).catch((function(e){r(e)}))}))},search_pm_workorders:function(e,t){var r=e.commit;return new Promise((function(e,o){_n.workorder.search_pm_workorders(t).then((function(t){r("account/GODARK",null,{root:!0}),e(t.data)})).catch((function(e){o(e)}))}))},get_scheduled_workorder_with_url:function(e,t){var r=e.commit;return new Promise((function(e,o){_n.workorder.get_scheduled_workorder_with_url(t).then((function(t){r("account/GODARK",null,{root:!0}),e(t.data)})).catch((function(e){o(e)}))}))},filter_pm_workorders:function(e,t){var r=e.commit;return new Promise((function(e,o){_n.workorder.filter_pm_workorders(t).then((function(t){r("account/GODARK",null,{root:!0}),e(t.data)})).catch((function(e){o(e)}))}))},simplified_equipment_list:function(e){var t=e.commit;return new Promise((function(e,r){_n.workorder.simplified_equipment_list().then((function(r){t("account/GODARK",null,{root:!0}),e(r.data)})).catch((function(e){r(e)}))}))},create_scheduled_workorder:function(e,t){var r=e.commit;return new Promise((function(e,o){_n.workorder.create_scheduled_workorder(t).then((function(t){r("account/GODARK",null,{root:!0}),e(t.data)})).catch((function(e){o(e)}))}))},pm_detail_workorder:function(e,t){var r=e.commit;return new Promise((function(e,o){_n.workorder.pm_detail_workorder(t).then((function(t){r("account/GODARK",null,{root:!0}),e(t.data)})).catch((function(e){o(e)}))}))},change_pm_active:function(e,t){var r=e.commit;return new Promise((function(e,o){_n.workorder.change_pm_active(t).then((function(t){r("account/GODARK",null,{root:!0}),e(t.data)})).catch((function(e){o(e)}))}))},edit_pm_workorder:function(e,t){var r=e.commit;return new Promise((function(e,o){_n.workorder.edit_pm_workorder(t).then((function(t){r("account/GODARK",null,{root:!0}),e(t.data)})).catch((function(e){o(e)}))}))},up_coming_events:function(e){var t=e.commit;return new Promise((function(e,r){_n.workorder.up_coming_events().then((function(r){t("account/GODARK",null,{root:!0}),e(r.data)})).catch((function(e){r(e)}))}))}},Rn={workorder_choice:function(e){return e.workorder_choice},open_workorders:function(e){return e.open_workorders},companies:function(e){return e.companies},open_dm_workorders:function(e){return e.open_workorders.filter((function(e){return"DM"==e.workorder_type}))},open_pm_workorders:function(e){return e.open_workorders.filter((function(e){return"PM"==e.workorder_type}))}},Wn={SET_WORKORDER_CHOICE:function(e,t){e.workorder_choice=t},RESET:function(e){e.workorder_choice=null,e.open_workorders=null,e.companies=null,e.open_workorders_reload_fun=null,e.workorder_list_reload_fun=null},SET_OPEN_WORKORDERS:function(e,t){e.open_workorders=t},ADD_OPEN_WORKORDERS:function(e,t){e.open_workorders.unshift(t)},REMOVE_OPEN_WORKORDERS:function(e,t){e.open_workorders=e.open_workorders.filter((function(e){return e.id!==t}))},SET_COMPANIES:function(e,t){e.companies=t}},Ln={namespaced:!0,state:{workorder_choice:null,open_workorders:null,companies:null},getters:Rn,actions:En,mutations:Wn},An=[],Nn={auth:R,layout:ae,equipments:fn,account:wn,enterprise:Dn,reports:Pn,workorder:Ln},$n=r("bfa9");o["a"].use(c["a"]);var In=new $n["a"]({key:"keeper",storage:window.localStorage,reducer:function(e){return{auth:e.auth,account:e.account,reports:e.reports,equipments:e.equipments,workorder:e.workorder}}}),zn=new c["a"].Store({modules:Nn,state:{snackbar:{message:"",value:!1,status:"",timeout:7e3,multiline:!1}},getters:{snackbar:function(e){return e.snackbar}},mutations:{SET_SNACKBAR:function(e,t){e.snackbar.value=!1,e.snackbar.multiline=!1,e.snackbar.timeout=7e3,e.snackbar.message=null,e.snackbar.status=null,e.snackbar.message=t.message,e.snackbar.multiline=t.message.length>50,e.snackbar.value=t.value,e.snackbar.status=t.status,t.timeout&&(e.snackbar.timeout=t.timeout),t.multiline&&(e.snackbar.multiline=t.multiline)},CLOSE_SNCKBAR:function(e){e.snackbar.value=!1,e.snackbar.multiline=!1,e.snackbar.timeout=7e3,e.snackbar.message=null,e.snackbar.status=null}},plugins:[In.plugin]});function Bn(e,t,r){zn.getters["auth/loggedIn"]?r("/enterprise"):r()}function Mn(e,t,r){zn.getters["auth/loggedIn"]?r():r("/login")}function Fn(e,t,r){zn.getters["auth/isAdministrator"]?r():r("/enterprise")}function Kn(e,t,r){zn.getters["auth/isAdministrator"]||zn.getters["auth/isSupervisor"]?r():r("/equipments")}var Hn=[{path:"/login",name:"login",component:J,beforeEnter:Bn},{path:"/logout",name:"logout",component:oe,beforeEnter:Mn}],Yn=[].concat(Object(S["a"])(Hn),Object(S["a"])(nn),Object(S["a"])(hn),Object(S["a"])(yn),Object(S["a"])(jn),Object(S["a"])(Tn),Object(S["a"])(An));o["a"].use(j["a"]);var Un=[{path:"*",redirect:"/login"}],Gn=Un.concat(Yn),Qn=new j["a"]({mode:"history",routes:Gn,linkActiveClass:"is-active",linkExactActiveClass:"is-exact-active",scrollBehavior:function(){return{x:0,y:0}}}),Jn=Qn,Zn=(r("1f54"),r("f309"));o["a"].use(Zn["a"]);var Xn=new Zn["a"]({icons:{iconfont:"fa4"}});o["a"].config.productionTip=!1;var ei="The .native modifier for v-on is only valid on components but it was used on <div>.";o["a"].config.warnHandler=function(e,t,r){e!==ei&&console.error("[Vue warn]: "+e+r)},new o["a"]({router:Jn,store:zn,vuetify:Xn,render:function(e){return e(D)},created:function(){var e=this;cn.interceptors.response.use(void 0,(function(t){return new Promise((function(){if(401!==t.response.status||!t.config||t.config.__isRetryRequest)throw t;e.$store.dispatch("auth/logout"),e.$router.push({name:"logout"})}))}))}}).$mount("#app")},"66b5":function(e,t,r){"use strict";var o=r("514a"),a=r.n(o);a.a},"6a01":function(e,t,r){"use strict";var o=r("b03d"),a=r.n(o);a.a},"6ad5":function(e,t,r){"use strict";var o=r("c550"),a=r.n(o);a.a},"6fe7":function(e,t,r){},"742a":function(e,t,r){"use strict";var o=r("ffb1"),a=r.n(o);a.a},7841:function(e,t,r){"use strict";var o=r("2dea"),a=r.n(o);a.a},"7a89":function(e,t,r){"use strict";var o=r("e61a"),a=r.n(o);a.a},"80b0":function(e,t,r){},"867a":function(e,t,r){"use strict";var o=r("a4a0"),a=r.n(o);a.a},"8b38":function(e,t,r){},"8c8c":function(e,t,r){"use strict";var o=r("b4aa"),a=r.n(o);a.a},9217:function(e,t,r){},9349:function(e,t,r){},"9bf5":function(e,t,r){},"9d29":function(e,t,r){},"9fb8":function(e,t,r){"use strict";var o=r("9349"),a=r.n(o);a.a},a13c:function(e,t,r){"use strict";var o=r("80b0"),a=r.n(o);a.a},a4a0:function(e,t,r){},adf7:function(e,t,r){},b03d:function(e,t,r){},b0e5:function(e,t,r){"use strict";var o=r("e69c"),a=r.n(o);a.a},b2a6:function(e,t,r){},b3bf:function(e,t,r){},b4aa:function(e,t,r){},b521:function(e,t,r){},c2e8:function(e,t,r){},c550:function(e,t,r){},c7a3:function(e,t,r){},cee6:function(e,t,r){},d26e:function(e,t,r){"use strict";var o=r("c2e8"),a=r.n(o);a.a},d2cb:function(e,t,r){"use strict";var o=r("1ebe"),a=r.n(o);a.a},d9dd:function(e,t,r){"use strict";var o=r("3a9a"),a=r.n(o);a.a},d9e7:function(e,t,r){},db21:function(e,t,r){"use strict";var o=r("4a95"),a=r.n(o);a.a},dbb47:function(e,t,r){},ded1:function(e,t,r){},e61a:function(e,t,r){},e69c:function(e,t,r){},ef57:function(e,t,r){"use strict";var o=r("ded1"),a=r.n(o);a.a},fddf:function(e,t,r){"use strict";var o=r("cee6"),a=r.n(o);a.a},ffb1:function(e,t,r){}});
//# sourceMappingURL=app.ca058a88.js.map